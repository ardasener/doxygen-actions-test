\hypertarget{cpptoml_8h_source}{}\doxysection{cpptoml.\+h}
\label{cpptoml_8h_source}\index{src/util/cpptoml.h@{src/util/cpptoml.h}}
\mbox{\hyperlink{cpptoml_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifndef CPPTOML\_H}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define CPPTOML\_H}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <clocale>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <iomanip>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{\#if \_\_cplusplus > 201103L}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#define CPPTOML\_DEPRECATED(reason) [[deprecated(reason)]]}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define CPPTOML\_DEPRECATED(reason) \_\_attribute\_\_((deprecated(reason)))}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#elif defined(\_\_GNUG\_\_)}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#define CPPTOML\_DEPRECATED(reason) \_\_attribute\_\_((deprecated))}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#if \_MSC\_VER < 1910}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#define CPPTOML\_DEPRECATED(reason) \_\_declspec(deprecated)}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define CPPTOML\_DEPRECATED(reason) [[deprecated(reason)]]}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecpptoml}{cpptoml}}}
\DoxyCodeLine{40 \{}
\DoxyCodeLine{41 \textcolor{keyword}{class }writer; \textcolor{comment}{// forward declaration}}
\DoxyCodeLine{42 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1base}{base}};   \textcolor{comment}{// forward declaration}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#if defined(CPPTOML\_USE\_MAP)}}
\DoxyCodeLine{44 \textcolor{comment}{// a std::map will ensure that entries a sorted, albeit at a slight}}
\DoxyCodeLine{45 \textcolor{comment}{// performance penalty relative to the (default) unordered\_map}}
\DoxyCodeLine{46 \textcolor{keyword}{using} \mbox{\hyperlink{namespacecpptoml_a03674e78b43e292a0846a4e9a72a438d}{string\_to\_base\_map}} = std::map<std::string, std::shared\_ptr<base>>;}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{48 \textcolor{comment}{// by default an unordered\_map is used for best performance as the}}
\DoxyCodeLine{49 \textcolor{comment}{// toml specification does not require entries to be sorted}}
\DoxyCodeLine{50 \textcolor{keyword}{using} \mbox{\hyperlink{namespacecpptoml_a03674e78b43e292a0846a4e9a72a438d}{string\_to\_base\_map}}}
\DoxyCodeLine{51     = std::unordered\_map<std::string, std::shared\_ptr<base>>;}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{comment}{// if defined, `base` will retain type information in form of an enum class}}
\DoxyCodeLine{55 \textcolor{comment}{// such that static\_cast can be used instead of dynamic\_cast}}
\DoxyCodeLine{56 \textcolor{comment}{// \#define CPPTOML\_NO\_RTTI}}
\DoxyCodeLine{57 }
\DoxyCodeLine{58 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{59 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1option}{option}}}
\DoxyCodeLine{60 \{}
\DoxyCodeLine{61   \textcolor{keyword}{public}:}
\DoxyCodeLine{62     \mbox{\hyperlink{classcpptoml_1_1option_a650485b170f84667faff4e5ccd85dc32}{option}}() : \mbox{\hyperlink{classcpptoml_1_1option_a8bc4f061e9f598aae7ff428495b88bef}{empty\_}}\{true\}}
\DoxyCodeLine{63     \{}
\DoxyCodeLine{64         \textcolor{comment}{// nothing}}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67     \mbox{\hyperlink{classcpptoml_1_1option_ab21e9036f5f6b058a2851c0cac3fcc83}{option}}(T \mbox{\hyperlink{classcpptoml_1_1value}{value}}) : \mbox{\hyperlink{classcpptoml_1_1option_a8bc4f061e9f598aae7ff428495b88bef}{empty\_}}\{false\}, \mbox{\hyperlink{classcpptoml_1_1option_aa1d95f351951e99473247e8dc0e4162d}{value\_}}(std::move(\mbox{\hyperlink{classcpptoml_1_1value}{value}}))}
\DoxyCodeLine{68     \{}
\DoxyCodeLine{69         \textcolor{comment}{// nothing}}
\DoxyCodeLine{70     \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keyword}{explicit} \textcolor{keyword}{operator} bool()\textcolor{keyword}{ const}}
\DoxyCodeLine{73 \textcolor{keyword}{    }\{}
\DoxyCodeLine{74         \textcolor{keywordflow}{return} !\mbox{\hyperlink{classcpptoml_1_1option_a8bc4f061e9f598aae7ff428495b88bef}{empty\_}};}
\DoxyCodeLine{75     \}}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \textcolor{keyword}{const} T\& \mbox{\hyperlink{classcpptoml_1_1option_aa1d0b5f5aa2713e646585d430ac8eb26}{operator*}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{78 \textcolor{keyword}{    }\{}
\DoxyCodeLine{79         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1option_aa1d95f351951e99473247e8dc0e4162d}{value\_}};}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{keyword}{const} T* \mbox{\hyperlink{classcpptoml_1_1option_a57d0f6fc22b09b4fff3b69550a88eac1}{operator-\/>}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{83 \textcolor{keyword}{    }\{}
\DoxyCodeLine{84         \textcolor{keywordflow}{return} \&\mbox{\hyperlink{classcpptoml_1_1option_aa1d95f351951e99473247e8dc0e4162d}{value\_}};}
\DoxyCodeLine{85     \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{keyword}{template} <\textcolor{keyword}{class} U>}
\DoxyCodeLine{88     T \mbox{\hyperlink{classcpptoml_1_1option_ad7bded71dd0d2d337503a779957aabb9}{value\_or}}(U\&\& alternative)\textcolor{keyword}{ const}}
\DoxyCodeLine{89 \textcolor{keyword}{    }\{}
\DoxyCodeLine{90         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcpptoml_1_1option_a8bc4f061e9f598aae7ff428495b88bef}{empty\_}})}
\DoxyCodeLine{91             \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1option_aa1d95f351951e99473247e8dc0e4162d}{value\_}};}
\DoxyCodeLine{92         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(std::forward<U>(alternative));}
\DoxyCodeLine{93     \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{keyword}{private}:}
\DoxyCodeLine{96     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1option_a8bc4f061e9f598aae7ff428495b88bef}{empty\_}};}
\DoxyCodeLine{97     T \mbox{\hyperlink{classcpptoml_1_1option_aa1d95f351951e99473247e8dc0e4162d}{value\_}};}
\DoxyCodeLine{98 \};}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}}}
\DoxyCodeLine{101 \{}
\DoxyCodeLine{102     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__date_aa21b4ec36600ce2bb4c650925e440146}{year}} = 0;}
\DoxyCodeLine{103     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__date_aa86f8935fcfb89109e8e59d48d49f2d7}{month}} = 0;}
\DoxyCodeLine{104     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__date_acc59662ee9e5ace97d7612467baebd76}{day}} = 0;}
\DoxyCodeLine{105 \};}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}}
\DoxyCodeLine{108 \{}
\DoxyCodeLine{109     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__time_a261a26eb10216811a538d4e122848597}{hour}} = 0;}
\DoxyCodeLine{110     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__time_abad08803a0c30581e3df52aff66c72e7}{minute}} = 0;}
\DoxyCodeLine{111     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__time_ae23fde96b215655c18d4284541a3ee0e}{second}} = 0;}
\DoxyCodeLine{112     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1local__time_ac6ed91de8052450d339f4e2d6b9cf26b}{microsecond}} = 0;}
\DoxyCodeLine{113 \};}
\DoxyCodeLine{114 }
\DoxyCodeLine{115 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1zone__offset}{zone\_offset}}}
\DoxyCodeLine{116 \{}
\DoxyCodeLine{117     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}} = 0;}
\DoxyCodeLine{118     \textcolor{keywordtype}{int} \mbox{\hyperlink{structcpptoml_1_1zone__offset_a7052bd8b785384cf608d5b7fc499cb34}{minute\_offset}} = 0;}
\DoxyCodeLine{119 \};}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}} : \mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}}, \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}}
\DoxyCodeLine{122 \{}
\DoxyCodeLine{123 \};}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} : \mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}}, \mbox{\hyperlink{structcpptoml_1_1zone__offset}{zone\_offset}}}
\DoxyCodeLine{126 \{}
\DoxyCodeLine{127     \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} \mbox{\hyperlink{structcpptoml_1_1offset__datetime_a097c0283449a3962de152d608cdc2428}{from\_zoned}}(const struct tm\& t)}
\DoxyCodeLine{128     \{}
\DoxyCodeLine{129         \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} dt;}
\DoxyCodeLine{130         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa21b4ec36600ce2bb4c650925e440146}{year}} = t.tm\_year + 1900;}
\DoxyCodeLine{131         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa86f8935fcfb89109e8e59d48d49f2d7}{month}} = t.tm\_mon + 1;}
\DoxyCodeLine{132         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_acc59662ee9e5ace97d7612467baebd76}{day}} = t.tm\_mday;}
\DoxyCodeLine{133         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_a261a26eb10216811a538d4e122848597}{hour}} = t.tm\_hour;}
\DoxyCodeLine{134         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_abad08803a0c30581e3df52aff66c72e7}{minute}} = t.tm\_min;}
\DoxyCodeLine{135         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_ae23fde96b215655c18d4284541a3ee0e}{second}} = t.tm\_sec;}
\DoxyCodeLine{136 }
\DoxyCodeLine{137         \textcolor{keywordtype}{char} buf[16];}
\DoxyCodeLine{138         strftime(buf, 16, \textcolor{stringliteral}{"{}\%z"{}}, \&t);}
\DoxyCodeLine{139 }
\DoxyCodeLine{140         \textcolor{keywordtype}{int} offset = std::stoi(buf);}
\DoxyCodeLine{141         dt.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}} = offset / 100;}
\DoxyCodeLine{142         dt.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a7052bd8b785384cf608d5b7fc499cb34}{minute\_offset}} = offset \% 100;}
\DoxyCodeLine{143         \textcolor{keywordflow}{return} dt;}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     CPPTOML\_DEPRECATED(\textcolor{stringliteral}{"{}from\_local has been renamed to from\_zoned"{}})}
\DoxyCodeLine{147     static inline struct \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} \mbox{\hyperlink{structcpptoml_1_1offset__datetime_a12f3e05659280f8ef51f85f2ba81f86f}{from\_local}}(const struct tm\& t)}
\DoxyCodeLine{148     \{}
\DoxyCodeLine{149         \textcolor{keywordflow}{return} \mbox{\hyperlink{structcpptoml_1_1offset__datetime_a097c0283449a3962de152d608cdc2428}{from\_zoned}}(t);}
\DoxyCodeLine{150     \}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152     \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} \mbox{\hyperlink{structcpptoml_1_1offset__datetime_a3200600707b9ad0c074d65c1c82ec519}{from\_utc}}(const struct tm\& t)}
\DoxyCodeLine{153     \{}
\DoxyCodeLine{154         \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} dt;}
\DoxyCodeLine{155         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa21b4ec36600ce2bb4c650925e440146}{year}} = t.tm\_year + 1900;}
\DoxyCodeLine{156         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa86f8935fcfb89109e8e59d48d49f2d7}{month}} = t.tm\_mon + 1;}
\DoxyCodeLine{157         dt.\mbox{\hyperlink{structcpptoml_1_1local__date_acc59662ee9e5ace97d7612467baebd76}{day}} = t.tm\_mday;}
\DoxyCodeLine{158         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_a261a26eb10216811a538d4e122848597}{hour}} = t.tm\_hour;}
\DoxyCodeLine{159         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_abad08803a0c30581e3df52aff66c72e7}{minute}} = t.tm\_min;}
\DoxyCodeLine{160         dt.\mbox{\hyperlink{structcpptoml_1_1local__time_ae23fde96b215655c18d4284541a3ee0e}{second}} = t.tm\_sec;}
\DoxyCodeLine{161         \textcolor{keywordflow}{return} dt;}
\DoxyCodeLine{162     \}}
\DoxyCodeLine{163 \};}
\DoxyCodeLine{164 }
\DoxyCodeLine{165 CPPTOML\_DEPRECATED(\textcolor{stringliteral}{"{}datetime has been renamed to offset\_datetime"{}})}
\DoxyCodeLine{166 typedef \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{datetime}};}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 class \mbox{\hyperlink{classcpptoml_1_1fill__guard}{fill\_guard}}}
\DoxyCodeLine{169 \{}
\DoxyCodeLine{170   \textcolor{keyword}{public}:}
\DoxyCodeLine{171     \mbox{\hyperlink{classcpptoml_1_1fill__guard_acf37cb5f06fafb3a5c797da219dbfee0}{fill\_guard}}(std::ostream\& os) : os\_(os), fill\_\{os.fill()\}}
\DoxyCodeLine{172     \{}
\DoxyCodeLine{173         \textcolor{comment}{// nothing}}
\DoxyCodeLine{174     \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176     \mbox{\hyperlink{classcpptoml_1_1fill__guard_a73d20da4ff742f09ff38472c820f80e9}{\string~fill\_guard}}()}
\DoxyCodeLine{177     \{}
\DoxyCodeLine{178         os\_.fill(fill\_);}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181   \textcolor{keyword}{private}:}
\DoxyCodeLine{182     std::ostream\& \mbox{\hyperlink{classcpptoml_1_1fill__guard_ab0f734b06d96ae33735ce8047d8bd70e}{os\_}};}
\DoxyCodeLine{183     std::ostream::char\_type \mbox{\hyperlink{classcpptoml_1_1fill__guard_a5cad988ca8a9b7b53bae4beb4ff335c5}{fill\_}};}
\DoxyCodeLine{184 \};}
\DoxyCodeLine{185 }
\DoxyCodeLine{186 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a867f235d3051ecc86147e9776dbf7280}{operator<<}}(std::ostream\& os, \textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}}\& dt)}
\DoxyCodeLine{187 \{}
\DoxyCodeLine{188     \mbox{\hyperlink{classcpptoml_1_1fill__guard}{fill\_guard}} g\{os\};}
\DoxyCodeLine{189     os.fill(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{190 }
\DoxyCodeLine{191     \textcolor{keyword}{using} std::setw;}
\DoxyCodeLine{192     os << setw(4) << dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa21b4ec36600ce2bb4c650925e440146}{year}} << \textcolor{stringliteral}{"{}-\/"{}} << setw(2) << dt.\mbox{\hyperlink{structcpptoml_1_1local__date_aa86f8935fcfb89109e8e59d48d49f2d7}{month}} << \textcolor{stringliteral}{"{}-\/"{}} << setw(2)}
\DoxyCodeLine{193        << dt.\mbox{\hyperlink{structcpptoml_1_1local__date_acc59662ee9e5ace97d7612467baebd76}{day}};}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{196 \}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a867f235d3051ecc86147e9776dbf7280}{operator<<}}(std::ostream\& os, \textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}\& ltime)}
\DoxyCodeLine{199 \{}
\DoxyCodeLine{200     \mbox{\hyperlink{classcpptoml_1_1fill__guard}{fill\_guard}} g\{os\};}
\DoxyCodeLine{201     os.fill(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{202 }
\DoxyCodeLine{203     \textcolor{keyword}{using} std::setw;}
\DoxyCodeLine{204     os << setw(2) << ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_a261a26eb10216811a538d4e122848597}{hour}} << \textcolor{stringliteral}{"{}:"{}} << setw(2) << ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_abad08803a0c30581e3df52aff66c72e7}{minute}} << \textcolor{stringliteral}{"{}:"{}}}
\DoxyCodeLine{205        << setw(2) << ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_ae23fde96b215655c18d4284541a3ee0e}{second}};}
\DoxyCodeLine{206 }
\DoxyCodeLine{207     \textcolor{keywordflow}{if} (ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_ac6ed91de8052450d339f4e2d6b9cf26b}{microsecond}} > 0)}
\DoxyCodeLine{208     \{}
\DoxyCodeLine{209         os << \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{210         \textcolor{keywordtype}{int} power = 100000;}
\DoxyCodeLine{211         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} curr\_us = ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_ac6ed91de8052450d339f4e2d6b9cf26b}{microsecond}}; curr\_us; power /= 10)}
\DoxyCodeLine{212         \{}
\DoxyCodeLine{213             \textcolor{keyword}{auto} num = curr\_us / power;}
\DoxyCodeLine{214             os << num;}
\DoxyCodeLine{215             curr\_us -\/= num * power;}
\DoxyCodeLine{216         \}}
\DoxyCodeLine{217     \}}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{220 \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a867f235d3051ecc86147e9776dbf7280}{operator<<}}(std::ostream\& os, \textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1zone__offset}{zone\_offset}}\& zo)}
\DoxyCodeLine{223 \{}
\DoxyCodeLine{224     \mbox{\hyperlink{classcpptoml_1_1fill__guard}{fill\_guard}} g\{os\};}
\DoxyCodeLine{225     os.fill(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{226 }
\DoxyCodeLine{227     \textcolor{keyword}{using} std::setw;}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     \textcolor{keywordflow}{if} (zo.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}} != 0 || zo.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a7052bd8b785384cf608d5b7fc499cb34}{minute\_offset}} != 0)}
\DoxyCodeLine{230     \{}
\DoxyCodeLine{231         \textcolor{keywordflow}{if} (zo.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}} > 0)}
\DoxyCodeLine{232         \{}
\DoxyCodeLine{233             os << \textcolor{stringliteral}{"{}+"{}};}
\DoxyCodeLine{234         \}}
\DoxyCodeLine{235         \textcolor{keywordflow}{else}}
\DoxyCodeLine{236         \{}
\DoxyCodeLine{237             os << \textcolor{stringliteral}{"{}-\/"{}};}
\DoxyCodeLine{238         \}}
\DoxyCodeLine{239         os << setw(2) << std::abs(zo.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}}) << \textcolor{stringliteral}{"{}:"{}} << setw(2)}
\DoxyCodeLine{240            << std::abs(zo.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a7052bd8b785384cf608d5b7fc499cb34}{minute\_offset}});}
\DoxyCodeLine{241     \}}
\DoxyCodeLine{242     \textcolor{keywordflow}{else}}
\DoxyCodeLine{243     \{}
\DoxyCodeLine{244         os << \textcolor{stringliteral}{"{}Z"{}};}
\DoxyCodeLine{245     \}}
\DoxyCodeLine{246 }
\DoxyCodeLine{247     \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{248 \}}
\DoxyCodeLine{249 }
\DoxyCodeLine{250 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a867f235d3051ecc86147e9776dbf7280}{operator<<}}(std::ostream\& os, \textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}}\& dt)}
\DoxyCodeLine{251 \{}
\DoxyCodeLine{252     \textcolor{keywordflow}{return} os << static\_cast<const local\_date\&>(dt) << \textcolor{stringliteral}{"{}T"{}}}
\DoxyCodeLine{253               << \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}\&\textcolor{keyword}{>}(dt);}
\DoxyCodeLine{254 \}}
\DoxyCodeLine{255 }
\DoxyCodeLine{256 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a867f235d3051ecc86147e9776dbf7280}{operator<<}}(std::ostream\& os, \textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}}\& dt)}
\DoxyCodeLine{257 \{}
\DoxyCodeLine{258     \textcolor{keywordflow}{return} os << static\_cast<const local\_datetime\&>(dt)}
\DoxyCodeLine{259               << \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{structcpptoml_1_1zone__offset}{zone\_offset}}\&\textcolor{keyword}{>}(dt);}
\DoxyCodeLine{260 \}}
\DoxyCodeLine{261 }
\DoxyCodeLine{262 \textcolor{keyword}{template} <\textcolor{keyword}{class }T, \textcolor{keyword}{class}... Ts>}
\DoxyCodeLine{263 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}};}
\DoxyCodeLine{264 }
\DoxyCodeLine{265 \textcolor{keyword}{template} <\textcolor{keyword}{class} T, \textcolor{keyword}{class} V>}
\DoxyCodeLine{266 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}}<T, V> : std::is\_same<T, V>}
\DoxyCodeLine{267 \{}
\DoxyCodeLine{268 \};}
\DoxyCodeLine{269 }
\DoxyCodeLine{270 \textcolor{keyword}{template} <\textcolor{keyword}{class }T, \textcolor{keyword}{class }V, \textcolor{keyword}{class}... Ts>}
\DoxyCodeLine{271 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}}<T, V, Ts...>}
\DoxyCodeLine{272 \{}
\DoxyCodeLine{273     \textcolor{keyword}{const} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1value}{value}}}
\DoxyCodeLine{274         = std::is\_same<T, V>::value || \mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}}<T, Ts...>\mbox{\hyperlink{classcpptoml_1_1value}{::value}};}
\DoxyCodeLine{275 \};}
\DoxyCodeLine{276 }
\DoxyCodeLine{277 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{278 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1value}{value}};}
\DoxyCodeLine{279 }
\DoxyCodeLine{280 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{281 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1valid__value}{valid\_value}}}
\DoxyCodeLine{282     : \mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}}<T, std::string, int64\_t, double, bool, local\_date, local\_time,}
\DoxyCodeLine{283                 local\_datetime, offset\_datetime>}
\DoxyCodeLine{284 \{}
\DoxyCodeLine{285 \};}
\DoxyCodeLine{286 }
\DoxyCodeLine{287 \textcolor{keyword}{template} <\textcolor{keyword}{class} T, \textcolor{keyword}{class} Enable = \textcolor{keywordtype}{void}>}
\DoxyCodeLine{288 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits}};}
\DoxyCodeLine{289 }
\DoxyCodeLine{290 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{291 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1valid__value__or__string__convertible}{valid\_value\_or\_string\_convertible}}}
\DoxyCodeLine{292 \{}
\DoxyCodeLine{293 }
\DoxyCodeLine{294     \textcolor{keyword}{const} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \mbox{\hyperlink{structcpptoml_1_1valid__value}{valid\_value<typename std::decay<T>::type}}>\mbox{\hyperlink{classcpptoml_1_1value}{::value}}}
\DoxyCodeLine{295                               || std::is\_convertible<T, std::string>::value;}
\DoxyCodeLine{296 \};}
\DoxyCodeLine{297 }
\DoxyCodeLine{298 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{299 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits}}<T, typename std::enable\_if<}
\DoxyCodeLine{300                            valid\_value\_or\_string\_convertible<T>::value>\mbox{\hyperlink{classcpptoml_1_1value}{::type}}>}
\DoxyCodeLine{301 \{}
\DoxyCodeLine{302     \textcolor{keyword}{using} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01valid__value__or__stra375cc5033de098f53c6e03c50d53fff_aef4327fd397b82ad96d0df3533ebcca1}{value\_type}} = \textcolor{keyword}{typename} std::conditional<}
\DoxyCodeLine{303         \mbox{\hyperlink{structcpptoml_1_1valid__value}{valid\_value<typename std::decay<T>::type}}>\mbox{\hyperlink{classcpptoml_1_1value}{::value}},}
\DoxyCodeLine{304         \textcolor{keyword}{typename} std::decay<T>::type, std::string>\mbox{\hyperlink{classcpptoml_1_1value}{::type}};}
\DoxyCodeLine{305 }
\DoxyCodeLine{306     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1value}{type}} = \mbox{\hyperlink{classcpptoml_1_1value}{value<value\_type>}};}
\DoxyCodeLine{307 }
\DoxyCodeLine{308     \textcolor{keyword}{static} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01valid__value__or__stra375cc5033de098f53c6e03c50d53fff_aef4327fd397b82ad96d0df3533ebcca1}{value\_type}} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01valid__value__or__stra375cc5033de098f53c6e03c50d53fff_ae88d52385c00fe76d8036330b8742a89}{construct}}(T\&\& val)}
\DoxyCodeLine{309     \{}
\DoxyCodeLine{310         \textcolor{keywordflow}{return} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01valid__value__or__stra375cc5033de098f53c6e03c50d53fff_aef4327fd397b82ad96d0df3533ebcca1}{value\_type}}(val);}
\DoxyCodeLine{311     \}}
\DoxyCodeLine{312 \};}
\DoxyCodeLine{313 }
\DoxyCodeLine{314 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{315 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits}}<}
\DoxyCodeLine{316     T,}
\DoxyCodeLine{317     typename std::enable\_if<}
\DoxyCodeLine{318         !valid\_value\_or\_string\_convertible<T>::value}
\DoxyCodeLine{319         \&\& std::is\_floating\_point<typename std::decay<T>::type>::value>\mbox{\hyperlink{classcpptoml_1_1value}{::type}}>}
\DoxyCodeLine{320 \{}
\DoxyCodeLine{321     \textcolor{keyword}{using} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s1e308310cdfd07a80412c8fa63f75931_ae32de9b933056922ac92fb001614815f}{value\_type}} = \textcolor{keyword}{typename} std::decay<T>::type;}
\DoxyCodeLine{322 }
\DoxyCodeLine{323     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1value}{type}} = \mbox{\hyperlink{classcpptoml_1_1value}{value<double>}};}
\DoxyCodeLine{324 }
\DoxyCodeLine{325     \textcolor{keyword}{static} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s1e308310cdfd07a80412c8fa63f75931_ae32de9b933056922ac92fb001614815f}{value\_type}} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s1e308310cdfd07a80412c8fa63f75931_aa14fb66f193acf7bc82d56371a157e95}{construct}}(T\&\& val)}
\DoxyCodeLine{326     \{}
\DoxyCodeLine{327         \textcolor{keywordflow}{return} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s1e308310cdfd07a80412c8fa63f75931_ae32de9b933056922ac92fb001614815f}{value\_type}}(val);}
\DoxyCodeLine{328     \}}
\DoxyCodeLine{329 \};}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{332 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits}}<}
\DoxyCodeLine{333     T, typename std::enable\_if<}
\DoxyCodeLine{334            !valid\_value\_or\_string\_convertible<T>::value}
\DoxyCodeLine{335            \&\& !std::is\_floating\_point<typename std::decay<T>::type>::value}
\DoxyCodeLine{336            \&\& std::is\_signed<typename std::decay<T>::type>::value>\mbox{\hyperlink{classcpptoml_1_1value}{::type}}>}
\DoxyCodeLine{337 \{}
\DoxyCodeLine{338     \textcolor{keyword}{using} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s9b2e18cd3ba579a2d4644de45287dd7a_afe467fae899437c96ab2124389301cbe}{value\_type}} = int64\_t;}
\DoxyCodeLine{339 }
\DoxyCodeLine{340     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1value}{type}} = \mbox{\hyperlink{classcpptoml_1_1value}{value<int64\_t>}};}
\DoxyCodeLine{341 }
\DoxyCodeLine{342     \textcolor{keyword}{static} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s9b2e18cd3ba579a2d4644de45287dd7a_afe467fae899437c96ab2124389301cbe}{value\_type}} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s9b2e18cd3ba579a2d4644de45287dd7a_a702df49604e9dace2163c36fc4488a1d}{construct}}(T\&\& val)}
\DoxyCodeLine{343     \{}
\DoxyCodeLine{344         \textcolor{keywordflow}{if} (val < (std::numeric\_limits<int64\_t>::min)())}
\DoxyCodeLine{345             \textcolor{keywordflow}{throw} std::underflow\_error\{\textcolor{stringliteral}{"{}constructed value cannot be "{}}}
\DoxyCodeLine{346                                        \textcolor{stringliteral}{"{}represented by a 64-\/bit signed "{}}}
\DoxyCodeLine{347                                        \textcolor{stringliteral}{"{}integer"{}}\};}
\DoxyCodeLine{348 }
\DoxyCodeLine{349         \textcolor{keywordflow}{if} (val > (std::numeric\_limits<int64\_t>::max)())}
\DoxyCodeLine{350             \textcolor{keywordflow}{throw} std::overflow\_error\{\textcolor{stringliteral}{"{}constructed value cannot be represented "{}}}
\DoxyCodeLine{351                                       \textcolor{stringliteral}{"{}by a 64-\/bit signed integer"{}}\};}
\DoxyCodeLine{352 }
\DoxyCodeLine{353         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(val);}
\DoxyCodeLine{354     \}}
\DoxyCodeLine{355 \};}
\DoxyCodeLine{356 }
\DoxyCodeLine{357 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{358 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits}}<}
\DoxyCodeLine{359     T, typename std::enable\_if<}
\DoxyCodeLine{360            !valid\_value\_or\_string\_convertible<T>::value}
\DoxyCodeLine{361            \&\& std::is\_unsigned<typename std::decay<T>::type>::value>\mbox{\hyperlink{classcpptoml_1_1value}{::type}}>}
\DoxyCodeLine{362 \{}
\DoxyCodeLine{363     \textcolor{keyword}{using} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s91114b098713f1123ab43d92eb8e53bc_a00089130988119c5e25dd4515fa8f0ec}{value\_type}} = int64\_t;}
\DoxyCodeLine{364 }
\DoxyCodeLine{365     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1value}{type}} = \mbox{\hyperlink{classcpptoml_1_1value}{value<int64\_t>}};}
\DoxyCodeLine{366 }
\DoxyCodeLine{367     \textcolor{keyword}{static} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s91114b098713f1123ab43d92eb8e53bc_a00089130988119c5e25dd4515fa8f0ec}{value\_type}} \mbox{\hyperlink{structcpptoml_1_1value__traits_3_01T_00_01typename_01std_1_1enable__if_3_01_9valid__value__or__s91114b098713f1123ab43d92eb8e53bc_aaad688c58cc0b000a196932d5d390ec9}{construct}}(T\&\& val)}
\DoxyCodeLine{368     \{}
\DoxyCodeLine{369         \textcolor{keywordflow}{if} (val > \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}((std::numeric\_limits<int64\_t>::max)()))}
\DoxyCodeLine{370             \textcolor{keywordflow}{throw} std::overflow\_error\{\textcolor{stringliteral}{"{}constructed value cannot be represented "{}}}
\DoxyCodeLine{371                                       \textcolor{stringliteral}{"{}by a 64-\/bit signed integer"{}}\};}
\DoxyCodeLine{372 }
\DoxyCodeLine{373         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(val);}
\DoxyCodeLine{374     \}}
\DoxyCodeLine{375 \};}
\DoxyCodeLine{376 }
\DoxyCodeLine{377 \textcolor{keyword}{class }array;}
\DoxyCodeLine{378 \textcolor{keyword}{class }table;}
\DoxyCodeLine{379 \textcolor{keyword}{class }table\_array;}
\DoxyCodeLine{380 }
\DoxyCodeLine{381 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{382 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1array__of__trait}{array\_of\_trait}}}
\DoxyCodeLine{383 \{}
\DoxyCodeLine{384     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1option}{return\_type}} = \mbox{\hyperlink{classcpptoml_1_1option}{option<std::vector<T>}}>;}
\DoxyCodeLine{385 \};}
\DoxyCodeLine{386 }
\DoxyCodeLine{387 \textcolor{keyword}{template} <>}
\DoxyCodeLine{388 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1array__of__trait}{array\_of\_trait}}<\mbox{\hyperlink{classcpptoml_1_1array}{array}}>}
\DoxyCodeLine{389 \{}
\DoxyCodeLine{390     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1option}{return\_type}} = \mbox{\hyperlink{classcpptoml_1_1option}{option<std::vector<std::shared\_ptr<array>}}>>;}
\DoxyCodeLine{391 \};}
\DoxyCodeLine{392 }
\DoxyCodeLine{393 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{394 \textcolor{keyword}{inline} std::shared\_ptr<typename value\_traits<T>::type> \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(T\&\& val);}
\DoxyCodeLine{395 \textcolor{keyword}{inline} std::shared\_ptr<array> \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}();}
\DoxyCodeLine{396 }
\DoxyCodeLine{397 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{398 \{}
\DoxyCodeLine{399 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{400 \textcolor{keyword}{inline} std::shared\_ptr<T> \mbox{\hyperlink{namespacecpptoml_1_1detail_a9e19df1f9274770bc2c4071e9fc8a4d1}{make\_element}}();}
\DoxyCodeLine{401 \}}
\DoxyCodeLine{402 }
\DoxyCodeLine{403 \textcolor{keyword}{inline} std::shared\_ptr<table> \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{404 \textcolor{keyword}{inline} std::shared\_ptr<table\_array> \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}(\textcolor{keywordtype}{bool} is\_inline = \textcolor{keyword}{false});}
\DoxyCodeLine{405 }
\DoxyCodeLine{406 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{408 \textcolor{keyword}{enum class} base\_type}
\DoxyCodeLine{409 \{}
\DoxyCodeLine{410     NONE,}
\DoxyCodeLine{411     STRING,}
\DoxyCodeLine{412     LOCAL\_TIME,}
\DoxyCodeLine{413     LOCAL\_DATE,}
\DoxyCodeLine{414     LOCAL\_DATETIME,}
\DoxyCodeLine{415     OFFSET\_DATETIME,}
\DoxyCodeLine{416     INT,}
\DoxyCodeLine{417     FLOAT,}
\DoxyCodeLine{418     BOOL,}
\DoxyCodeLine{419     TABLE,}
\DoxyCodeLine{420     ARRAY,}
\DoxyCodeLine{421     TABLE\_ARRAY}
\DoxyCodeLine{422 \};}
\DoxyCodeLine{423 }
\DoxyCodeLine{425 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{426 \textcolor{keyword}{struct }base\_type\_traits;}
\DoxyCodeLine{427 }
\DoxyCodeLine{428 \textcolor{keyword}{template} <>}
\DoxyCodeLine{429 \textcolor{keyword}{struct }base\_type\_traits<std::string>}
\DoxyCodeLine{430 \{}
\DoxyCodeLine{431     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::STRING;}
\DoxyCodeLine{432 \};}
\DoxyCodeLine{433 }
\DoxyCodeLine{434 \textcolor{keyword}{template} <>}
\DoxyCodeLine{435 \textcolor{keyword}{struct }base\_type\_traits<local\_time>}
\DoxyCodeLine{436 \{}
\DoxyCodeLine{437     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::LOCAL\_TIME;}
\DoxyCodeLine{438 \};}
\DoxyCodeLine{439 }
\DoxyCodeLine{440 \textcolor{keyword}{template} <>}
\DoxyCodeLine{441 \textcolor{keyword}{struct }base\_type\_traits<local\_date>}
\DoxyCodeLine{442 \{}
\DoxyCodeLine{443     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::LOCAL\_DATE;}
\DoxyCodeLine{444 \};}
\DoxyCodeLine{445 }
\DoxyCodeLine{446 \textcolor{keyword}{template} <>}
\DoxyCodeLine{447 \textcolor{keyword}{struct }base\_type\_traits<local\_datetime>}
\DoxyCodeLine{448 \{}
\DoxyCodeLine{449     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::LOCAL\_DATETIME;}
\DoxyCodeLine{450 \};}
\DoxyCodeLine{451 }
\DoxyCodeLine{452 \textcolor{keyword}{template} <>}
\DoxyCodeLine{453 \textcolor{keyword}{struct }base\_type\_traits<offset\_datetime>}
\DoxyCodeLine{454 \{}
\DoxyCodeLine{455     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::OFFSET\_DATETIME;}
\DoxyCodeLine{456 \};}
\DoxyCodeLine{457 }
\DoxyCodeLine{458 \textcolor{keyword}{template} <>}
\DoxyCodeLine{459 \textcolor{keyword}{struct }base\_type\_traits<int64\_t>}
\DoxyCodeLine{460 \{}
\DoxyCodeLine{461     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::INT;}
\DoxyCodeLine{462 \};}
\DoxyCodeLine{463 }
\DoxyCodeLine{464 \textcolor{keyword}{template} <>}
\DoxyCodeLine{465 \textcolor{keyword}{struct }base\_type\_traits<double>}
\DoxyCodeLine{466 \{}
\DoxyCodeLine{467     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::FLOAT;}
\DoxyCodeLine{468 \};}
\DoxyCodeLine{469 }
\DoxyCodeLine{470 \textcolor{keyword}{template} <>}
\DoxyCodeLine{471 \textcolor{keyword}{struct }base\_type\_traits<bool>}
\DoxyCodeLine{472 \{}
\DoxyCodeLine{473     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::BOOL;}
\DoxyCodeLine{474 \};}
\DoxyCodeLine{475 }
\DoxyCodeLine{476 \textcolor{keyword}{template} <>}
\DoxyCodeLine{477 \textcolor{keyword}{struct }base\_type\_traits<table>}
\DoxyCodeLine{478 \{}
\DoxyCodeLine{479     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::TABLE;}
\DoxyCodeLine{480 \};}
\DoxyCodeLine{481 }
\DoxyCodeLine{482 \textcolor{keyword}{template} <>}
\DoxyCodeLine{483 \textcolor{keyword}{struct }base\_type\_traits<array>}
\DoxyCodeLine{484 \{}
\DoxyCodeLine{485     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::ARRAY;}
\DoxyCodeLine{486 \};}
\DoxyCodeLine{487 }
\DoxyCodeLine{488 \textcolor{keyword}{template} <>}
\DoxyCodeLine{489 \textcolor{keyword}{struct }base\_type\_traits<table\_array>}
\DoxyCodeLine{490 \{}
\DoxyCodeLine{491     \textcolor{keyword}{static} \textcolor{keyword}{const} base\_type type = base\_type::TABLE\_ARRAY;}
\DoxyCodeLine{492 \};}
\DoxyCodeLine{493 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{494 }
\DoxyCodeLine{498 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1base}{base}} : \textcolor{keyword}{public} std::enable\_shared\_from\_this<base>}
\DoxyCodeLine{499 \{}
\DoxyCodeLine{500   \textcolor{keyword}{public}:}
\DoxyCodeLine{501     \textcolor{keyword}{virtual} \mbox{\hyperlink{classcpptoml_1_1base_a0baca404e3861bb08758d752f466fef7}{\string~base}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{502 }
\DoxyCodeLine{503     \textcolor{keyword}{virtual} std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1base_a13bf42705f5a3cc6fc371fc9132f2e4a}{clone}}() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{504 }
\DoxyCodeLine{508     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1base_a0a18268ac5c68c72ce8316c995bd7f1f}{is\_value}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{509 \textcolor{keyword}{    }\{}
\DoxyCodeLine{510         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{511     \}}
\DoxyCodeLine{512 }
\DoxyCodeLine{516     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1base_ae46f5eaebc2a0d829f94b0ddca425cf2}{is\_table}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{517 \textcolor{keyword}{    }\{}
\DoxyCodeLine{518         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{519     \}}
\DoxyCodeLine{520 }
\DoxyCodeLine{524     std::shared\_ptr<table> \mbox{\hyperlink{classcpptoml_1_1base_a02b95485d39ab9c8e647db63e69a49f3}{as\_table}}()}
\DoxyCodeLine{525     \{}
\DoxyCodeLine{526         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcpptoml_1_1base_ae46f5eaebc2a0d829f94b0ddca425cf2}{is\_table}}())}
\DoxyCodeLine{527             \textcolor{keywordflow}{return} std::static\_pointer\_cast<table>(shared\_from\_this());}
\DoxyCodeLine{528         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{529     \}}
\DoxyCodeLine{533     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1base_ab712507c29bfa718728700af6180cac8}{is\_array}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{534 \textcolor{keyword}{    }\{}
\DoxyCodeLine{535         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{536     \}}
\DoxyCodeLine{537 }
\DoxyCodeLine{541     std::shared\_ptr<array> \mbox{\hyperlink{classcpptoml_1_1base_ad8f9fdfeaec84bb76b57ddd783425f63}{as\_array}}()}
\DoxyCodeLine{542     \{}
\DoxyCodeLine{543         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcpptoml_1_1base_ab712507c29bfa718728700af6180cac8}{is\_array}}())}
\DoxyCodeLine{544             \textcolor{keywordflow}{return} std::static\_pointer\_cast<array>(shared\_from\_this());}
\DoxyCodeLine{545         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{546     \}}
\DoxyCodeLine{547 }
\DoxyCodeLine{551     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1base_a60d38fdd948969a939598d35490a6246}{is\_table\_array}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{552 \textcolor{keyword}{    }\{}
\DoxyCodeLine{553         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{554     \}}
\DoxyCodeLine{555 }
\DoxyCodeLine{559     std::shared\_ptr<table\_array> \mbox{\hyperlink{classcpptoml_1_1base_ab37f649ba1d9254fbad7937bd22a92d7}{as\_table\_array}}()}
\DoxyCodeLine{560     \{}
\DoxyCodeLine{561         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcpptoml_1_1base_a60d38fdd948969a939598d35490a6246}{is\_table\_array}}())}
\DoxyCodeLine{562             \textcolor{keywordflow}{return} std::static\_pointer\_cast<table\_array>(shared\_from\_this());}
\DoxyCodeLine{563         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{564     \}}
\DoxyCodeLine{565 }
\DoxyCodeLine{570     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{571     std::shared\_ptr<value<T>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{as}}();}
\DoxyCodeLine{572 }
\DoxyCodeLine{573     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{574     std::shared\_ptr<const value<T>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{as}}() \textcolor{keyword}{const};}
\DoxyCodeLine{575 }
\DoxyCodeLine{576     \textcolor{keyword}{template} <\textcolor{keyword}{class }Visitor, \textcolor{keyword}{class}... Args>}
\DoxyCodeLine{577     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(Visitor\&\& visitor, Args\&\&... args) \textcolor{keyword}{const};}
\DoxyCodeLine{578 }
\DoxyCodeLine{579 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{580     base\_type type()\textcolor{keyword}{ const}}
\DoxyCodeLine{581 \textcolor{keyword}{    }\{}
\DoxyCodeLine{582         \textcolor{keywordflow}{return} type\_;}
\DoxyCodeLine{583     \}}
\DoxyCodeLine{584 }
\DoxyCodeLine{585   \textcolor{keyword}{protected}:}
\DoxyCodeLine{586     \mbox{\hyperlink{classcpptoml_1_1base_ae0205af6f27b2b68a4b6864d76523335}{base}}(\textcolor{keyword}{const} base\_type t) : type\_(t)}
\DoxyCodeLine{587     \{}
\DoxyCodeLine{588         \textcolor{comment}{// nothing}}
\DoxyCodeLine{589     \}}
\DoxyCodeLine{590 }
\DoxyCodeLine{591   \textcolor{keyword}{private}:}
\DoxyCodeLine{592     \textcolor{keyword}{const} base\_type type\_ = base\_type::NONE;}
\DoxyCodeLine{593 }
\DoxyCodeLine{594 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{595   \textcolor{keyword}{protected}:}
\DoxyCodeLine{596     \mbox{\hyperlink{classcpptoml_1_1base_ae0205af6f27b2b68a4b6864d76523335}{base}}()}
\DoxyCodeLine{597     \{}
\DoxyCodeLine{598         \textcolor{comment}{// nothing}}
\DoxyCodeLine{599     \}}
\DoxyCodeLine{600 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{601 \};}
\DoxyCodeLine{602 }
\DoxyCodeLine{606 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{607 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1value}{value}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1base}{base}}}
\DoxyCodeLine{608 \{}
\DoxyCodeLine{609     \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value_1_1make__shared__enabler}{make\_shared\_enabler}}}
\DoxyCodeLine{610     \{}
\DoxyCodeLine{611         \textcolor{comment}{// nothing; this is a private key accessible only to friends}}
\DoxyCodeLine{612     \};}
\DoxyCodeLine{613 }
\DoxyCodeLine{614     \textcolor{keyword}{template} <\textcolor{keyword}{class} U>}
\DoxyCodeLine{615     \textcolor{keyword}{friend} std::shared\_ptr<typename value\_traits<U>::type>}
\DoxyCodeLine{616     \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{cpptoml::make\_value}}(U\&\& val);}
\DoxyCodeLine{617 }
\DoxyCodeLine{618   \textcolor{keyword}{public}:}
\DoxyCodeLine{619     \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{structcpptoml_1_1valid__value}{valid\_value<T>::value}}, \textcolor{stringliteral}{"{}invalid value type"{}});}
\DoxyCodeLine{620 }
\DoxyCodeLine{621     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1value_a41545490bdaab88825014c3d5417fb9a}{clone}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{622 }
\DoxyCodeLine{623     \mbox{\hyperlink{classcpptoml_1_1value_aa33eca40f41a74e97e94058454127902}{value}}(\textcolor{keyword}{const} \mbox{\hyperlink{structcpptoml_1_1value_1_1make__shared__enabler}{make\_shared\_enabler}}\&, \textcolor{keyword}{const} T\& val) : \mbox{\hyperlink{classcpptoml_1_1value}{value}}(val)}
\DoxyCodeLine{624     \{}
\DoxyCodeLine{625         \textcolor{comment}{// nothing; note that users cannot actually invoke this function}}
\DoxyCodeLine{626         \textcolor{comment}{// because they lack access to the make\_shared\_enabler.}}
\DoxyCodeLine{627     \}}
\DoxyCodeLine{628 }
\DoxyCodeLine{629     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1value_a577d6daeab9e83b301b77aab838c8c73}{is\_value}}()\textcolor{keyword}{ const override}}
\DoxyCodeLine{630 \textcolor{keyword}{    }\{}
\DoxyCodeLine{631         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{632     \}}
\DoxyCodeLine{633 }
\DoxyCodeLine{637     T\& \mbox{\hyperlink{classcpptoml_1_1value_a54bb8650ebbe58c00f028e373f3c08d0}{get}}()}
\DoxyCodeLine{638     \{}
\DoxyCodeLine{639         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1value_a9bec51ec1c7c3962283d0dd7aceded8b}{data\_}};}
\DoxyCodeLine{640     \}}
\DoxyCodeLine{641 }
\DoxyCodeLine{645     \textcolor{keyword}{const} T\& \mbox{\hyperlink{classcpptoml_1_1value_a5def0684ffef3d5713c374349a340a0e}{get}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{646 \textcolor{keyword}{    }\{}
\DoxyCodeLine{647         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1value_a9bec51ec1c7c3962283d0dd7aceded8b}{data\_}};}
\DoxyCodeLine{648     \}}
\DoxyCodeLine{649 }
\DoxyCodeLine{650   \textcolor{keyword}{private}:}
\DoxyCodeLine{651     T \mbox{\hyperlink{classcpptoml_1_1value_a9bec51ec1c7c3962283d0dd7aceded8b}{data\_}};}
\DoxyCodeLine{652 }
\DoxyCodeLine{656 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{657     \mbox{\hyperlink{classcpptoml_1_1value_aa33eca40f41a74e97e94058454127902}{value}}(\textcolor{keyword}{const} T\& val) : \mbox{\hyperlink{classcpptoml_1_1base}{base}}(base\_type\_traits<T>::type), \mbox{\hyperlink{classcpptoml_1_1value_a9bec51ec1c7c3962283d0dd7aceded8b}{data\_}}(val)}
\DoxyCodeLine{658     \{}
\DoxyCodeLine{659     \}}
\DoxyCodeLine{660 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{661     \mbox{\hyperlink{classcpptoml_1_1value_a44209ff41e9083a2a7bc7ca6540a1cd9}{value}}(\textcolor{keyword}{const} T\& val) : \mbox{\hyperlink{classcpptoml_1_1value_a9bec51ec1c7c3962283d0dd7aceded8b}{data\_}}(val)}
\DoxyCodeLine{662     \{}
\DoxyCodeLine{663     \}}
\DoxyCodeLine{664 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{665 }
\DoxyCodeLine{666     \mbox{\hyperlink{classcpptoml_1_1value_aa99235a0857c2c3768eedf3d4a8d52d5}{value}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value}}\& val) = \textcolor{keyword}{delete};}
\DoxyCodeLine{667     \mbox{\hyperlink{classcpptoml_1_1value}{value}}\& \mbox{\hyperlink{classcpptoml_1_1value_a26b779de57b3ccb0e9d6f824b354269d}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value}}\& val) = \textcolor{keyword}{delete};}
\DoxyCodeLine{668 \};}
\DoxyCodeLine{669 }
\DoxyCodeLine{670 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{671 std::shared\_ptr<typename value\_traits<T>::type> \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(T\&\& val)}
\DoxyCodeLine{672 \{}
\DoxyCodeLine{673     \textcolor{keyword}{using} value\_type = \textcolor{keyword}{typename} \mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits<T>::type}};}
\DoxyCodeLine{674     \textcolor{keyword}{using} enabler = \textcolor{keyword}{typename} value\_type::make\_shared\_enabler;}
\DoxyCodeLine{675     \textcolor{keywordflow}{return} std::make\_shared<value\_type>(}
\DoxyCodeLine{676         enabler\{\}, \mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits<T>::construct}}(std::forward<T>(val)));}
\DoxyCodeLine{677 \}}
\DoxyCodeLine{678 }
\DoxyCodeLine{679 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{680 \textcolor{keyword}{inline} std::shared\_ptr<value<T>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{base::as}}()}
\DoxyCodeLine{681 \{}
\DoxyCodeLine{682 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{683     \textcolor{keywordflow}{if} (type() == base\_type\_traits<T>::type)}
\DoxyCodeLine{684         \textcolor{keywordflow}{return} std::static\_pointer\_cast<value<T>>(shared\_from\_this());}
\DoxyCodeLine{685     \textcolor{keywordflow}{else}}
\DoxyCodeLine{686         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{687 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{688     \textcolor{keywordflow}{return} std::dynamic\_pointer\_cast<value<T>>(shared\_from\_this());}
\DoxyCodeLine{689 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{690 \}}
\DoxyCodeLine{691 }
\DoxyCodeLine{692 \textcolor{comment}{// special case value<double> to allow getting an integer parameter as a}}
\DoxyCodeLine{693 \textcolor{comment}{// double value}}
\DoxyCodeLine{694 \textcolor{keyword}{template} <>}
\DoxyCodeLine{695 \textcolor{keyword}{inline} std::shared\_ptr<value<double>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{base::as}}()}
\DoxyCodeLine{696 \{}
\DoxyCodeLine{697 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{698     \textcolor{keywordflow}{if} (type() == base\_type::FLOAT)}
\DoxyCodeLine{699         \textcolor{keywordflow}{return} std::static\_pointer\_cast<value<double>>(shared\_from\_this());}
\DoxyCodeLine{700 }
\DoxyCodeLine{701     \textcolor{keywordflow}{if} (type() == base\_type::INT)}
\DoxyCodeLine{702     \{}
\DoxyCodeLine{703         \textcolor{keyword}{auto} v = std::static\_pointer\_cast<value<int64\_t>>(shared\_from\_this());}
\DoxyCodeLine{704         \textcolor{keywordflow}{return} make\_value<double>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v-\/>get()));}
\DoxyCodeLine{705     \}}
\DoxyCodeLine{706 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{707     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = std::dynamic\_pointer\_cast<\mbox{\hyperlink{classcpptoml_1_1value}{value<double>}}>(shared\_from\_this()))}
\DoxyCodeLine{708         \textcolor{keywordflow}{return} v;}
\DoxyCodeLine{709 }
\DoxyCodeLine{710     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = std::dynamic\_pointer\_cast<\mbox{\hyperlink{classcpptoml_1_1value}{value<int64\_t>}}>(shared\_from\_this()))}
\DoxyCodeLine{711         \textcolor{keywordflow}{return} make\_value<double>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v-\/>get()));}
\DoxyCodeLine{712 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{713 }
\DoxyCodeLine{714     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{715 \}}
\DoxyCodeLine{716 }
\DoxyCodeLine{717 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{718 \textcolor{keyword}{inline} std::shared\_ptr<const value<T>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{base::as}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{719 \textcolor{keyword}{}\{}
\DoxyCodeLine{720 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{721     \textcolor{keywordflow}{if} (type() == base\_type\_traits<T>::type)}
\DoxyCodeLine{722         \textcolor{keywordflow}{return} std::static\_pointer\_cast<const value<T>>(shared\_from\_this());}
\DoxyCodeLine{723     \textcolor{keywordflow}{else}}
\DoxyCodeLine{724         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{725 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{726     \textcolor{keywordflow}{return} std::dynamic\_pointer\_cast<const value<T>>(shared\_from\_this());}
\DoxyCodeLine{727 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{728 \}}
\DoxyCodeLine{729 }
\DoxyCodeLine{730 \textcolor{comment}{// special case value<double> to allow getting an integer parameter as a}}
\DoxyCodeLine{731 \textcolor{comment}{// double value}}
\DoxyCodeLine{732 \textcolor{keyword}{template} <>}
\DoxyCodeLine{733 \textcolor{keyword}{inline} std::shared\_ptr<const value<double>> \mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{base::as}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{734 \textcolor{keyword}{}\{}
\DoxyCodeLine{735 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{736     \textcolor{keywordflow}{if} (type() == base\_type::FLOAT)}
\DoxyCodeLine{737         \textcolor{keywordflow}{return} std::static\_pointer\_cast<const value<double>>(}
\DoxyCodeLine{738             shared\_from\_this());}
\DoxyCodeLine{739 }
\DoxyCodeLine{740     \textcolor{keywordflow}{if} (type() == base\_type::INT)}
\DoxyCodeLine{741     \{}
\DoxyCodeLine{742         \textcolor{keyword}{auto} v = as<int64\_t>();}
\DoxyCodeLine{743         \textcolor{comment}{// the below has to be a non-\/const value<double> due to a bug in}}
\DoxyCodeLine{744         \textcolor{comment}{// libc++: https://llvm.org/bugs/show\_bug.cgi?id=18843}}
\DoxyCodeLine{745         \textcolor{keywordflow}{return} make\_value<double>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v-\/>get()));}
\DoxyCodeLine{746     \}}
\DoxyCodeLine{747 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{748     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v}
\DoxyCodeLine{749         = std::dynamic\_pointer\_cast<\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<double>}}>(shared\_from\_this()))}
\DoxyCodeLine{750         \textcolor{keywordflow}{return} v;}
\DoxyCodeLine{751 }
\DoxyCodeLine{752     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = as<int64\_t>())}
\DoxyCodeLine{753     \{}
\DoxyCodeLine{754         \textcolor{comment}{// the below has to be a non-\/const value<double> due to a bug in}}
\DoxyCodeLine{755         \textcolor{comment}{// libc++: https://llvm.org/bugs/show\_bug.cgi?id=18843}}
\DoxyCodeLine{756         \textcolor{keywordflow}{return} make\_value<double>(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(v-\/>get()));}
\DoxyCodeLine{757     \}}
\DoxyCodeLine{758 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{759 }
\DoxyCodeLine{760     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{761 \}}
\DoxyCodeLine{762 }
\DoxyCodeLine{766 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1array__exception}{array\_exception}} : \textcolor{keyword}{public} std::runtime\_error}
\DoxyCodeLine{767 \{}
\DoxyCodeLine{768   \textcolor{keyword}{public}:}
\DoxyCodeLine{769     \mbox{\hyperlink{classcpptoml_1_1array__exception_abd028c532c0fb36e3e8e198d403e351b}{array\_exception}}(\textcolor{keyword}{const} std::string\& err) : std::runtime\_error\{err\}}
\DoxyCodeLine{770     \{}
\DoxyCodeLine{771     \}}
\DoxyCodeLine{772 \};}
\DoxyCodeLine{773 }
\DoxyCodeLine{774 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1array}{array}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1base}{base}}}
\DoxyCodeLine{775 \{}
\DoxyCodeLine{776   \textcolor{keyword}{public}:}
\DoxyCodeLine{777     \textcolor{keyword}{friend} std::shared\_ptr<array> \mbox{\hyperlink{classcpptoml_1_1array_aaf6a4e7fd8f86d507279f7c319dfc5a3}{make\_array}}();}
\DoxyCodeLine{778 }
\DoxyCodeLine{779     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1array_aecbf0b65103aa06a9f8b4aa563152040}{clone}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{780 }
\DoxyCodeLine{781     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1array_a4d42ae29bac6386a8bd83cac6863de79}{is\_array}}()\textcolor{keyword}{ const override}}
\DoxyCodeLine{782 \textcolor{keyword}{    }\{}
\DoxyCodeLine{783         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{784     \}}
\DoxyCodeLine{785 }
\DoxyCodeLine{786     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1array_a91f67a2e7e24602322364434cdc7c473}{size\_type}} = std::size\_t;}
\DoxyCodeLine{787 }
\DoxyCodeLine{791     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} = std::vector<std::shared\_ptr<base>>\mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{::iterator}};}
\DoxyCodeLine{792 }
\DoxyCodeLine{796     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1array_adc3c44638883223631c8e9090bdac05d}{const\_iterator}} = std::vector<std::shared\_ptr<base>>\mbox{\hyperlink{classcpptoml_1_1array_adc3c44638883223631c8e9090bdac05d}{::const\_iterator}};}
\DoxyCodeLine{797 }
\DoxyCodeLine{798     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a8565b6cdf5067c19c69ae11510f82e5a}{begin}}()}
\DoxyCodeLine{799     \{}
\DoxyCodeLine{800         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.begin();}
\DoxyCodeLine{801     \}}
\DoxyCodeLine{802 }
\DoxyCodeLine{803     \mbox{\hyperlink{classcpptoml_1_1array_adc3c44638883223631c8e9090bdac05d}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a1a539b46f7cdea650163532b02218d92}{begin}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{804 \textcolor{keyword}{    }\{}
\DoxyCodeLine{805         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.begin();}
\DoxyCodeLine{806     \}}
\DoxyCodeLine{807 }
\DoxyCodeLine{808     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a22b4e046221435bf10b1d40886c2928d}{end}}()}
\DoxyCodeLine{809     \{}
\DoxyCodeLine{810         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.end();}
\DoxyCodeLine{811     \}}
\DoxyCodeLine{812 }
\DoxyCodeLine{813     \mbox{\hyperlink{classcpptoml_1_1array_adc3c44638883223631c8e9090bdac05d}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a8780618cf3968b9051d4826951480030}{end}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{814 \textcolor{keyword}{    }\{}
\DoxyCodeLine{815         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.end();}
\DoxyCodeLine{816     \}}
\DoxyCodeLine{817 }
\DoxyCodeLine{821     std::vector<std::shared\_ptr<base>>\& \mbox{\hyperlink{classcpptoml_1_1array_afdc9c2172a9aa36b55f95da937067ea0}{get}}()}
\DoxyCodeLine{822     \{}
\DoxyCodeLine{823         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}};}
\DoxyCodeLine{824     \}}
\DoxyCodeLine{825 }
\DoxyCodeLine{829     \textcolor{keyword}{const} std::vector<std::shared\_ptr<base>>\& \mbox{\hyperlink{classcpptoml_1_1array_a0a4784554a14dbc56989dff2cd3f73e8}{get}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{830 \textcolor{keyword}{    }\{}
\DoxyCodeLine{831         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}};}
\DoxyCodeLine{832     \}}
\DoxyCodeLine{833 }
\DoxyCodeLine{834     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1array_a2fbfb95c5dbe4d1faa7cd8a44a3e6012}{at}}(\textcolor{keywordtype}{size\_t} idx)\textcolor{keyword}{ const}}
\DoxyCodeLine{835 \textcolor{keyword}{    }\{}
\DoxyCodeLine{836         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.at(idx);}
\DoxyCodeLine{837     \}}
\DoxyCodeLine{838 }
\DoxyCodeLine{843     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{844     std::vector<std::shared\_ptr<value<T>>> \mbox{\hyperlink{classcpptoml_1_1array_a714b179943aaa69c63510e5864a65b76}{array\_of}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{845 \textcolor{keyword}{    }\{}
\DoxyCodeLine{846         std::vector<std::shared\_ptr<value<T>>> result(\mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.size());}
\DoxyCodeLine{847 }
\DoxyCodeLine{848         std::transform(\mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.begin(), \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.end(), result.begin(),}
\DoxyCodeLine{849                        [\&](std::shared\_ptr<base> v) \{ return v-\/>as<T>(); \});}
\DoxyCodeLine{850 }
\DoxyCodeLine{851         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{852     \}}
\DoxyCodeLine{853 }
\DoxyCodeLine{858     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{859     \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<T>::return\_type}} \mbox{\hyperlink{classcpptoml_1_1array_a47e7629b178cfff08580f5d02e3cc508}{get\_array\_of}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{860 \textcolor{keyword}{    }\{}
\DoxyCodeLine{861         std::vector<T> result;}
\DoxyCodeLine{862         result.reserve(\mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.size());}
\DoxyCodeLine{863 }
\DoxyCodeLine{864         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& val : \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}})}
\DoxyCodeLine{865         \{}
\DoxyCodeLine{866             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = val-\/>as<T>())}
\DoxyCodeLine{867                 result.push\_back(v-\/>get());}
\DoxyCodeLine{868             \textcolor{keywordflow}{else}}
\DoxyCodeLine{869                 \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{870         \}}
\DoxyCodeLine{871 }
\DoxyCodeLine{872         \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{873     \}}
\DoxyCodeLine{874 }
\DoxyCodeLine{879     std::vector<std::shared\_ptr<array>> \mbox{\hyperlink{classcpptoml_1_1array_a300c0e5a3dc9ca6aa12dcd003a5a0593}{nested\_array}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{880 \textcolor{keyword}{    }\{}
\DoxyCodeLine{881         std::vector<std::shared\_ptr<array>> result(\mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.size());}
\DoxyCodeLine{882 }
\DoxyCodeLine{883         std::transform(\mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.begin(), \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}}.end(), result.begin(),}
\DoxyCodeLine{884                        [\&](std::shared\_ptr<base> v) -\/> std::shared\_ptr<array> \{}
\DoxyCodeLine{885                            if (v-\/>is\_array())}
\DoxyCodeLine{886                                return std::static\_pointer\_cast<array>(v);}
\DoxyCodeLine{887                            return std::shared\_ptr<array>\{\};}
\DoxyCodeLine{888                        \});}
\DoxyCodeLine{889 }
\DoxyCodeLine{890         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{891     \}}
\DoxyCodeLine{892 }
\DoxyCodeLine{896     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{897     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1array_a7cb778f226d2695cfeb839113f1c0b5e}{push\_back}}(\textcolor{keyword}{const} std::shared\_ptr<\mbox{\hyperlink{classcpptoml_1_1value}{value<T>}}>\& val)}
\DoxyCodeLine{898     \{}
\DoxyCodeLine{899         \textcolor{keywordflow}{if} (values\_.empty() || values\_[0]-\/>as<T>())}
\DoxyCodeLine{900         \{}
\DoxyCodeLine{901             values\_.push\_back(val);}
\DoxyCodeLine{902         \}}
\DoxyCodeLine{903         \textcolor{keywordflow}{else}}
\DoxyCodeLine{904         \{}
\DoxyCodeLine{905             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1array__exception}{array\_exception}}\{\textcolor{stringliteral}{"{}Arrays must be homogenous."{}}\};}
\DoxyCodeLine{906         \}}
\DoxyCodeLine{907     \}}
\DoxyCodeLine{908 }
\DoxyCodeLine{912     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1array_ae0d8668e66090fc74679ca190aae9132}{push\_back}}(\textcolor{keyword}{const} std::shared\_ptr<array>\& val)}
\DoxyCodeLine{913     \{}
\DoxyCodeLine{914         \textcolor{keywordflow}{if} (values\_.empty() || values\_[0]-\/>is\_array())}
\DoxyCodeLine{915         \{}
\DoxyCodeLine{916             values\_.push\_back(val);}
\DoxyCodeLine{917         \}}
\DoxyCodeLine{918         \textcolor{keywordflow}{else}}
\DoxyCodeLine{919         \{}
\DoxyCodeLine{920             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1array__exception}{array\_exception}}\{\textcolor{stringliteral}{"{}Arrays must be homogenous."{}}\};}
\DoxyCodeLine{921         \}}
\DoxyCodeLine{922     \}}
\DoxyCodeLine{923 }
\DoxyCodeLine{928     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{929     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1array_ad8225c455bc24816332fa82d00b014c1}{push\_back}}(T\&\& val, \textcolor{keyword}{typename} \mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits<T>::type}}* = 0)}
\DoxyCodeLine{930     \{}
\DoxyCodeLine{931         push\_back(\mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(std::forward<T>(val)));}
\DoxyCodeLine{932     \}}
\DoxyCodeLine{933 }
\DoxyCodeLine{937     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{938     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a5bdbb27144823af65e4d5f2b387ae9df}{insert}}(\mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} position, \textcolor{keyword}{const} std::shared\_ptr<\mbox{\hyperlink{classcpptoml_1_1value}{value<T>}}>\& \mbox{\hyperlink{classcpptoml_1_1value}{value}})}
\DoxyCodeLine{939     \{}
\DoxyCodeLine{940         \textcolor{keywordflow}{if} (values\_.empty() || values\_[0]-\/>as<T>())}
\DoxyCodeLine{941         \{}
\DoxyCodeLine{942             \textcolor{keywordflow}{return} values\_.insert(position, \mbox{\hyperlink{classcpptoml_1_1value}{value}});}
\DoxyCodeLine{943         \}}
\DoxyCodeLine{944         \textcolor{keywordflow}{else}}
\DoxyCodeLine{945         \{}
\DoxyCodeLine{946             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1array__exception}{array\_exception}}\{\textcolor{stringliteral}{"{}Arrays must be homogenous."{}}\};}
\DoxyCodeLine{947         \}}
\DoxyCodeLine{948     \}}
\DoxyCodeLine{949 }
\DoxyCodeLine{953     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a2baf1399c43c941321bdc86cbbed0dc1}{insert}}(\mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} position, \textcolor{keyword}{const} std::shared\_ptr<array>\& \mbox{\hyperlink{classcpptoml_1_1value}{value}})}
\DoxyCodeLine{954     \{}
\DoxyCodeLine{955         \textcolor{keywordflow}{if} (values\_.empty() || values\_[0]-\/>is\_array())}
\DoxyCodeLine{956         \{}
\DoxyCodeLine{957             \textcolor{keywordflow}{return} values\_.insert(position, \mbox{\hyperlink{classcpptoml_1_1value}{value}});}
\DoxyCodeLine{958         \}}
\DoxyCodeLine{959         \textcolor{keywordflow}{else}}
\DoxyCodeLine{960         \{}
\DoxyCodeLine{961             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1array__exception}{array\_exception}}\{\textcolor{stringliteral}{"{}Arrays must be homogenous."{}}\};}
\DoxyCodeLine{962         \}}
\DoxyCodeLine{963     \}}
\DoxyCodeLine{964 }
\DoxyCodeLine{968     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{969     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_ad095605f299379d6065882cd9789e8d0}{insert}}(\mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} position, T\&\& val,}
\DoxyCodeLine{970                     \textcolor{keyword}{typename} \mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits<T>::type}}* = 0)}
\DoxyCodeLine{971     \{}
\DoxyCodeLine{972         \textcolor{keywordflow}{return} insert(position, \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(std::forward<T>(val)));}
\DoxyCodeLine{973     \}}
\DoxyCodeLine{974 }
\DoxyCodeLine{978     \mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} \mbox{\hyperlink{classcpptoml_1_1array_a6566c0a7ab80ee2725e54c58a23d6a91}{erase}}(\mbox{\hyperlink{classcpptoml_1_1array_af17885074b4f14eb50f82d5b54973e34}{iterator}} position)}
\DoxyCodeLine{979     \{}
\DoxyCodeLine{980         \textcolor{keywordflow}{return} values\_.erase(position);}
\DoxyCodeLine{981     \}}
\DoxyCodeLine{982 }
\DoxyCodeLine{986     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1array_a9ab38af53133a1defc74305c54320e36}{clear}}()}
\DoxyCodeLine{987     \{}
\DoxyCodeLine{988         values\_.clear();}
\DoxyCodeLine{989     \}}
\DoxyCodeLine{990 }
\DoxyCodeLine{994     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1array_a32a2f15d2483e14d0edb0d2d338454f0}{reserve}}(\mbox{\hyperlink{classcpptoml_1_1array_a91f67a2e7e24602322364434cdc7c473}{size\_type}} n)}
\DoxyCodeLine{995     \{}
\DoxyCodeLine{996         values\_.reserve(n);}
\DoxyCodeLine{997     \}}
\DoxyCodeLine{998 }
\DoxyCodeLine{999   \textcolor{keyword}{private}:}
\DoxyCodeLine{1000 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{1001     \mbox{\hyperlink{classcpptoml_1_1array}{array}}() : \mbox{\hyperlink{classcpptoml_1_1base}{base}}(base\_type::ARRAY)}
\DoxyCodeLine{1002     \{}
\DoxyCodeLine{1003         \textcolor{comment}{// empty}}
\DoxyCodeLine{1004     \}}
\DoxyCodeLine{1005 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1006     \mbox{\hyperlink{classcpptoml_1_1array_ab7c7bc310a3eaa76303e9137689191a8}{array}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{1007 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1008 }
\DoxyCodeLine{1009     \textcolor{keyword}{template} <\textcolor{keyword}{class} InputIterator>}
\DoxyCodeLine{1010     \mbox{\hyperlink{classcpptoml_1_1array_ae26498680c09532b191f11018ffe0c13}{array}}(InputIterator begin, InputIterator end) : values\_\{begin, end\}}
\DoxyCodeLine{1011     \{}
\DoxyCodeLine{1012         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1013     \}}
\DoxyCodeLine{1014 }
\DoxyCodeLine{1015     \mbox{\hyperlink{classcpptoml_1_1array_a1c4e9aab1878d826e573155e80afa9f3}{array}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1array}{array}}\& obj) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1016     \mbox{\hyperlink{classcpptoml_1_1array}{array}}\& \mbox{\hyperlink{classcpptoml_1_1array_a1d1742c6eeb553a6f082e9741c18ede2}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1array}{array}}\& obj) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1017 }
\DoxyCodeLine{1018     std::vector<std::shared\_ptr<base>> \mbox{\hyperlink{classcpptoml_1_1array_a03b5e8918772e4da3b99e15ee8125d16}{values\_}};}
\DoxyCodeLine{1019 \};}
\DoxyCodeLine{1020 }
\DoxyCodeLine{1021 \textcolor{keyword}{inline} std::shared\_ptr<array> \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}()}
\DoxyCodeLine{1022 \{}
\DoxyCodeLine{1023     \textcolor{keyword}{struct }make\_shared\_enabler : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1array}{array}}}
\DoxyCodeLine{1024     \{}
\DoxyCodeLine{1025         make\_shared\_enabler()}
\DoxyCodeLine{1026         \{}
\DoxyCodeLine{1027             \textcolor{comment}{// nothing}}
\DoxyCodeLine{1028         \}}
\DoxyCodeLine{1029     \};}
\DoxyCodeLine{1030 }
\DoxyCodeLine{1031     \textcolor{keywordflow}{return} std::make\_shared<make\_shared\_enabler>();}
\DoxyCodeLine{1032 \}}
\DoxyCodeLine{1033 }
\DoxyCodeLine{1034 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{1035 \{}
\DoxyCodeLine{1036 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1037 \textcolor{keyword}{inline} std::shared\_ptr<array> \mbox{\hyperlink{namespacecpptoml_1_1detail_a217487b78e29f791e8152da716aab39c}{make\_element<array>}}()}
\DoxyCodeLine{1038 \{}
\DoxyCodeLine{1039     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}();}
\DoxyCodeLine{1040 \}}
\DoxyCodeLine{1041 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{1042 }
\DoxyCodeLine{1047 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1048 \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<array>::return\_type}}}
\DoxyCodeLine{1049 array::get\_array\_of<array>()\textcolor{keyword}{ const}}
\DoxyCodeLine{1050 \textcolor{keyword}{}\{}
\DoxyCodeLine{1051     std::vector<std::shared\_ptr<array>> result;}
\DoxyCodeLine{1052     result.reserve(values\_.size());}
\DoxyCodeLine{1053 }
\DoxyCodeLine{1054     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& val : values\_)}
\DoxyCodeLine{1055     \{}
\DoxyCodeLine{1056         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = val-\/>as\_array())}
\DoxyCodeLine{1057             result.push\_back(v);}
\DoxyCodeLine{1058         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1059             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1060     \}}
\DoxyCodeLine{1061 }
\DoxyCodeLine{1062     \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{1063 \}}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1table}{table}};}
\DoxyCodeLine{1066 }
\DoxyCodeLine{1067 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1base}{base}}}
\DoxyCodeLine{1068 \{}
\DoxyCodeLine{1069     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1table}{table}};}
\DoxyCodeLine{1070     \textcolor{keyword}{friend} std::shared\_ptr<table\_array> \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}(\textcolor{keywordtype}{bool});}
\DoxyCodeLine{1071 }
\DoxyCodeLine{1072   \textcolor{keyword}{public}:}
\DoxyCodeLine{1073     std::shared\_ptr<base> clone() \textcolor{keyword}{const override};}
\DoxyCodeLine{1074 }
\DoxyCodeLine{1075     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1table__array_a411570ae2c15bd52b24632f6ee52021b}{size\_type}} = std::size\_t;}
\DoxyCodeLine{1076 }
\DoxyCodeLine{1080     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} = std::vector<std::shared\_ptr<table>>\mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{::iterator}};}
\DoxyCodeLine{1081 }
\DoxyCodeLine{1085     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1table__array_ab13bcf95622546ba8ffda756658d7df9}{const\_iterator}} = std::vector<std::shared\_ptr<table>>\mbox{\hyperlink{classcpptoml_1_1table__array_ab13bcf95622546ba8ffda756658d7df9}{::const\_iterator}};}
\DoxyCodeLine{1086 }
\DoxyCodeLine{1087     \mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_ae28aeb5bf647c60db4f4e40a849a1282}{begin}}()}
\DoxyCodeLine{1088     \{}
\DoxyCodeLine{1089         \textcolor{keywordflow}{return} array\_.begin();}
\DoxyCodeLine{1090     \}}
\DoxyCodeLine{1091 }
\DoxyCodeLine{1092     \mbox{\hyperlink{classcpptoml_1_1table__array_ab13bcf95622546ba8ffda756658d7df9}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_a1602faf3378297e96135044bec9d2b30}{begin}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1093 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1094         \textcolor{keywordflow}{return} array\_.begin();}
\DoxyCodeLine{1095     \}}
\DoxyCodeLine{1096 }
\DoxyCodeLine{1097     \mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_a587d69408394a7fc1adaeef36f196bcb}{end}}()}
\DoxyCodeLine{1098     \{}
\DoxyCodeLine{1099         \textcolor{keywordflow}{return} array\_.end();}
\DoxyCodeLine{1100     \}}
\DoxyCodeLine{1101 }
\DoxyCodeLine{1102     \mbox{\hyperlink{classcpptoml_1_1table__array_ab13bcf95622546ba8ffda756658d7df9}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_ac255684c73e21ca8cc51cfc4cf0c0a89}{end}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1103 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1104         \textcolor{keywordflow}{return} array\_.end();}
\DoxyCodeLine{1105     \}}
\DoxyCodeLine{1106 }
\DoxyCodeLine{1107     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table__array_af5c7692ee10fc35df188a729b53f10fb}{is\_table\_array}}()\textcolor{keyword}{ const override}}
\DoxyCodeLine{1108 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1109         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1110     \}}
\DoxyCodeLine{1111 }
\DoxyCodeLine{1112     std::vector<std::shared\_ptr<table>>\& \mbox{\hyperlink{classcpptoml_1_1table__array_ad67c7b4fa38256d079cb6de7a2cc51d9}{get}}()}
\DoxyCodeLine{1113     \{}
\DoxyCodeLine{1114         \textcolor{keywordflow}{return} array\_;}
\DoxyCodeLine{1115     \}}
\DoxyCodeLine{1116 }
\DoxyCodeLine{1117     \textcolor{keyword}{const} std::vector<std::shared\_ptr<table>>\& \mbox{\hyperlink{classcpptoml_1_1table__array_a1b256da7f2eb2f85328cc670e5c12bb9}{get}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1118 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1119         \textcolor{keywordflow}{return} array\_;}
\DoxyCodeLine{1120     \}}
\DoxyCodeLine{1121 }
\DoxyCodeLine{1125     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table__array_a22e1a90d6df03b0f203cdf2fbd0e62b5}{push\_back}}(\textcolor{keyword}{const} std::shared\_ptr<table>\& val)}
\DoxyCodeLine{1126     \{}
\DoxyCodeLine{1127         array\_.push\_back(val);}
\DoxyCodeLine{1128     \}}
\DoxyCodeLine{1129 }
\DoxyCodeLine{1133     \mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_a9f1edf63fadef4c44d3510f024bbf868}{insert}}(\mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} position, \textcolor{keyword}{const} std::shared\_ptr<table>\& \mbox{\hyperlink{classcpptoml_1_1value}{value}})}
\DoxyCodeLine{1134     \{}
\DoxyCodeLine{1135         \textcolor{keywordflow}{return} array\_.insert(position, \mbox{\hyperlink{classcpptoml_1_1value}{value}});}
\DoxyCodeLine{1136     \}}
\DoxyCodeLine{1137 }
\DoxyCodeLine{1141     \mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table__array_a6ac8ae9e487fddbfa3cd58c2cf5282ee}{erase}}(\mbox{\hyperlink{classcpptoml_1_1table__array_a1e67fac717836a91e2647f05348e0fa0}{iterator}} position)}
\DoxyCodeLine{1142     \{}
\DoxyCodeLine{1143         \textcolor{keywordflow}{return} array\_.erase(position);}
\DoxyCodeLine{1144     \}}
\DoxyCodeLine{1145 }
\DoxyCodeLine{1149     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table__array_abf3f723ac5d1a0f25a5cacd029615259}{clear}}()}
\DoxyCodeLine{1150     \{}
\DoxyCodeLine{1151         array\_.clear();}
\DoxyCodeLine{1152     \}}
\DoxyCodeLine{1153 }
\DoxyCodeLine{1157     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table__array_a8d427ee205fc1dcd640bb0c7a41e2baf}{reserve}}(\mbox{\hyperlink{classcpptoml_1_1table__array_a411570ae2c15bd52b24632f6ee52021b}{size\_type}} n)}
\DoxyCodeLine{1158     \{}
\DoxyCodeLine{1159         array\_.reserve(n);}
\DoxyCodeLine{1160     \}}
\DoxyCodeLine{1161 }
\DoxyCodeLine{1167     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table__array_a1b3d3881c0a97754a4af90ecbbc0b056}{is\_inline}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1168 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1169         \textcolor{keywordflow}{return} is\_inline\_;}
\DoxyCodeLine{1170     \}}
\DoxyCodeLine{1171 }
\DoxyCodeLine{1172   \textcolor{keyword}{private}:}
\DoxyCodeLine{1173 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{1174     \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}(\textcolor{keywordtype}{bool} is\_inline = \textcolor{keyword}{false})}
\DoxyCodeLine{1175         : \mbox{\hyperlink{classcpptoml_1_1base}{base}}(base\_type::TABLE\_ARRAY), is\_inline\_(is\_inline)}
\DoxyCodeLine{1176     \{}
\DoxyCodeLine{1177         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1178     \}}
\DoxyCodeLine{1179 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1180     \mbox{\hyperlink{classcpptoml_1_1table__array_a6d22bac8b41728fd213bda96373f0b0b}{table\_array}}(\textcolor{keywordtype}{bool} is\_inline = \textcolor{keyword}{false}) : is\_inline\_(is\_inline)}
\DoxyCodeLine{1181     \{}
\DoxyCodeLine{1182         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1183     \}}
\DoxyCodeLine{1184 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1185 }
\DoxyCodeLine{1186     \mbox{\hyperlink{classcpptoml_1_1table__array_a8fa12337113371ce4fd4853cd6e12b2a}{table\_array}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\& obj) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1187     \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\& \mbox{\hyperlink{classcpptoml_1_1table__array_a0545b584734c3f83dac6fd8daabba7b1}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1188 }
\DoxyCodeLine{1189     std::vector<std::shared\_ptr<table>> \mbox{\hyperlink{classcpptoml_1_1table__array_aab922a7a735bfab0aba8b97c6ebd3765}{array\_}};}
\DoxyCodeLine{1190     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_inline\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{1191 \};}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193 \textcolor{keyword}{inline} std::shared\_ptr<table\_array> \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}(\textcolor{keywordtype}{bool} is\_inline)}
\DoxyCodeLine{1194 \{}
\DoxyCodeLine{1195     \textcolor{keyword}{struct }make\_shared\_enabler : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}}
\DoxyCodeLine{1196     \{}
\DoxyCodeLine{1197         make\_shared\_enabler(\textcolor{keywordtype}{bool} mse\_is\_inline) : \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}(mse\_is\_inline)}
\DoxyCodeLine{1198         \{}
\DoxyCodeLine{1199             \textcolor{comment}{// nothing}}
\DoxyCodeLine{1200         \}}
\DoxyCodeLine{1201     \};}
\DoxyCodeLine{1202 }
\DoxyCodeLine{1203     \textcolor{keywordflow}{return} std::make\_shared<make\_shared\_enabler>(is\_inline);}
\DoxyCodeLine{1204 \}}
\DoxyCodeLine{1205 }
\DoxyCodeLine{1206 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{1207 \{}
\DoxyCodeLine{1208 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1209 \textcolor{keyword}{inline} std::shared\_ptr<table\_array> \mbox{\hyperlink{namespacecpptoml_1_1detail_a3f415c1da22357c0322651f31608c397}{make\_element<table\_array>}}()}
\DoxyCodeLine{1210 \{}
\DoxyCodeLine{1211     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}(\textcolor{keyword}{true});}
\DoxyCodeLine{1212 \}}
\DoxyCodeLine{1213 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{1214 }
\DoxyCodeLine{1215 \textcolor{comment}{// The below are overloads for fetching specific value types out of a value}}
\DoxyCodeLine{1216 \textcolor{comment}{// where special casting behavior (like bounds checking) is desired}}
\DoxyCodeLine{1217 }
\DoxyCodeLine{1218 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1219 \textcolor{keyword}{typename} std::enable\_if<!std::is\_floating\_point<T>::value}
\DoxyCodeLine{1220                             \&\& std::is\_signed<T>::value,}
\DoxyCodeLine{1221                         option<T>>::type}
\DoxyCodeLine{1222 \mbox{\hyperlink{namespacecpptoml_a757f73457157749ebead3c8a02c23256}{get\_impl}}(\textcolor{keyword}{const} std::shared\_ptr<base>\& elem)}
\DoxyCodeLine{1223 \{}
\DoxyCodeLine{1224     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = elem-\/>as<int64\_t>())}
\DoxyCodeLine{1225     \{}
\DoxyCodeLine{1226         \textcolor{keywordflow}{if} (v-\/>get() < (std::numeric\_limits<T>::min)())}
\DoxyCodeLine{1227             \textcolor{keywordflow}{throw} std::underflow\_error\{}
\DoxyCodeLine{1228                 \textcolor{stringliteral}{"{}T cannot represent the value requested in get"{}}\};}
\DoxyCodeLine{1229 }
\DoxyCodeLine{1230         \textcolor{keywordflow}{if} (v-\/>get() > (std::numeric\_limits<T>::max)())}
\DoxyCodeLine{1231             \textcolor{keywordflow}{throw} std::overflow\_error\{}
\DoxyCodeLine{1232                 \textcolor{stringliteral}{"{}T cannot represent the value requested in get"{}}\};}
\DoxyCodeLine{1233 }
\DoxyCodeLine{1234         \textcolor{keywordflow}{return} \{\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(v-\/>get())\};}
\DoxyCodeLine{1235     \}}
\DoxyCodeLine{1236     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1237     \{}
\DoxyCodeLine{1238         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1239     \}}
\DoxyCodeLine{1240 \}}
\DoxyCodeLine{1241 }
\DoxyCodeLine{1242 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1243 \textcolor{keyword}{typename} std::enable\_if<!std::is\_same<T, bool>::value}
\DoxyCodeLine{1244                             \&\& std::is\_unsigned<T>::value,}
\DoxyCodeLine{1245                         option<T>>::type}
\DoxyCodeLine{1246 \mbox{\hyperlink{namespacecpptoml_a757f73457157749ebead3c8a02c23256}{get\_impl}}(\textcolor{keyword}{const} std::shared\_ptr<base>\& elem)}
\DoxyCodeLine{1247 \{}
\DoxyCodeLine{1248     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = elem-\/>as<int64\_t>())}
\DoxyCodeLine{1249     \{}
\DoxyCodeLine{1250         \textcolor{keywordflow}{if} (v-\/>get() < 0)}
\DoxyCodeLine{1251             \textcolor{keywordflow}{throw} std::underflow\_error\{\textcolor{stringliteral}{"{}T cannot store negative value in get"{}}\};}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253         \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(v-\/>get()) > (std::numeric\_limits<T>::max)())}
\DoxyCodeLine{1254             \textcolor{keywordflow}{throw} std::overflow\_error\{}
\DoxyCodeLine{1255                 \textcolor{stringliteral}{"{}T cannot represent the value requested in get"{}}\};}
\DoxyCodeLine{1256 }
\DoxyCodeLine{1257         \textcolor{keywordflow}{return} \{\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(v-\/>get())\};}
\DoxyCodeLine{1258     \}}
\DoxyCodeLine{1259     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1260     \{}
\DoxyCodeLine{1261         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1262     \}}
\DoxyCodeLine{1263 \}}
\DoxyCodeLine{1264 }
\DoxyCodeLine{1265 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1266 \textcolor{keyword}{typename} std::enable\_if<!std::is\_integral<T>::value}
\DoxyCodeLine{1267                             || std::is\_same<T, bool>::value,}
\DoxyCodeLine{1268                         option<T>>::type}
\DoxyCodeLine{1269 \mbox{\hyperlink{namespacecpptoml_a757f73457157749ebead3c8a02c23256}{get\_impl}}(\textcolor{keyword}{const} std::shared\_ptr<base>\& elem)}
\DoxyCodeLine{1270 \{}
\DoxyCodeLine{1271     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = elem-\/>as<T>())}
\DoxyCodeLine{1272     \{}
\DoxyCodeLine{1273         \textcolor{keywordflow}{return} \{v-\/>get()\};}
\DoxyCodeLine{1274     \}}
\DoxyCodeLine{1275     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1276     \{}
\DoxyCodeLine{1277         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1278     \}}
\DoxyCodeLine{1279 \}}
\DoxyCodeLine{1280 }
\DoxyCodeLine{1284 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1table}{table}} : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1base}{base}}}
\DoxyCodeLine{1285 \{}
\DoxyCodeLine{1286   \textcolor{keyword}{public}:}
\DoxyCodeLine{1287     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}};}
\DoxyCodeLine{1288     \textcolor{keyword}{friend} std::shared\_ptr<table> \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{1289 }
\DoxyCodeLine{1290     std::shared\_ptr<base> clone() \textcolor{keyword}{const override};}
\DoxyCodeLine{1291 }
\DoxyCodeLine{1295     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1table_a356711f04077c72d506fc2fba8b98798}{iterator}} = string\_to\_base\_map::iterator;}
\DoxyCodeLine{1296 }
\DoxyCodeLine{1300     \textcolor{keyword}{using} \mbox{\hyperlink{classcpptoml_1_1table_a8f5eae932dd6f39c3718cd5c828d750a}{const\_iterator}} = string\_to\_base\_map::const\_iterator;}
\DoxyCodeLine{1301 }
\DoxyCodeLine{1302     \mbox{\hyperlink{classcpptoml_1_1table_a356711f04077c72d506fc2fba8b98798}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table_a7b02d4bacfe44b57294993337ba2112b}{begin}}()}
\DoxyCodeLine{1303     \{}
\DoxyCodeLine{1304         \textcolor{keywordflow}{return} map\_.begin();}
\DoxyCodeLine{1305     \}}
\DoxyCodeLine{1306 }
\DoxyCodeLine{1307     \mbox{\hyperlink{classcpptoml_1_1table_a8f5eae932dd6f39c3718cd5c828d750a}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1table_a3165d56ceb5153d4a40412c4e81b1247}{begin}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1308 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1309         \textcolor{keywordflow}{return} map\_.begin();}
\DoxyCodeLine{1310     \}}
\DoxyCodeLine{1311 }
\DoxyCodeLine{1312     \mbox{\hyperlink{classcpptoml_1_1table_a356711f04077c72d506fc2fba8b98798}{iterator}} \mbox{\hyperlink{classcpptoml_1_1table_a5ab77a7c1b96ea4f7d9a879bad4b90a6}{end}}()}
\DoxyCodeLine{1313     \{}
\DoxyCodeLine{1314         \textcolor{keywordflow}{return} map\_.end();}
\DoxyCodeLine{1315     \}}
\DoxyCodeLine{1316 }
\DoxyCodeLine{1317     \mbox{\hyperlink{classcpptoml_1_1table_a8f5eae932dd6f39c3718cd5c828d750a}{const\_iterator}} \mbox{\hyperlink{classcpptoml_1_1table_ab768d9c02bc9d37a3364b1840b19d988}{end}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1318 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1319         \textcolor{keywordflow}{return} map\_.end();}
\DoxyCodeLine{1320     \}}
\DoxyCodeLine{1321 }
\DoxyCodeLine{1322     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table_a6408117067a796625baeae744c4a94aa}{is\_table}}()\textcolor{keyword}{ const override}}
\DoxyCodeLine{1323 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1324         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1325     \}}
\DoxyCodeLine{1326 }
\DoxyCodeLine{1327     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table_a624e1a754ee1c95539e4f5d67ae09574}{empty}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1328 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1329         \textcolor{keywordflow}{return} map\_.empty();}
\DoxyCodeLine{1330     \}}
\DoxyCodeLine{1331 }
\DoxyCodeLine{1335     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table_a212d6fec5865e7d10fd3e404b1af94fe}{contains}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1336 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1337         \textcolor{keywordflow}{return} map\_.find(key) != map\_.end();}
\DoxyCodeLine{1338     \}}
\DoxyCodeLine{1339 }
\DoxyCodeLine{1345     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table_abb40dba9f28bb1cb7b2915c15fde081e}{contains\_qualified}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1346 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1347         \textcolor{keywordflow}{return} resolve\_qualified(key);}
\DoxyCodeLine{1348     \}}
\DoxyCodeLine{1349 }
\DoxyCodeLine{1354     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1355 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1356         \textcolor{keywordflow}{return} map\_.at(key);}
\DoxyCodeLine{1357     \}}
\DoxyCodeLine{1358 }
\DoxyCodeLine{1366     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1table_a5597bd3f91d7726f15641b61ef91524e}{get\_qualified}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1367 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1368         std::shared\_ptr<base> p;}
\DoxyCodeLine{1369         resolve\_qualified(key, \&p);}
\DoxyCodeLine{1370         \textcolor{keywordflow}{return} p;}
\DoxyCodeLine{1371     \}}
\DoxyCodeLine{1372 }
\DoxyCodeLine{1376     std::shared\_ptr<table> \mbox{\hyperlink{classcpptoml_1_1table_a2256fe4c1df63f63a7b72b6eca65bec2}{get\_table}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1377 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1378         \textcolor{keywordflow}{if} (contains(key) \&\& get(key)-\/>is\_table())}
\DoxyCodeLine{1379             \textcolor{keywordflow}{return} std::static\_pointer\_cast<table>(get(key));}
\DoxyCodeLine{1380         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1381     \}}
\DoxyCodeLine{1382 }
\DoxyCodeLine{1387     std::shared\_ptr<table> \mbox{\hyperlink{classcpptoml_1_1table_aabb3f49a93a017785cc6144a676624e9}{get\_table\_qualified}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1388 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1389         \textcolor{keywordflow}{if} (contains\_qualified(key) \&\& get\_qualified(key)-\/>is\_table())}
\DoxyCodeLine{1390             \textcolor{keywordflow}{return} std::static\_pointer\_cast<table>(get\_qualified(key));}
\DoxyCodeLine{1391         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1392     \}}
\DoxyCodeLine{1393 }
\DoxyCodeLine{1397     std::shared\_ptr<array> \mbox{\hyperlink{classcpptoml_1_1table_a9526a0088ea0ae2363f2173f7e68eb4a}{get\_array}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1398 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1399         \textcolor{keywordflow}{if} (!contains(key))}
\DoxyCodeLine{1400             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1401         \textcolor{keywordflow}{return} get(key)-\/>as\_array();}
\DoxyCodeLine{1402     \}}
\DoxyCodeLine{1403 }
\DoxyCodeLine{1407     std::shared\_ptr<array> \mbox{\hyperlink{classcpptoml_1_1table_aebce5fc61cefb306f7471c1e8981b824}{get\_array\_qualified}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1408 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1409         \textcolor{keywordflow}{if} (!contains\_qualified(key))}
\DoxyCodeLine{1410             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1411         \textcolor{keywordflow}{return} get\_qualified(key)-\/>as\_array();}
\DoxyCodeLine{1412     \}}
\DoxyCodeLine{1413 }
\DoxyCodeLine{1417     std::shared\_ptr<table\_array> \mbox{\hyperlink{classcpptoml_1_1table_a98c61acf279c6f92c594f049259f7bf1}{get\_table\_array}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1418 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1419         \textcolor{keywordflow}{if} (!contains(key))}
\DoxyCodeLine{1420             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1421         \textcolor{keywordflow}{return} get(key)-\/>as\_table\_array();}
\DoxyCodeLine{1422     \}}
\DoxyCodeLine{1423 }
\DoxyCodeLine{1428     std::shared\_ptr<table\_array>}
\DoxyCodeLine{1429     \mbox{\hyperlink{classcpptoml_1_1table_af3e4c1568bd993bf6951c8512b90615b}{get\_table\_array\_qualified}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1430 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1431         \textcolor{keywordflow}{if} (!contains\_qualified(key))}
\DoxyCodeLine{1432             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1433         \textcolor{keywordflow}{return} get\_qualified(key)-\/>as\_table\_array();}
\DoxyCodeLine{1434     \}}
\DoxyCodeLine{1435 }
\DoxyCodeLine{1440     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1441     \mbox{\hyperlink{classcpptoml_1_1option}{option<T>}} \mbox{\hyperlink{classcpptoml_1_1table_a5b62403c730e6beeb20d71e06d97da1d}{get\_as}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1442 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1443         \textcolor{keywordflow}{try}}
\DoxyCodeLine{1444         \{}
\DoxyCodeLine{1445             \textcolor{keywordflow}{return} get\_impl<T>(get(key));}
\DoxyCodeLine{1446         \}}
\DoxyCodeLine{1447         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::out\_of\_range\&)}
\DoxyCodeLine{1448         \{}
\DoxyCodeLine{1449             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1450         \}}
\DoxyCodeLine{1451     \}}
\DoxyCodeLine{1452 }
\DoxyCodeLine{1458     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1459     \mbox{\hyperlink{classcpptoml_1_1option}{option<T>}} \mbox{\hyperlink{classcpptoml_1_1table_a2a9e512c91b75c4d86c6417cec9f577b}{get\_qualified\_as}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1460 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1461         \textcolor{keywordflow}{try}}
\DoxyCodeLine{1462         \{}
\DoxyCodeLine{1463             \textcolor{keywordflow}{return} get\_impl<T>(get\_qualified(key));}
\DoxyCodeLine{1464         \}}
\DoxyCodeLine{1465         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::out\_of\_range\&)}
\DoxyCodeLine{1466         \{}
\DoxyCodeLine{1467             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1468         \}}
\DoxyCodeLine{1469     \}}
\DoxyCodeLine{1470 }
\DoxyCodeLine{1480     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1481     \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<T>::return\_type}}}
\DoxyCodeLine{1482     \mbox{\hyperlink{classcpptoml_1_1table_a407decd3b08a5d6e52a89ddcd2deb494}{get\_array\_of}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1483 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1484         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = get\_array(key))}
\DoxyCodeLine{1485         \{}
\DoxyCodeLine{1486             std::vector<T> result;}
\DoxyCodeLine{1487             result.reserve(v-\/>get().size());}
\DoxyCodeLine{1488 }
\DoxyCodeLine{1489             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& b : v-\/>get())}
\DoxyCodeLine{1490             \{}
\DoxyCodeLine{1491                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} val = b-\/>as<T>())}
\DoxyCodeLine{1492                     result.push\_back(val-\/>get());}
\DoxyCodeLine{1493                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1494                     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1495             \}}
\DoxyCodeLine{1496             \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{1497         \}}
\DoxyCodeLine{1498 }
\DoxyCodeLine{1499         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1500     \}}
\DoxyCodeLine{1501 }
\DoxyCodeLine{1512     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1513     \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<T>::return\_type}}}
\DoxyCodeLine{1514     \mbox{\hyperlink{classcpptoml_1_1table_af5211cc67a898c0644907f44acdefb93}{get\_qualified\_array\_of}}(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1515 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1516         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = get\_array\_qualified(key))}
\DoxyCodeLine{1517         \{}
\DoxyCodeLine{1518             std::vector<T> result;}
\DoxyCodeLine{1519             result.reserve(v-\/>get().size());}
\DoxyCodeLine{1520 }
\DoxyCodeLine{1521             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& b : v-\/>get())}
\DoxyCodeLine{1522             \{}
\DoxyCodeLine{1523                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} val = b-\/>as<T>())}
\DoxyCodeLine{1524                     result.push\_back(val-\/>get());}
\DoxyCodeLine{1525                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1526                     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1527             \}}
\DoxyCodeLine{1528             \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{1529         \}}
\DoxyCodeLine{1530 }
\DoxyCodeLine{1531         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1532     \}}
\DoxyCodeLine{1533 }
\DoxyCodeLine{1537     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(\textcolor{keyword}{const} std::string\& key, \textcolor{keyword}{const} std::shared\_ptr<base>\& \mbox{\hyperlink{classcpptoml_1_1value}{value}})}
\DoxyCodeLine{1538     \{}
\DoxyCodeLine{1539         map\_[key] = \mbox{\hyperlink{classcpptoml_1_1value}{value}};}
\DoxyCodeLine{1540     \}}
\DoxyCodeLine{1541 }
\DoxyCodeLine{1546     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1547     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table_a213b23356017fd1a9aeaa9ac3a6178d8}{insert}}(\textcolor{keyword}{const} std::string\& key, T\&\& val,}
\DoxyCodeLine{1548                 \textcolor{keyword}{typename} \mbox{\hyperlink{structcpptoml_1_1value__traits}{value\_traits<T>::type}}* = 0)}
\DoxyCodeLine{1549     \{}
\DoxyCodeLine{1550         insert(key, \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(std::forward<T>(val)));}
\DoxyCodeLine{1551     \}}
\DoxyCodeLine{1552 }
\DoxyCodeLine{1556     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1table_a5fdea1f780791d25e5b20ba72eabd0fc}{erase}}(\textcolor{keyword}{const} std::string\& key)}
\DoxyCodeLine{1557     \{}
\DoxyCodeLine{1558         map\_.erase(key);}
\DoxyCodeLine{1559     \}}
\DoxyCodeLine{1560 }
\DoxyCodeLine{1561   \textcolor{keyword}{private}:}
\DoxyCodeLine{1562 \textcolor{preprocessor}{\#if defined(CPPTOML\_NO\_RTTI)}}
\DoxyCodeLine{1563     \mbox{\hyperlink{classcpptoml_1_1table}{table}}() : \mbox{\hyperlink{classcpptoml_1_1base}{base}}(base\_type::TABLE)}
\DoxyCodeLine{1564     \{}
\DoxyCodeLine{1565         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1566     \}}
\DoxyCodeLine{1567 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1568     \mbox{\hyperlink{classcpptoml_1_1table_aa015406ceb358322640c30720a0b5979}{table}}()}
\DoxyCodeLine{1569     \{}
\DoxyCodeLine{1570         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1571     \}}
\DoxyCodeLine{1572 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1573 }
\DoxyCodeLine{1574     \mbox{\hyperlink{classcpptoml_1_1table_afff20a6840886cf258510e9d1562ebff}{table}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table}{table}}\& obj) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1575     \mbox{\hyperlink{classcpptoml_1_1table}{table}}\& \mbox{\hyperlink{classcpptoml_1_1table_a7b63f5c4d9cd56cc137cda7100cb6d02}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table}{table}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1576 }
\DoxyCodeLine{1577     std::vector<std::string> \mbox{\hyperlink{classcpptoml_1_1table_aeeda83e63fa1cdbf9fd118f89dbda686}{split}}(\textcolor{keyword}{const} std::string\& \mbox{\hyperlink{classcpptoml_1_1value}{value}},}
\DoxyCodeLine{1578                                    \textcolor{keywordtype}{char} separator)\textcolor{keyword}{ const}}
\DoxyCodeLine{1579 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1580         std::vector<std::string> result;}
\DoxyCodeLine{1581         std::string::size\_type p = 0;}
\DoxyCodeLine{1582         std::string::size\_type q;}
\DoxyCodeLine{1583         \textcolor{keywordflow}{while} ((q = \mbox{\hyperlink{classcpptoml_1_1value}{value}}.find(separator, p)) != std::string::npos)}
\DoxyCodeLine{1584         \{}
\DoxyCodeLine{1585             result.emplace\_back(\mbox{\hyperlink{classcpptoml_1_1value}{value}}, p, q -\/ p);}
\DoxyCodeLine{1586             p = q + 1;}
\DoxyCodeLine{1587         \}}
\DoxyCodeLine{1588         result.emplace\_back(\mbox{\hyperlink{classcpptoml_1_1value}{value}}, p);}
\DoxyCodeLine{1589         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1590     \}}
\DoxyCodeLine{1591 }
\DoxyCodeLine{1592     \textcolor{comment}{// If output parameter p is specified, fill it with the pointer to the}}
\DoxyCodeLine{1593     \textcolor{comment}{// specified entry and throw std::out\_of\_range if it couldn't be found.}}
\DoxyCodeLine{1594     \textcolor{comment}{//}}
\DoxyCodeLine{1595     \textcolor{comment}{// Otherwise, just return true if the entry could be found or false}}
\DoxyCodeLine{1596     \textcolor{comment}{// otherwise and do not throw.}}
\DoxyCodeLine{1597     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1table_a29300dcd0dd431a971efedcc93227fed}{resolve\_qualified}}(\textcolor{keyword}{const} std::string\& key,}
\DoxyCodeLine{1598                            std::shared\_ptr<base>* p = \textcolor{keyword}{nullptr})\textcolor{keyword}{ const}}
\DoxyCodeLine{1599 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1600         \textcolor{keyword}{auto} parts = split(key, \textcolor{charliteral}{'.'});}
\DoxyCodeLine{1601         \textcolor{keyword}{auto} last\_key = parts.back();}
\DoxyCodeLine{1602         parts.pop\_back();}
\DoxyCodeLine{1603 }
\DoxyCodeLine{1604         \textcolor{keyword}{auto} cur\_table = \textcolor{keyword}{this};}
\DoxyCodeLine{1605         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& part : parts)}
\DoxyCodeLine{1606         \{}
\DoxyCodeLine{1607             cur\_table = cur\_table-\/>get\_table(part).get();}
\DoxyCodeLine{1608             \textcolor{keywordflow}{if} (!cur\_table)}
\DoxyCodeLine{1609             \{}
\DoxyCodeLine{1610                 \textcolor{keywordflow}{if} (!p)}
\DoxyCodeLine{1611                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1612 }
\DoxyCodeLine{1613                 \textcolor{keywordflow}{throw} std::out\_of\_range\{key + \textcolor{stringliteral}{"{} is not a valid key"{}}\};}
\DoxyCodeLine{1614             \}}
\DoxyCodeLine{1615         \}}
\DoxyCodeLine{1616 }
\DoxyCodeLine{1617         \textcolor{keywordflow}{if} (!p)}
\DoxyCodeLine{1618             \textcolor{keywordflow}{return} cur\_table-\/>map\_.count(last\_key) != 0;}
\DoxyCodeLine{1619 }
\DoxyCodeLine{1620         *p = cur\_table-\/>map\_.at(last\_key);}
\DoxyCodeLine{1621         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1622     \}}
\DoxyCodeLine{1623 }
\DoxyCodeLine{1624     \mbox{\hyperlink{namespacecpptoml_a03674e78b43e292a0846a4e9a72a438d}{string\_to\_base\_map}} \mbox{\hyperlink{classcpptoml_1_1table_a5db9093d2233e4804b9168d8febf1d70}{map\_}};}
\DoxyCodeLine{1625 \};}
\DoxyCodeLine{1626 }
\DoxyCodeLine{1636 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1637 \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<array>::return\_type}}}
\DoxyCodeLine{1638 table::get\_array\_of<array>(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1639 \textcolor{keyword}{}\{}
\DoxyCodeLine{1640     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = get\_array(key))}
\DoxyCodeLine{1641     \{}
\DoxyCodeLine{1642         std::vector<std::shared\_ptr<array>> result;}
\DoxyCodeLine{1643         result.reserve(v-\/>get().size());}
\DoxyCodeLine{1644 }
\DoxyCodeLine{1645         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& b : v-\/>get())}
\DoxyCodeLine{1646         \{}
\DoxyCodeLine{1647             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} val = b-\/>as\_array())}
\DoxyCodeLine{1648                 result.push\_back(val);}
\DoxyCodeLine{1649             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1650                 \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1651         \}}
\DoxyCodeLine{1652 }
\DoxyCodeLine{1653         \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{1654     \}}
\DoxyCodeLine{1655 }
\DoxyCodeLine{1656     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1657 \}}
\DoxyCodeLine{1658 }
\DoxyCodeLine{1668 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1669 \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classcpptoml_1_1option}{array\_of\_trait<array>::return\_type}}}
\DoxyCodeLine{1670 table::get\_qualified\_array\_of<array>(\textcolor{keyword}{const} std::string\& key)\textcolor{keyword}{ const}}
\DoxyCodeLine{1671 \textcolor{keyword}{}\{}
\DoxyCodeLine{1672     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = get\_array\_qualified(key))}
\DoxyCodeLine{1673     \{}
\DoxyCodeLine{1674         std::vector<std::shared\_ptr<array>> result;}
\DoxyCodeLine{1675         result.reserve(v-\/>get().size());}
\DoxyCodeLine{1676 }
\DoxyCodeLine{1677         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& b : v-\/>get())}
\DoxyCodeLine{1678         \{}
\DoxyCodeLine{1679             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} val = b-\/>as\_array())}
\DoxyCodeLine{1680                 result.push\_back(val);}
\DoxyCodeLine{1681             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1682                 \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1683         \}}
\DoxyCodeLine{1684 }
\DoxyCodeLine{1685         \textcolor{keywordflow}{return} \{std::move(result)\};}
\DoxyCodeLine{1686     \}}
\DoxyCodeLine{1687 }
\DoxyCodeLine{1688     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{1689 \}}
\DoxyCodeLine{1690 }
\DoxyCodeLine{1691 std::shared\_ptr<table> \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}()}
\DoxyCodeLine{1692 \{}
\DoxyCodeLine{1693     \textcolor{keyword}{struct }make\_shared\_enabler : \textcolor{keyword}{public} \mbox{\hyperlink{classcpptoml_1_1table}{table}}}
\DoxyCodeLine{1694     \{}
\DoxyCodeLine{1695         make\_shared\_enabler()}
\DoxyCodeLine{1696         \{}
\DoxyCodeLine{1697             \textcolor{comment}{// nothing}}
\DoxyCodeLine{1698         \}}
\DoxyCodeLine{1699     \};}
\DoxyCodeLine{1700 }
\DoxyCodeLine{1701     \textcolor{keywordflow}{return} std::make\_shared<make\_shared\_enabler>();}
\DoxyCodeLine{1702 \}}
\DoxyCodeLine{1703 }
\DoxyCodeLine{1704 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{1705 \{}
\DoxyCodeLine{1706 \textcolor{keyword}{template} <>}
\DoxyCodeLine{1707 \textcolor{keyword}{inline} std::shared\_ptr<table> \mbox{\hyperlink{namespacecpptoml_1_1detail_a2e99cc02da7287d49e25fd2bbc6a487d}{make\_element<table>}}()}
\DoxyCodeLine{1708 \{}
\DoxyCodeLine{1709     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{1710 \}}
\DoxyCodeLine{1711 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{1712 }
\DoxyCodeLine{1713 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1714 std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1value}{value<T>::clone}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1715 \textcolor{keyword}{}\{}
\DoxyCodeLine{1716     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(data\_);}
\DoxyCodeLine{1717 \}}
\DoxyCodeLine{1718 }
\DoxyCodeLine{1719 \textcolor{keyword}{inline} std::shared\_ptr<base> array::clone()\textcolor{keyword}{ const}}
\DoxyCodeLine{1720 \textcolor{keyword}{}\{}
\DoxyCodeLine{1721     \textcolor{keyword}{auto} result = \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}();}
\DoxyCodeLine{1722     result-\/>reserve(values\_.size());}
\DoxyCodeLine{1723     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& ptr : values\_)}
\DoxyCodeLine{1724         result-\/>values\_.push\_back(ptr-\/>clone());}
\DoxyCodeLine{1725     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1726 \}}
\DoxyCodeLine{1727 }
\DoxyCodeLine{1728 \textcolor{keyword}{inline} std::shared\_ptr<base> table\_array::clone()\textcolor{keyword}{ const}}
\DoxyCodeLine{1729 \textcolor{keyword}{}\{}
\DoxyCodeLine{1730     \textcolor{keyword}{auto} result = \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}(is\_inline());}
\DoxyCodeLine{1731     result-\/>reserve(array\_.size());}
\DoxyCodeLine{1732     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& ptr : array\_)}
\DoxyCodeLine{1733         result-\/>array\_.push\_back(ptr-\/>clone()-\/>as\_table());}
\DoxyCodeLine{1734     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1735 \}}
\DoxyCodeLine{1736 }
\DoxyCodeLine{1737 \textcolor{keyword}{inline} std::shared\_ptr<base> table::clone()\textcolor{keyword}{ const}}
\DoxyCodeLine{1738 \textcolor{keyword}{}\{}
\DoxyCodeLine{1739     \textcolor{keyword}{auto} result = \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{1740     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& pr : map\_)}
\DoxyCodeLine{1741         result-\/>insert(pr.first, pr.second-\/>clone());}
\DoxyCodeLine{1742     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1743 \}}
\DoxyCodeLine{1744 }
\DoxyCodeLine{1748 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1parse__exception}{parse\_exception}} : \textcolor{keyword}{public} std::runtime\_error}
\DoxyCodeLine{1749 \{}
\DoxyCodeLine{1750   \textcolor{keyword}{public}:}
\DoxyCodeLine{1751     \mbox{\hyperlink{classcpptoml_1_1parse__exception_ab35dfe60670b97bfbda03b0446dc2c7d}{parse\_exception}}(\textcolor{keyword}{const} std::string\& err) : std::runtime\_error\{err\}}
\DoxyCodeLine{1752     \{}
\DoxyCodeLine{1753     \}}
\DoxyCodeLine{1754 }
\DoxyCodeLine{1755     \mbox{\hyperlink{classcpptoml_1_1parse__exception_a591702f15e5f6934ead9e4df6bcc4aca}{parse\_exception}}(\textcolor{keyword}{const} std::string\& err, std::size\_t line\_number)}
\DoxyCodeLine{1756         : std::runtime\_error\{err + \textcolor{stringliteral}{"{} at line "{}} + std::to\_string(line\_number)\}}
\DoxyCodeLine{1757     \{}
\DoxyCodeLine{1758     \}}
\DoxyCodeLine{1759 \};}
\DoxyCodeLine{1760 }
\DoxyCodeLine{1761 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(\textcolor{keywordtype}{char} c)}
\DoxyCodeLine{1762 \{}
\DoxyCodeLine{1763     \textcolor{keywordflow}{return} c >= \textcolor{charliteral}{'0'} \&\& c <= \textcolor{charliteral}{'9'};}
\DoxyCodeLine{1764 \}}
\DoxyCodeLine{1765 }
\DoxyCodeLine{1766 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacecpptoml_a8920dd98d64555bc47a96593a1a07989}{is\_hex}}(\textcolor{keywordtype}{char} c)}
\DoxyCodeLine{1767 \{}
\DoxyCodeLine{1768     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c) || (c >= \textcolor{charliteral}{'a'} \&\& c <= \textcolor{charliteral}{'f'}) || (c >= \textcolor{charliteral}{'A'} \&\& c <= \textcolor{charliteral}{'F'});}
\DoxyCodeLine{1769 \}}
\DoxyCodeLine{1770 }
\DoxyCodeLine{1774 \textcolor{keyword}{template} <\textcolor{keyword}{class} OnError>}
\DoxyCodeLine{1775 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1consumer}{consumer}}}
\DoxyCodeLine{1776 \{}
\DoxyCodeLine{1777   \textcolor{keyword}{public}:}
\DoxyCodeLine{1778     \mbox{\hyperlink{classcpptoml_1_1consumer_abc5bb728c95e33272fa61da1e1a6abc7}{consumer}}(std::string::iterator\& it, \textcolor{keyword}{const} std::string::iterator\& end,}
\DoxyCodeLine{1779              OnError\&\& on\_error)}
\DoxyCodeLine{1780         : it\_(it), end\_(end), on\_error\_(std::forward<OnError>(on\_error))}
\DoxyCodeLine{1781     \{}
\DoxyCodeLine{1782         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1783     \}}
\DoxyCodeLine{1784 }
\DoxyCodeLine{1785     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1consumer_aab5a5278301bc40bfbf39a8a88556ceb}{operator()}}(\textcolor{keywordtype}{char} c)}
\DoxyCodeLine{1786     \{}
\DoxyCodeLine{1787         \textcolor{keywordflow}{if} (it\_ == end\_ || *it\_ != c)}
\DoxyCodeLine{1788             on\_error\_();}
\DoxyCodeLine{1789         ++it\_;}
\DoxyCodeLine{1790     \}}
\DoxyCodeLine{1791 }
\DoxyCodeLine{1792     \textcolor{keyword}{template} <std::\textcolor{keywordtype}{size\_t} N>}
\DoxyCodeLine{1793     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1consumer_a94bdfbc70ba9a61003f9084434156db4}{operator()}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} (\&str)[N])}
\DoxyCodeLine{1794     \{}
\DoxyCodeLine{1795         std::for\_each(std::begin(str), std::end(str) -\/ 1,}
\DoxyCodeLine{1796                       [\&](\textcolor{keywordtype}{char} c) \{ (*this)(c); \});}
\DoxyCodeLine{1797     \}}
\DoxyCodeLine{1798 }
\DoxyCodeLine{1799     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1consumer_acc20821b98685a97e3d4a55433124a2b}{eat\_or}}(\textcolor{keywordtype}{char} a, \textcolor{keywordtype}{char} b)}
\DoxyCodeLine{1800     \{}
\DoxyCodeLine{1801         \textcolor{keywordflow}{if} (it\_ == end\_ || (*it\_ != a \&\& *it\_ != b))}
\DoxyCodeLine{1802             on\_error\_();}
\DoxyCodeLine{1803         ++it\_;}
\DoxyCodeLine{1804     \}}
\DoxyCodeLine{1805 }
\DoxyCodeLine{1806     \textcolor{keywordtype}{int} \mbox{\hyperlink{classcpptoml_1_1consumer_a52c521e3764bdaeda25ad08875eea8d3}{eat\_digits}}(\textcolor{keywordtype}{int} len)}
\DoxyCodeLine{1807     \{}
\DoxyCodeLine{1808         \textcolor{keywordtype}{int} val = 0;}
\DoxyCodeLine{1809         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < len; ++i)}
\DoxyCodeLine{1810         \{}
\DoxyCodeLine{1811             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(*it\_) || it\_ == end\_)}
\DoxyCodeLine{1812                 on\_error\_();}
\DoxyCodeLine{1813             val = 10 * val + (*it\_++ -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{1814         \}}
\DoxyCodeLine{1815         \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{1816     \}}
\DoxyCodeLine{1817 }
\DoxyCodeLine{1818     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1consumer_a2cf9e33fe9091d6ed34f9a479f709192}{error}}()}
\DoxyCodeLine{1819     \{}
\DoxyCodeLine{1820         on\_error\_();}
\DoxyCodeLine{1821     \}}
\DoxyCodeLine{1822 }
\DoxyCodeLine{1823   \textcolor{keyword}{private}:}
\DoxyCodeLine{1824     std::string::iterator\& \mbox{\hyperlink{classcpptoml_1_1consumer_a16bd83fb75307c1286a365ea622666c4}{it\_}};}
\DoxyCodeLine{1825     \textcolor{keyword}{const} std::string::iterator\& \mbox{\hyperlink{classcpptoml_1_1consumer_ac79e143118695c752812eda64dcfeb2e}{end\_}};}
\DoxyCodeLine{1826     OnError \mbox{\hyperlink{classcpptoml_1_1consumer_a44c71f951ac17f0d0d042e3a140274a3}{on\_error\_}};}
\DoxyCodeLine{1827 \};}
\DoxyCodeLine{1828 }
\DoxyCodeLine{1829 \textcolor{keyword}{template} <\textcolor{keyword}{class} OnError>}
\DoxyCodeLine{1830 \mbox{\hyperlink{classcpptoml_1_1consumer}{consumer<OnError>}} \mbox{\hyperlink{namespacecpptoml_ab577a9dbaed5b73d5fed7d58f11231ce}{make\_consumer}}(std::string::iterator\& it,}
\DoxyCodeLine{1831                                 \textcolor{keyword}{const} std::string::iterator\& end,}
\DoxyCodeLine{1832                                 OnError\&\& on\_error)}
\DoxyCodeLine{1833 \{}
\DoxyCodeLine{1834     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1consumer}{consumer<OnError>}}(it, end, std::forward<OnError>(on\_error));}
\DoxyCodeLine{1835 \}}
\DoxyCodeLine{1836 }
\DoxyCodeLine{1837 \textcolor{comment}{// replacement for std::getline to handle incorrectly line-\/ended files}}
\DoxyCodeLine{1838 \textcolor{comment}{// https://stackoverflow.com/questions/6089231/getting-\/std-\/ifstream-\/to-\/handle-\/lf-\/cr-\/and-\/crlf}}
\DoxyCodeLine{1839 \textcolor{keyword}{namespace }detail}
\DoxyCodeLine{1840 \{}
\DoxyCodeLine{1841 \textcolor{keyword}{inline} std::istream\& \mbox{\hyperlink{namespacecpptoml_1_1detail_a74e09522f6e6aa3089c076a36b5fb308}{getline}}(std::istream\& input, std::string\& line)}
\DoxyCodeLine{1842 \{}
\DoxyCodeLine{1843     line.clear();}
\DoxyCodeLine{1844 }
\DoxyCodeLine{1845     std::istream::sentry sentry\{input, \textcolor{keyword}{true}\};}
\DoxyCodeLine{1846     \textcolor{keyword}{auto} sb = input.rdbuf();}
\DoxyCodeLine{1847 }
\DoxyCodeLine{1848     \textcolor{keywordflow}{while} (\textcolor{keyword}{true})}
\DoxyCodeLine{1849     \{}
\DoxyCodeLine{1850         \textcolor{keyword}{auto} c = sb-\/>sbumpc();}
\DoxyCodeLine{1851         \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)r'})}
\DoxyCodeLine{1852         \{}
\DoxyCodeLine{1853             \textcolor{keywordflow}{if} (sb-\/>sgetc() == \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{1854                 c = sb-\/>sbumpc();}
\DoxyCodeLine{1855         \}}
\DoxyCodeLine{1856 }
\DoxyCodeLine{1857         \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{1858             \textcolor{keywordflow}{return} input;}
\DoxyCodeLine{1859 }
\DoxyCodeLine{1860         \textcolor{keywordflow}{if} (c == std::istream::traits\_type::eof())}
\DoxyCodeLine{1861         \{}
\DoxyCodeLine{1862             \textcolor{keywordflow}{if} (line.empty())}
\DoxyCodeLine{1863                 input.setstate(std::ios::eofbit);}
\DoxyCodeLine{1864             \textcolor{keywordflow}{return} input;}
\DoxyCodeLine{1865         \}}
\DoxyCodeLine{1866 }
\DoxyCodeLine{1867         line.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(c));}
\DoxyCodeLine{1868     \}}
\DoxyCodeLine{1869 \}}
\DoxyCodeLine{1870 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{1871 }
\DoxyCodeLine{1875 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1parser}{parser}}}
\DoxyCodeLine{1876 \{}
\DoxyCodeLine{1877   \textcolor{keyword}{public}:}
\DoxyCodeLine{1881     \mbox{\hyperlink{classcpptoml_1_1parser_a9f30ede84441ecc93e431f38fb794fd7}{parser}}(std::istream\& stream) : input\_(stream)}
\DoxyCodeLine{1882     \{}
\DoxyCodeLine{1883         \textcolor{comment}{// nothing}}
\DoxyCodeLine{1884     \}}
\DoxyCodeLine{1885 }
\DoxyCodeLine{1886     \mbox{\hyperlink{classcpptoml_1_1parser}{parser}}\& \mbox{\hyperlink{classcpptoml_1_1parser_a09d08ad3f2b52574a87c6cefeca01b8a}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1parser}{parser}}\& \mbox{\hyperlink{classcpptoml_1_1parser}{parser}}) = \textcolor{keyword}{delete};}
\DoxyCodeLine{1887 }
\DoxyCodeLine{1892     std::shared\_ptr<table> \mbox{\hyperlink{classcpptoml_1_1parser_a836d2fa818d704af4d02e036e3b5d817}{parse}}()}
\DoxyCodeLine{1893     \{}
\DoxyCodeLine{1894         std::shared\_ptr<table> root = \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{1895 }
\DoxyCodeLine{1896         \mbox{\hyperlink{classcpptoml_1_1table}{table}}* curr\_table = root.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}();}
\DoxyCodeLine{1897 }
\DoxyCodeLine{1898         \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacecpptoml_1_1detail_a74e09522f6e6aa3089c076a36b5fb308}{detail::getline}}(input\_, line\_))}
\DoxyCodeLine{1899         \{}
\DoxyCodeLine{1900             line\_number\_++;}
\DoxyCodeLine{1901             \textcolor{keyword}{auto} it = line\_.begin();}
\DoxyCodeLine{1902             \textcolor{keyword}{auto} end = line\_.end();}
\DoxyCodeLine{1903             consume\_whitespace(it, end);}
\DoxyCodeLine{1904             \textcolor{keywordflow}{if} (it == end || *it == \textcolor{charliteral}{'\#'})}
\DoxyCodeLine{1905                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1906             \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'['})}
\DoxyCodeLine{1907             \{}
\DoxyCodeLine{1908                 curr\_table = root.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}();}
\DoxyCodeLine{1909                 parse\_table(it, end, curr\_table);}
\DoxyCodeLine{1910             \}}
\DoxyCodeLine{1911             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1912             \{}
\DoxyCodeLine{1913                 parse\_key\_value(it, end, curr\_table);}
\DoxyCodeLine{1914                 consume\_whitespace(it, end);}
\DoxyCodeLine{1915                 eol\_or\_comment(it, end);}
\DoxyCodeLine{1916             \}}
\DoxyCodeLine{1917         \}}
\DoxyCodeLine{1918         \textcolor{keywordflow}{return} root;}
\DoxyCodeLine{1919     \}}
\DoxyCodeLine{1920 }
\DoxyCodeLine{1921   \textcolor{keyword}{private}:}
\DoxyCodeLine{1922 \textcolor{preprocessor}{\#if defined \_MSC\_VER}}
\DoxyCodeLine{1923     \_\_declspec(noreturn)}
\DoxyCodeLine{1924 \textcolor{preprocessor}{\#elif defined \_\_GNUC\_\_}}
\DoxyCodeLine{1925     \_\_attribute\_\_((noreturn))}
\DoxyCodeLine{1926 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1927         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a41e95ebcda5c2dcb1758ae2ed3f4e7b6}{throw\_parse\_exception}}(\textcolor{keyword}{const} std::string\& err)}
\DoxyCodeLine{1928     \{}
\DoxyCodeLine{1929         \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1parse__exception}{parse\_exception}}\{err, line\_number\_\};}
\DoxyCodeLine{1930     \}}
\DoxyCodeLine{1931 }
\DoxyCodeLine{1932     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a8ebe7a4db132dbf70a8e7c17cff636f0}{parse\_table}}(std::string::iterator\& it,}
\DoxyCodeLine{1933                      \textcolor{keyword}{const} std::string::iterator\& end, \mbox{\hyperlink{classcpptoml_1_1table}{table}}*\& curr\_table)}
\DoxyCodeLine{1934     \{}
\DoxyCodeLine{1935         \textcolor{comment}{// remove the beginning keytable marker}}
\DoxyCodeLine{1936         ++it;}
\DoxyCodeLine{1937         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{1938             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unexpected end of table"{}});}
\DoxyCodeLine{1939         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'['})}
\DoxyCodeLine{1940             parse\_table\_array(it, end, curr\_table);}
\DoxyCodeLine{1941         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1942             parse\_single\_table(it, end, curr\_table);}
\DoxyCodeLine{1943     \}}
\DoxyCodeLine{1944 }
\DoxyCodeLine{1945     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a343c2f112e1c169ab74e79c2efa7e864}{parse\_single\_table}}(std::string::iterator\& it,}
\DoxyCodeLine{1946                             \textcolor{keyword}{const} std::string::iterator\& end,}
\DoxyCodeLine{1947                             \mbox{\hyperlink{classcpptoml_1_1table}{table}}*\& curr\_table)}
\DoxyCodeLine{1948     \{}
\DoxyCodeLine{1949         \textcolor{keywordflow}{if} (it == end || *it == \textcolor{charliteral}{']'})}
\DoxyCodeLine{1950             throw\_parse\_exception(\textcolor{stringliteral}{"{}Table name cannot be empty"{}});}
\DoxyCodeLine{1951 }
\DoxyCodeLine{1952         std::string full\_table\_name;}
\DoxyCodeLine{1953         \textcolor{keywordtype}{bool} inserted = \textcolor{keyword}{false};}
\DoxyCodeLine{1954 }
\DoxyCodeLine{1955         \textcolor{keyword}{auto} key\_end = [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{']'}; \};}
\DoxyCodeLine{1956 }
\DoxyCodeLine{1957         \textcolor{keyword}{auto} key\_part\_handler = [\&](\textcolor{keyword}{const} std::string\& part) \{}
\DoxyCodeLine{1958             \textcolor{keywordflow}{if} (part.empty())}
\DoxyCodeLine{1959                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Empty component of table name"{}});}
\DoxyCodeLine{1960 }
\DoxyCodeLine{1961             \textcolor{keywordflow}{if} (!full\_table\_name.empty())}
\DoxyCodeLine{1962                 full\_table\_name += \textcolor{charliteral}{'.'};}
\DoxyCodeLine{1963             full\_table\_name += part;}
\DoxyCodeLine{1964 }
\DoxyCodeLine{1965             \textcolor{keywordflow}{if} (curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a212d6fec5865e7d10fd3e404b1af94fe}{contains}}(part))}
\DoxyCodeLine{1966             \{}
\DoxyCodeLine{1967 \textcolor{preprocessor}{\#if !defined(\_\_PGI)}}
\DoxyCodeLine{1968                 \textcolor{keyword}{auto} b = curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part);}
\DoxyCodeLine{1969 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1970                 \textcolor{comment}{// Workaround for PGI compiler}}
\DoxyCodeLine{1971                 std::shared\_ptr<base> b = curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part);}
\DoxyCodeLine{1972 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1973                 \textcolor{keywordflow}{if} (b-\/>is\_table())}
\DoxyCodeLine{1974                     curr\_table = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcpptoml_1_1table}{table}}*\textcolor{keyword}{>}(b.get());}
\DoxyCodeLine{1975                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b-\/>is\_table\_array())}
\DoxyCodeLine{1976                     curr\_table = std::static\_pointer\_cast<table\_array>(b)}
\DoxyCodeLine{1977                                      -\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}()}
\DoxyCodeLine{1978                                      .back()}
\DoxyCodeLine{1979                                      .get();}
\DoxyCodeLine{1980                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1981                     throw\_parse\_exception(\textcolor{stringliteral}{"{}Key "{}} + full\_table\_name}
\DoxyCodeLine{1982                                           + \textcolor{stringliteral}{"{}already exists as a value"{}});}
\DoxyCodeLine{1983             \}}
\DoxyCodeLine{1984             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1985             \{}
\DoxyCodeLine{1986                 inserted = \textcolor{keyword}{true};}
\DoxyCodeLine{1987                 curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(part, \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}());}
\DoxyCodeLine{1988                 curr\_table = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcpptoml_1_1table}{table}}*\textcolor{keyword}{>}(curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part).get());}
\DoxyCodeLine{1989             \}}
\DoxyCodeLine{1990         \};}
\DoxyCodeLine{1991 }
\DoxyCodeLine{1992         key\_part\_handler(parse\_key(it, end, key\_end, key\_part\_handler));}
\DoxyCodeLine{1993 }
\DoxyCodeLine{1994         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{1995             throw\_parse\_exception(}
\DoxyCodeLine{1996                 \textcolor{stringliteral}{"{}Unterminated table declaration; did you forget a ']'?"{}});}
\DoxyCodeLine{1997 }
\DoxyCodeLine{1998         \textcolor{keywordflow}{if} (*it != \textcolor{charliteral}{']'})}
\DoxyCodeLine{1999         \{}
\DoxyCodeLine{2000             std::string errmsg\{\textcolor{stringliteral}{"{}Unexpected character in table definition: "{}}\};}
\DoxyCodeLine{2001             errmsg += \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{2002             errmsg += *it;}
\DoxyCodeLine{2003             errmsg += \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{2004             throw\_parse\_exception(errmsg);}
\DoxyCodeLine{2005         \}}
\DoxyCodeLine{2006 }
\DoxyCodeLine{2007         \textcolor{comment}{// table already existed}}
\DoxyCodeLine{2008         \textcolor{keywordflow}{if} (!inserted)}
\DoxyCodeLine{2009         \{}
\DoxyCodeLine{2010             \textcolor{keyword}{auto} is\_value}
\DoxyCodeLine{2011                 = [](\textcolor{keyword}{const} std::pair<\textcolor{keyword}{const} std::string\&,}
\DoxyCodeLine{2012                                      \textcolor{keyword}{const} std::shared\_ptr<base>\&>\& p) \{}
\DoxyCodeLine{2013                       \textcolor{keywordflow}{return} p.second-\/>is\_value();}
\DoxyCodeLine{2014                   \};}
\DoxyCodeLine{2015 }
\DoxyCodeLine{2016             \textcolor{comment}{// if there are any values, we can't add values to this table}}
\DoxyCodeLine{2017             \textcolor{comment}{// since it has already been defined. If there aren't any}}
\DoxyCodeLine{2018             \textcolor{comment}{// values, then it was implicitly created by something like}}
\DoxyCodeLine{2019             \textcolor{comment}{// [a.b]}}
\DoxyCodeLine{2020             \textcolor{keywordflow}{if} (curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a624e1a754ee1c95539e4f5d67ae09574}{empty}}()}
\DoxyCodeLine{2021                 || std::any\_of(curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a7b02d4bacfe44b57294993337ba2112b}{begin}}(), curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a5ab77a7c1b96ea4f7d9a879bad4b90a6}{end}}(),}
\DoxyCodeLine{2022                                is\_value))}
\DoxyCodeLine{2023             \{}
\DoxyCodeLine{2024                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Redefinition of table "{}}}
\DoxyCodeLine{2025                                       + full\_table\_name);}
\DoxyCodeLine{2026             \}}
\DoxyCodeLine{2027         \}}
\DoxyCodeLine{2028 }
\DoxyCodeLine{2029         ++it;}
\DoxyCodeLine{2030         consume\_whitespace(it, end);}
\DoxyCodeLine{2031         eol\_or\_comment(it, end);}
\DoxyCodeLine{2032     \}}
\DoxyCodeLine{2033 }
\DoxyCodeLine{2034     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_ab5ad3a507eabf5c207f44daa726508c9}{parse\_table\_array}}(std::string::iterator\& it,}
\DoxyCodeLine{2035                            \textcolor{keyword}{const} std::string::iterator\& end, \mbox{\hyperlink{classcpptoml_1_1table}{table}}*\& curr\_table)}
\DoxyCodeLine{2036     \{}
\DoxyCodeLine{2037         ++it;}
\DoxyCodeLine{2038         \textcolor{keywordflow}{if} (it == end || *it == \textcolor{charliteral}{']'})}
\DoxyCodeLine{2039             throw\_parse\_exception(\textcolor{stringliteral}{"{}Table array name cannot be empty"{}});}
\DoxyCodeLine{2040 }
\DoxyCodeLine{2041         \textcolor{keyword}{auto} key\_end = [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{']'}; \};}
\DoxyCodeLine{2042 }
\DoxyCodeLine{2043         std::string full\_ta\_name;}
\DoxyCodeLine{2044         \textcolor{keyword}{auto} key\_part\_handler = [\&](\textcolor{keyword}{const} std::string\& part) \{}
\DoxyCodeLine{2045             \textcolor{keywordflow}{if} (part.empty())}
\DoxyCodeLine{2046                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Empty component of table array name"{}});}
\DoxyCodeLine{2047 }
\DoxyCodeLine{2048             \textcolor{keywordflow}{if} (!full\_ta\_name.empty())}
\DoxyCodeLine{2049                 full\_ta\_name += \textcolor{charliteral}{'.'};}
\DoxyCodeLine{2050             full\_ta\_name += part;}
\DoxyCodeLine{2051 }
\DoxyCodeLine{2052             \textcolor{keywordflow}{if} (curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a212d6fec5865e7d10fd3e404b1af94fe}{contains}}(part))}
\DoxyCodeLine{2053             \{}
\DoxyCodeLine{2054 \textcolor{preprocessor}{\#if !defined(\_\_PGI)}}
\DoxyCodeLine{2055                 \textcolor{keyword}{auto} b = curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part);}
\DoxyCodeLine{2056 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2057                 \textcolor{comment}{// Workaround for PGI compiler}}
\DoxyCodeLine{2058                 std::shared\_ptr<base> b = curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part);}
\DoxyCodeLine{2059 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2060 }
\DoxyCodeLine{2061                 \textcolor{comment}{// if this is the end of the table array name, add an}}
\DoxyCodeLine{2062                 \textcolor{comment}{// element to the table array that we just looked up,}}
\DoxyCodeLine{2063                 \textcolor{comment}{// provided it was not declared inline}}
\DoxyCodeLine{2064                 \textcolor{keywordflow}{if} (it != end \&\& *it == \textcolor{charliteral}{']'})}
\DoxyCodeLine{2065                 \{}
\DoxyCodeLine{2066                     \textcolor{keywordflow}{if} (!b-\/>is\_table\_array())}
\DoxyCodeLine{2067                     \{}
\DoxyCodeLine{2068                         throw\_parse\_exception(\textcolor{stringliteral}{"{}Key "{}} + full\_ta\_name}
\DoxyCodeLine{2069                                               + \textcolor{stringliteral}{"{} is not a table array"{}});}
\DoxyCodeLine{2070                     \}}
\DoxyCodeLine{2071 }
\DoxyCodeLine{2072                     \textcolor{keyword}{auto} v = b-\/>as\_table\_array();}
\DoxyCodeLine{2073 }
\DoxyCodeLine{2074                     \textcolor{keywordflow}{if} (v-\/>is\_inline())}
\DoxyCodeLine{2075                     \{}
\DoxyCodeLine{2076                         throw\_parse\_exception(\textcolor{stringliteral}{"{}Static array "{}} + full\_ta\_name}
\DoxyCodeLine{2077                                               + \textcolor{stringliteral}{"{} cannot be appended to"{}});}
\DoxyCodeLine{2078                     \}}
\DoxyCodeLine{2079 }
\DoxyCodeLine{2080                     v-\/>get().push\_back(\mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}());}
\DoxyCodeLine{2081                     curr\_table = v-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}().back().get();}
\DoxyCodeLine{2082                 \}}
\DoxyCodeLine{2083                 \textcolor{comment}{// otherwise, just keep traversing down the key name}}
\DoxyCodeLine{2084                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{2085                 \{}
\DoxyCodeLine{2086                     \textcolor{keywordflow}{if} (b-\/>is\_table())}
\DoxyCodeLine{2087                         curr\_table = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcpptoml_1_1table}{table}}*\textcolor{keyword}{>}(b.get());}
\DoxyCodeLine{2088                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b-\/>is\_table\_array())}
\DoxyCodeLine{2089                         curr\_table = std::static\_pointer\_cast<table\_array>(b)}
\DoxyCodeLine{2090                                          -\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}()}
\DoxyCodeLine{2091                                          .back()}
\DoxyCodeLine{2092                                          .get();}
\DoxyCodeLine{2093                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{2094                         throw\_parse\_exception(\textcolor{stringliteral}{"{}Key "{}} + full\_ta\_name}
\DoxyCodeLine{2095                                               + \textcolor{stringliteral}{"{} already exists as a value"{}});}
\DoxyCodeLine{2096                 \}}
\DoxyCodeLine{2097             \}}
\DoxyCodeLine{2098             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2099             \{}
\DoxyCodeLine{2100                 \textcolor{comment}{// if this is the end of the table array name, add a new}}
\DoxyCodeLine{2101                 \textcolor{comment}{// table array and a new table inside that array for us to}}
\DoxyCodeLine{2102                 \textcolor{comment}{// add keys to next}}
\DoxyCodeLine{2103                 \textcolor{keywordflow}{if} (it != end \&\& *it == \textcolor{charliteral}{']'})}
\DoxyCodeLine{2104                 \{}
\DoxyCodeLine{2105                     curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(part, \mbox{\hyperlink{namespacecpptoml_a54d387d2ecd802ca998036befa63854b}{make\_table\_array}}());}
\DoxyCodeLine{2106                     \textcolor{keyword}{auto} arr = std::static\_pointer\_cast<table\_array>(}
\DoxyCodeLine{2107                         curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part));}
\DoxyCodeLine{2108                     arr-\/>get().push\_back(\mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}());}
\DoxyCodeLine{2109                     curr\_table = arr-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}().back().get();}
\DoxyCodeLine{2110                 \}}
\DoxyCodeLine{2111                 \textcolor{comment}{// otherwise, create the implicitly defined table and move}}
\DoxyCodeLine{2112                 \textcolor{comment}{// down to it}}
\DoxyCodeLine{2113                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{2114                 \{}
\DoxyCodeLine{2115                     curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(part, \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}());}
\DoxyCodeLine{2116                     curr\_table}
\DoxyCodeLine{2117                         = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcpptoml_1_1table}{table}}*\textcolor{keyword}{>}(curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part).get());}
\DoxyCodeLine{2118                 \}}
\DoxyCodeLine{2119             \}}
\DoxyCodeLine{2120         \};}
\DoxyCodeLine{2121 }
\DoxyCodeLine{2122         key\_part\_handler(parse\_key(it, end, key\_end, key\_part\_handler));}
\DoxyCodeLine{2123 }
\DoxyCodeLine{2124         \textcolor{comment}{// consume the last "{}]]"{}}}
\DoxyCodeLine{2125         \textcolor{keyword}{auto} eat = \mbox{\hyperlink{namespacecpptoml_ab577a9dbaed5b73d5fed7d58f11231ce}{make\_consumer}}(it, end, [\textcolor{keyword}{this}]() \{}
\DoxyCodeLine{2126             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated table array name"{}});}
\DoxyCodeLine{2127         \});}
\DoxyCodeLine{2128         eat(\textcolor{charliteral}{']'});}
\DoxyCodeLine{2129         eat(\textcolor{charliteral}{']'});}
\DoxyCodeLine{2130 }
\DoxyCodeLine{2131         consume\_whitespace(it, end);}
\DoxyCodeLine{2132         eol\_or\_comment(it, end);}
\DoxyCodeLine{2133     \}}
\DoxyCodeLine{2134 }
\DoxyCodeLine{2135     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a4974807353aad06be5b995db9f343308}{parse\_key\_value}}(std::string::iterator\& it, std::string::iterator\& end,}
\DoxyCodeLine{2136                          \mbox{\hyperlink{classcpptoml_1_1table}{table}}* curr\_table)}
\DoxyCodeLine{2137     \{}
\DoxyCodeLine{2138         \textcolor{keyword}{auto} key\_end = [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{'='}; \};}
\DoxyCodeLine{2139 }
\DoxyCodeLine{2140         \textcolor{keyword}{auto} key\_part\_handler = [\&](\textcolor{keyword}{const} std::string\& part) \{}
\DoxyCodeLine{2141             \textcolor{comment}{// two cases: this key part exists already, in which case it must}}
\DoxyCodeLine{2142             \textcolor{comment}{// be a table, or it doesn't exist in which case we must create}}
\DoxyCodeLine{2143             \textcolor{comment}{// an implicitly defined table}}
\DoxyCodeLine{2144             \textcolor{keywordflow}{if} (curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a212d6fec5865e7d10fd3e404b1af94fe}{contains}}(part))}
\DoxyCodeLine{2145             \{}
\DoxyCodeLine{2146                 \textcolor{keyword}{auto} val = curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(part);}
\DoxyCodeLine{2147                 \textcolor{keywordflow}{if} (val-\/>is\_table())}
\DoxyCodeLine{2148                 \{}
\DoxyCodeLine{2149                     curr\_table = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcpptoml_1_1table}{table}}*\textcolor{keyword}{>}(val.get());}
\DoxyCodeLine{2150                 \}}
\DoxyCodeLine{2151                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{2152                 \{}
\DoxyCodeLine{2153                     throw\_parse\_exception(\textcolor{stringliteral}{"{}Key "{}} + part}
\DoxyCodeLine{2154                                           + \textcolor{stringliteral}{"{} already exists as a value"{}});}
\DoxyCodeLine{2155                 \}}
\DoxyCodeLine{2156             \}}
\DoxyCodeLine{2157             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2158             \{}
\DoxyCodeLine{2159                 \textcolor{keyword}{auto} newtable = \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{2160                 curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(part, newtable);}
\DoxyCodeLine{2161                 curr\_table = newtable.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}();}
\DoxyCodeLine{2162             \}}
\DoxyCodeLine{2163         \};}
\DoxyCodeLine{2164 }
\DoxyCodeLine{2165         \textcolor{keyword}{auto} key = parse\_key(it, end, key\_end, key\_part\_handler);}
\DoxyCodeLine{2166 }
\DoxyCodeLine{2167         \textcolor{keywordflow}{if} (curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a212d6fec5865e7d10fd3e404b1af94fe}{contains}}(key))}
\DoxyCodeLine{2168             throw\_parse\_exception(\textcolor{stringliteral}{"{}Key "{}} + key + \textcolor{stringliteral}{"{} already present"{}});}
\DoxyCodeLine{2169         \textcolor{keywordflow}{if} (it == end || *it != \textcolor{charliteral}{'='})}
\DoxyCodeLine{2170             throw\_parse\_exception(\textcolor{stringliteral}{"{}Value must follow after a '='"{}});}
\DoxyCodeLine{2171         ++it;}
\DoxyCodeLine{2172         consume\_whitespace(it, end);}
\DoxyCodeLine{2173         curr\_table-\/>\mbox{\hyperlink{classcpptoml_1_1table_a4275af44e7655c001686d7225cd0387c}{insert}}(key, parse\_value(it, end));}
\DoxyCodeLine{2174         consume\_whitespace(it, end);}
\DoxyCodeLine{2175     \}}
\DoxyCodeLine{2176 }
\DoxyCodeLine{2177     \textcolor{keyword}{template} <\textcolor{keyword}{class} KeyEndFinder, \textcolor{keyword}{class} KeyPartHandler>}
\DoxyCodeLine{2178     std::string}
\DoxyCodeLine{2179     \mbox{\hyperlink{classcpptoml_1_1parser_abbe5ad1b86fd90ff636324e7ae6df35a}{parse\_key}}(std::string::iterator\& it, \textcolor{keyword}{const} std::string::iterator\& end,}
\DoxyCodeLine{2180               KeyEndFinder\&\& key\_end, KeyPartHandler\&\& key\_part\_handler)}
\DoxyCodeLine{2181     \{}
\DoxyCodeLine{2182         \textcolor{comment}{// parse the key as a series of one or more simple-\/keys joined with '.'}}
\DoxyCodeLine{2183         \textcolor{keywordflow}{while} (it != end \&\& !key\_end(*it))}
\DoxyCodeLine{2184         \{}
\DoxyCodeLine{2185             \textcolor{keyword}{auto} part = parse\_simple\_key(it, end);}
\DoxyCodeLine{2186             consume\_whitespace(it, end);}
\DoxyCodeLine{2187 }
\DoxyCodeLine{2188             \textcolor{keywordflow}{if} (it == end || key\_end(*it))}
\DoxyCodeLine{2189             \{}
\DoxyCodeLine{2190                 \textcolor{keywordflow}{return} part;}
\DoxyCodeLine{2191             \}}
\DoxyCodeLine{2192 }
\DoxyCodeLine{2193             \textcolor{keywordflow}{if} (*it != \textcolor{charliteral}{'.'})}
\DoxyCodeLine{2194             \{}
\DoxyCodeLine{2195                 std::string errmsg\{\textcolor{stringliteral}{"{}Unexpected character in key: "{}}\};}
\DoxyCodeLine{2196                 errmsg += \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{2197                 errmsg += *it;}
\DoxyCodeLine{2198                 errmsg += \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{2199                 throw\_parse\_exception(errmsg);}
\DoxyCodeLine{2200             \}}
\DoxyCodeLine{2201 }
\DoxyCodeLine{2202             key\_part\_handler(part);}
\DoxyCodeLine{2203 }
\DoxyCodeLine{2204             \textcolor{comment}{// consume the dot}}
\DoxyCodeLine{2205             ++it;}
\DoxyCodeLine{2206         \}}
\DoxyCodeLine{2207 }
\DoxyCodeLine{2208         throw\_parse\_exception(\textcolor{stringliteral}{"{}Unexpected end of key"{}});}
\DoxyCodeLine{2209     \}}
\DoxyCodeLine{2210 }
\DoxyCodeLine{2211     std::string \mbox{\hyperlink{classcpptoml_1_1parser_a75c69acea3af22370b2d87ba448229dd}{parse\_simple\_key}}(std::string::iterator\& it,}
\DoxyCodeLine{2212                                  \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2213     \{}
\DoxyCodeLine{2214         consume\_whitespace(it, end);}
\DoxyCodeLine{2215 }
\DoxyCodeLine{2216         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{2217             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unexpected end of key (blank key?)"{}});}
\DoxyCodeLine{2218 }
\DoxyCodeLine{2219         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'"{}'} || *it == \textcolor{charliteral}{'\(\backslash\)''})}
\DoxyCodeLine{2220         \{}
\DoxyCodeLine{2221             \textcolor{keywordflow}{return} string\_literal(it, end, *it);}
\DoxyCodeLine{2222         \}}
\DoxyCodeLine{2223         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2224         \{}
\DoxyCodeLine{2225             \textcolor{keyword}{auto} bke = std::find\_if(it, end, [](\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{2226                 \textcolor{keywordflow}{return} c == \textcolor{charliteral}{'.'} || c == \textcolor{charliteral}{'='} || c == \textcolor{charliteral}{']'};}
\DoxyCodeLine{2227             \});}
\DoxyCodeLine{2228             \textcolor{keywordflow}{return} parse\_bare\_key(it, bke);}
\DoxyCodeLine{2229         \}}
\DoxyCodeLine{2230     \}}
\DoxyCodeLine{2231 }
\DoxyCodeLine{2232     std::string \mbox{\hyperlink{classcpptoml_1_1parser_a3428aee40a93f23dd85ffe81a37d4ee3}{parse\_bare\_key}}(std::string::iterator\& it,}
\DoxyCodeLine{2233                                \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2234     \{}
\DoxyCodeLine{2235         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{2236         \{}
\DoxyCodeLine{2237             throw\_parse\_exception(\textcolor{stringliteral}{"{}Bare key missing name"{}});}
\DoxyCodeLine{2238         \}}
\DoxyCodeLine{2239 }
\DoxyCodeLine{2240         \textcolor{keyword}{auto} key\_end = end;}
\DoxyCodeLine{2241         -\/-\/key\_end;}
\DoxyCodeLine{2242         consume\_backwards\_whitespace(key\_end, it);}
\DoxyCodeLine{2243         ++key\_end;}
\DoxyCodeLine{2244         std::string key\{it, key\_end\};}
\DoxyCodeLine{2245 }
\DoxyCodeLine{2246         \textcolor{keywordflow}{if} (std::find(it, key\_end, \textcolor{charliteral}{'\#'}) != key\_end)}
\DoxyCodeLine{2247         \{}
\DoxyCodeLine{2248             throw\_parse\_exception(\textcolor{stringliteral}{"{}Bare key "{}} + key + \textcolor{stringliteral}{"{} cannot contain \#"{}});}
\DoxyCodeLine{2249         \}}
\DoxyCodeLine{2250 }
\DoxyCodeLine{2251         \textcolor{keywordflow}{if} (std::find\_if(it, key\_end,}
\DoxyCodeLine{2252                          [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{' '} || c == \textcolor{charliteral}{'\(\backslash\)t'}; \})}
\DoxyCodeLine{2253             != key\_end)}
\DoxyCodeLine{2254         \{}
\DoxyCodeLine{2255             throw\_parse\_exception(\textcolor{stringliteral}{"{}Bare key "{}} + key}
\DoxyCodeLine{2256                                   + \textcolor{stringliteral}{"{} cannot contain whitespace"{}});}
\DoxyCodeLine{2257         \}}
\DoxyCodeLine{2258 }
\DoxyCodeLine{2259         \textcolor{keywordflow}{if} (std::find\_if(it, key\_end,}
\DoxyCodeLine{2260                          [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{'['} || c == \textcolor{charliteral}{']'}; \})}
\DoxyCodeLine{2261             != key\_end)}
\DoxyCodeLine{2262         \{}
\DoxyCodeLine{2263             throw\_parse\_exception(\textcolor{stringliteral}{"{}Bare key "{}} + key}
\DoxyCodeLine{2264                                   + \textcolor{stringliteral}{"{} cannot contain '[' or ']'"{}});}
\DoxyCodeLine{2265         \}}
\DoxyCodeLine{2266 }
\DoxyCodeLine{2267         it = end;}
\DoxyCodeLine{2268         \textcolor{keywordflow}{return} key;}
\DoxyCodeLine{2269     \}}
\DoxyCodeLine{2270 }
\DoxyCodeLine{2271     \textcolor{keyword}{enum class} \mbox{\hyperlink{classcpptoml_1_1parser_a7dac457d50581a0bc5b824dd3624ac21}{parse\_type}}}
\DoxyCodeLine{2272     \{}
\DoxyCodeLine{2273         STRING = 1,}
\DoxyCodeLine{2274         LOCAL\_TIME,}
\DoxyCodeLine{2275         LOCAL\_DATE,}
\DoxyCodeLine{2276         LOCAL\_DATETIME,}
\DoxyCodeLine{2277         OFFSET\_DATETIME,}
\DoxyCodeLine{2278         INT,}
\DoxyCodeLine{2279         FLOAT,}
\DoxyCodeLine{2280         BOOL,}
\DoxyCodeLine{2281         ARRAY,}
\DoxyCodeLine{2282         INLINE\_TABLE}
\DoxyCodeLine{2283     \};}
\DoxyCodeLine{2284 }
\DoxyCodeLine{2285     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1parser_aa6653e0e26f97584a4aeebd99ec577f3}{parse\_value}}(std::string::iterator\& it,}
\DoxyCodeLine{2286                                       std::string::iterator\& end)}
\DoxyCodeLine{2287     \{}
\DoxyCodeLine{2288         \mbox{\hyperlink{classcpptoml_1_1parser_a7dac457d50581a0bc5b824dd3624ac21}{parse\_type}} type = determine\_value\_type(it, end);}
\DoxyCodeLine{2289         \textcolor{keywordflow}{switch} (type)}
\DoxyCodeLine{2290         \{}
\DoxyCodeLine{2291             \textcolor{keywordflow}{case} parse\_type::STRING:}
\DoxyCodeLine{2292                 \textcolor{keywordflow}{return} parse\_string(it, end);}
\DoxyCodeLine{2293             \textcolor{keywordflow}{case} parse\_type::LOCAL\_TIME:}
\DoxyCodeLine{2294                 \textcolor{keywordflow}{return} parse\_time(it, end);}
\DoxyCodeLine{2295             \textcolor{keywordflow}{case} parse\_type::LOCAL\_DATE:}
\DoxyCodeLine{2296             \textcolor{keywordflow}{case} parse\_type::LOCAL\_DATETIME:}
\DoxyCodeLine{2297             \textcolor{keywordflow}{case} parse\_type::OFFSET\_DATETIME:}
\DoxyCodeLine{2298                 \textcolor{keywordflow}{return} parse\_date(it, end);}
\DoxyCodeLine{2299             \textcolor{keywordflow}{case} parse\_type::INT:}
\DoxyCodeLine{2300             \textcolor{keywordflow}{case} parse\_type::FLOAT:}
\DoxyCodeLine{2301                 \textcolor{keywordflow}{return} parse\_number(it, end);}
\DoxyCodeLine{2302             \textcolor{keywordflow}{case} parse\_type::BOOL:}
\DoxyCodeLine{2303                 \textcolor{keywordflow}{return} parse\_bool(it, end);}
\DoxyCodeLine{2304             \textcolor{keywordflow}{case} parse\_type::ARRAY:}
\DoxyCodeLine{2305                 \textcolor{keywordflow}{return} parse\_array(it, end);}
\DoxyCodeLine{2306             \textcolor{keywordflow}{case} parse\_type::INLINE\_TABLE:}
\DoxyCodeLine{2307                 \textcolor{keywordflow}{return} parse\_inline\_table(it, end);}
\DoxyCodeLine{2308             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{2309                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Failed to parse value"{}});}
\DoxyCodeLine{2310         \}}
\DoxyCodeLine{2311     \}}
\DoxyCodeLine{2312 }
\DoxyCodeLine{2313     \mbox{\hyperlink{classcpptoml_1_1parser_a7dac457d50581a0bc5b824dd3624ac21}{parse\_type}} \mbox{\hyperlink{classcpptoml_1_1parser_adca6aff775f887440f8cafe1cfcbcc73}{determine\_value\_type}}(\textcolor{keyword}{const} std::string::iterator\& it,}
\DoxyCodeLine{2314                                     \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2315     \{}
\DoxyCodeLine{2316         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{2317         \{}
\DoxyCodeLine{2318             throw\_parse\_exception(\textcolor{stringliteral}{"{}Failed to parse value type"{}});}
\DoxyCodeLine{2319         \}}
\DoxyCodeLine{2320         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'"{}'} || *it == \textcolor{charliteral}{'\(\backslash\)''})}
\DoxyCodeLine{2321         \{}
\DoxyCodeLine{2322             \textcolor{keywordflow}{return} parse\_type::STRING;}
\DoxyCodeLine{2323         \}}
\DoxyCodeLine{2324         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_time(it, end))}
\DoxyCodeLine{2325         \{}
\DoxyCodeLine{2326             \textcolor{keywordflow}{return} parse\_type::LOCAL\_TIME;}
\DoxyCodeLine{2327         \}}
\DoxyCodeLine{2328         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} dtype = date\_type(it, end))}
\DoxyCodeLine{2329         \{}
\DoxyCodeLine{2330             \textcolor{keywordflow}{return} *dtype;}
\DoxyCodeLine{2331         \}}
\DoxyCodeLine{2332         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(*it) || *it == \textcolor{charliteral}{'-\/'} || *it == \textcolor{charliteral}{'+'}}
\DoxyCodeLine{2333                  || (*it == \textcolor{charliteral}{'i'} \&\& it + 1 != end \&\& it[1] == \textcolor{charliteral}{'n'}}
\DoxyCodeLine{2334                      \&\& it + 2 != end \&\& it[2] == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2335                  || (*it == \textcolor{charliteral}{'n'} \&\& it + 1 != end \&\& it[1] == \textcolor{charliteral}{'a'}}
\DoxyCodeLine{2336                      \&\& it + 2 != end \&\& it[2] == \textcolor{charliteral}{'n'}))}
\DoxyCodeLine{2337         \{}
\DoxyCodeLine{2338             \textcolor{keywordflow}{return} determine\_number\_type(it, end);}
\DoxyCodeLine{2339         \}}
\DoxyCodeLine{2340         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'t'} || *it == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2341         \{}
\DoxyCodeLine{2342             \textcolor{keywordflow}{return} parse\_type::BOOL;}
\DoxyCodeLine{2343         \}}
\DoxyCodeLine{2344         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'['})}
\DoxyCodeLine{2345         \{}
\DoxyCodeLine{2346             \textcolor{keywordflow}{return} parse\_type::ARRAY;}
\DoxyCodeLine{2347         \}}
\DoxyCodeLine{2348         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\{'})}
\DoxyCodeLine{2349         \{}
\DoxyCodeLine{2350             \textcolor{keywordflow}{return} parse\_type::INLINE\_TABLE;}
\DoxyCodeLine{2351         \}}
\DoxyCodeLine{2352         throw\_parse\_exception(\textcolor{stringliteral}{"{}Failed to parse value type"{}});}
\DoxyCodeLine{2353     \}}
\DoxyCodeLine{2354 }
\DoxyCodeLine{2355     \mbox{\hyperlink{classcpptoml_1_1parser_a7dac457d50581a0bc5b824dd3624ac21}{parse\_type}} \mbox{\hyperlink{classcpptoml_1_1parser_ab6cd7c81c666553e78071280336bc6e2}{determine\_number\_type}}(\textcolor{keyword}{const} std::string::iterator\& it,}
\DoxyCodeLine{2356                                      \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2357     \{}
\DoxyCodeLine{2358         \textcolor{comment}{// determine if we are an integer or a float}}
\DoxyCodeLine{2359         \textcolor{keyword}{auto} check\_it = it;}
\DoxyCodeLine{2360         \textcolor{keywordflow}{if} (*check\_it == \textcolor{charliteral}{'-\/'} || *check\_it == \textcolor{charliteral}{'+'})}
\DoxyCodeLine{2361             ++check\_it;}
\DoxyCodeLine{2362 }
\DoxyCodeLine{2363         \textcolor{keywordflow}{if} (check\_it == end)}
\DoxyCodeLine{2364             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number"{}});}
\DoxyCodeLine{2365 }
\DoxyCodeLine{2366         \textcolor{keywordflow}{if} (*check\_it == \textcolor{charliteral}{'i'} || *check\_it == \textcolor{charliteral}{'n'})}
\DoxyCodeLine{2367             \textcolor{keywordflow}{return} parse\_type::FLOAT;}
\DoxyCodeLine{2368 }
\DoxyCodeLine{2369         \textcolor{keywordflow}{while} (check\_it != end \&\& \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(*check\_it))}
\DoxyCodeLine{2370             ++check\_it;}
\DoxyCodeLine{2371         \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == \textcolor{charliteral}{'.'})}
\DoxyCodeLine{2372         \{}
\DoxyCodeLine{2373             ++check\_it;}
\DoxyCodeLine{2374             \textcolor{keywordflow}{while} (check\_it != end \&\& \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(*check\_it))}
\DoxyCodeLine{2375                 ++check\_it;}
\DoxyCodeLine{2376             \textcolor{keywordflow}{return} parse\_type::FLOAT;}
\DoxyCodeLine{2377         \}}
\DoxyCodeLine{2378         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2379         \{}
\DoxyCodeLine{2380             \textcolor{keywordflow}{return} parse\_type::INT;}
\DoxyCodeLine{2381         \}}
\DoxyCodeLine{2382     \}}
\DoxyCodeLine{2383 }
\DoxyCodeLine{2384     std::shared\_ptr<value<std::string>> \mbox{\hyperlink{classcpptoml_1_1parser_addf967f111308275aaebf6ed93d07bd9}{parse\_string}}(std::string::iterator\& it,}
\DoxyCodeLine{2385                                                      std::string::iterator\& end)}
\DoxyCodeLine{2386     \{}
\DoxyCodeLine{2387         \textcolor{keyword}{auto} delim = *it;}
\DoxyCodeLine{2388         assert(delim == \textcolor{charliteral}{'"{}'} || delim == \textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{2389 }
\DoxyCodeLine{2390         \textcolor{comment}{// end is non-\/const here because we have to be able to potentially}}
\DoxyCodeLine{2391         \textcolor{comment}{// parse multiple lines in a string, not just one}}
\DoxyCodeLine{2392         \textcolor{keyword}{auto} check\_it = it;}
\DoxyCodeLine{2393         ++check\_it;}
\DoxyCodeLine{2394         \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == delim)}
\DoxyCodeLine{2395         \{}
\DoxyCodeLine{2396             ++check\_it;}
\DoxyCodeLine{2397             \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == delim)}
\DoxyCodeLine{2398             \{}
\DoxyCodeLine{2399                 it = ++check\_it;}
\DoxyCodeLine{2400                 \textcolor{keywordflow}{return} parse\_multiline\_string(it, end, delim);}
\DoxyCodeLine{2401             \}}
\DoxyCodeLine{2402         \}}
\DoxyCodeLine{2403         \textcolor{keywordflow}{return} make\_value<std::string>(string\_literal(it, end, delim));}
\DoxyCodeLine{2404     \}}
\DoxyCodeLine{2405 }
\DoxyCodeLine{2406     std::shared\_ptr<value<std::string>>}
\DoxyCodeLine{2407     \mbox{\hyperlink{classcpptoml_1_1parser_a357b6cff4f974e923b81a064677195ff}{parse\_multiline\_string}}(std::string::iterator\& it,}
\DoxyCodeLine{2408                            std::string::iterator\& end, \textcolor{keywordtype}{char} delim)}
\DoxyCodeLine{2409     \{}
\DoxyCodeLine{2410         std::stringstream ss;}
\DoxyCodeLine{2411 }
\DoxyCodeLine{2412         \textcolor{keyword}{auto} is\_ws = [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{' '} || c == \textcolor{charliteral}{'\(\backslash\)t'}; \};}
\DoxyCodeLine{2413 }
\DoxyCodeLine{2414         \textcolor{keywordtype}{bool} consuming = \textcolor{keyword}{false};}
\DoxyCodeLine{2415         std::shared\_ptr<value<std::string>> ret;}
\DoxyCodeLine{2416 }
\DoxyCodeLine{2417         \textcolor{keyword}{auto} handle\_line = [\&](std::string::iterator\& local\_it,}
\DoxyCodeLine{2418                                std::string::iterator\& local\_end) \{}
\DoxyCodeLine{2419             \textcolor{keywordflow}{if} (consuming)}
\DoxyCodeLine{2420             \{}
\DoxyCodeLine{2421                 local\_it = std::find\_if\_not(local\_it, local\_end, is\_ws);}
\DoxyCodeLine{2422 }
\DoxyCodeLine{2423                 \textcolor{comment}{// whole line is whitespace}}
\DoxyCodeLine{2424                 \textcolor{keywordflow}{if} (local\_it == local\_end)}
\DoxyCodeLine{2425                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2426             \}}
\DoxyCodeLine{2427 }
\DoxyCodeLine{2428             consuming = \textcolor{keyword}{false};}
\DoxyCodeLine{2429 }
\DoxyCodeLine{2430             \textcolor{keywordflow}{while} (local\_it != local\_end)}
\DoxyCodeLine{2431             \{}
\DoxyCodeLine{2432                 \textcolor{comment}{// handle escaped characters}}
\DoxyCodeLine{2433                 \textcolor{keywordflow}{if} (delim == \textcolor{charliteral}{'"{}'} \&\& *local\_it == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{2434                 \{}
\DoxyCodeLine{2435                     \textcolor{keyword}{auto} check = local\_it;}
\DoxyCodeLine{2436                     \textcolor{comment}{// check if this is an actual escape sequence or a}}
\DoxyCodeLine{2437                     \textcolor{comment}{// whitespace escaping backslash}}
\DoxyCodeLine{2438                     ++check;}
\DoxyCodeLine{2439                     consume\_whitespace(check, local\_end);}
\DoxyCodeLine{2440                     \textcolor{keywordflow}{if} (check == local\_end)}
\DoxyCodeLine{2441                     \{}
\DoxyCodeLine{2442                         consuming = \textcolor{keyword}{true};}
\DoxyCodeLine{2443                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2444                     \}}
\DoxyCodeLine{2445 }
\DoxyCodeLine{2446                     ss << parse\_escape\_code(local\_it, local\_end);}
\DoxyCodeLine{2447                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2448                 \}}
\DoxyCodeLine{2449 }
\DoxyCodeLine{2450                 \textcolor{comment}{// if we can end the string}}
\DoxyCodeLine{2451                 \textcolor{keywordflow}{if} (std::distance(local\_it, local\_end) >= 3)}
\DoxyCodeLine{2452                 \{}
\DoxyCodeLine{2453                     \textcolor{keyword}{auto} check = local\_it;}
\DoxyCodeLine{2454                     \textcolor{comment}{// check for "{}"{}"{}}}
\DoxyCodeLine{2455                     \textcolor{keywordflow}{if} (*check++ == delim \&\& *check++ == delim}
\DoxyCodeLine{2456                         \&\& *check++ == delim)}
\DoxyCodeLine{2457                     \{}
\DoxyCodeLine{2458                         local\_it = check;}
\DoxyCodeLine{2459                         ret = make\_value<std::string>(ss.str());}
\DoxyCodeLine{2460                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2461                     \}}
\DoxyCodeLine{2462                 \}}
\DoxyCodeLine{2463 }
\DoxyCodeLine{2464                 ss << *local\_it++;}
\DoxyCodeLine{2465             \}}
\DoxyCodeLine{2466         \};}
\DoxyCodeLine{2467 }
\DoxyCodeLine{2468         \textcolor{comment}{// handle the remainder of the current line}}
\DoxyCodeLine{2469         handle\_line(it, end);}
\DoxyCodeLine{2470         \textcolor{keywordflow}{if} (ret)}
\DoxyCodeLine{2471             \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2472 }
\DoxyCodeLine{2473         \textcolor{comment}{// start eating lines}}
\DoxyCodeLine{2474         \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacecpptoml_1_1detail_a74e09522f6e6aa3089c076a36b5fb308}{detail::getline}}(input\_, line\_))}
\DoxyCodeLine{2475         \{}
\DoxyCodeLine{2476             ++line\_number\_;}
\DoxyCodeLine{2477 }
\DoxyCodeLine{2478             it = line\_.begin();}
\DoxyCodeLine{2479             end = line\_.end();}
\DoxyCodeLine{2480 }
\DoxyCodeLine{2481             handle\_line(it, end);}
\DoxyCodeLine{2482 }
\DoxyCodeLine{2483             \textcolor{keywordflow}{if} (ret)}
\DoxyCodeLine{2484                 \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2485 }
\DoxyCodeLine{2486             \textcolor{keywordflow}{if} (!consuming)}
\DoxyCodeLine{2487                 ss << std::endl;}
\DoxyCodeLine{2488         \}}
\DoxyCodeLine{2489 }
\DoxyCodeLine{2490         throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated multi-\/line basic string"{}});}
\DoxyCodeLine{2491     \}}
\DoxyCodeLine{2492 }
\DoxyCodeLine{2493     std::string \mbox{\hyperlink{classcpptoml_1_1parser_ab5df500ad5d88b9ba4c0f9cfa97ba173}{string\_literal}}(std::string::iterator\& it,}
\DoxyCodeLine{2494                                \textcolor{keyword}{const} std::string::iterator\& end, \textcolor{keywordtype}{char} delim)}
\DoxyCodeLine{2495     \{}
\DoxyCodeLine{2496         ++it;}
\DoxyCodeLine{2497         std::string val;}
\DoxyCodeLine{2498         \textcolor{keywordflow}{while} (it != end)}
\DoxyCodeLine{2499         \{}
\DoxyCodeLine{2500             \textcolor{comment}{// handle escaped characters}}
\DoxyCodeLine{2501             \textcolor{keywordflow}{if} (delim == \textcolor{charliteral}{'"{}'} \&\& *it == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{2502             \{}
\DoxyCodeLine{2503                 val += parse\_escape\_code(it, end);}
\DoxyCodeLine{2504             \}}
\DoxyCodeLine{2505             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == delim)}
\DoxyCodeLine{2506             \{}
\DoxyCodeLine{2507                 ++it;}
\DoxyCodeLine{2508                 consume\_whitespace(it, end);}
\DoxyCodeLine{2509                 \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{2510             \}}
\DoxyCodeLine{2511             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2512             \{}
\DoxyCodeLine{2513                 val += *it++;}
\DoxyCodeLine{2514             \}}
\DoxyCodeLine{2515         \}}
\DoxyCodeLine{2516         throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated string literal"{}});}
\DoxyCodeLine{2517     \}}
\DoxyCodeLine{2518 }
\DoxyCodeLine{2519     std::string \mbox{\hyperlink{classcpptoml_1_1parser_aa40d6fbd4c7158f78ac9c1e5dc4001e0}{parse\_escape\_code}}(std::string::iterator\& it,}
\DoxyCodeLine{2520                                   \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2521     \{}
\DoxyCodeLine{2522         ++it;}
\DoxyCodeLine{2523         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{2524             throw\_parse\_exception(\textcolor{stringliteral}{"{}Invalid escape sequence"{}});}
\DoxyCodeLine{2525         \textcolor{keywordtype}{char} \mbox{\hyperlink{classcpptoml_1_1value}{value}};}
\DoxyCodeLine{2526         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'b'})}
\DoxyCodeLine{2527         \{}
\DoxyCodeLine{2528             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)b'};}
\DoxyCodeLine{2529         \}}
\DoxyCodeLine{2530         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'t'})}
\DoxyCodeLine{2531         \{}
\DoxyCodeLine{2532             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)t'};}
\DoxyCodeLine{2533         \}}
\DoxyCodeLine{2534         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'n'})}
\DoxyCodeLine{2535         \{}
\DoxyCodeLine{2536             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{2537         \}}
\DoxyCodeLine{2538         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2539         \{}
\DoxyCodeLine{2540             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)f'};}
\DoxyCodeLine{2541         \}}
\DoxyCodeLine{2542         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'r'})}
\DoxyCodeLine{2543         \{}
\DoxyCodeLine{2544             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)r'};}
\DoxyCodeLine{2545         \}}
\DoxyCodeLine{2546         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'"{}'})}
\DoxyCodeLine{2547         \{}
\DoxyCodeLine{2548             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{2549         \}}
\DoxyCodeLine{2550         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{2551         \{}
\DoxyCodeLine{2552             \mbox{\hyperlink{classcpptoml_1_1value}{value}} = \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'};}
\DoxyCodeLine{2553         \}}
\DoxyCodeLine{2554         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'u'} || *it == \textcolor{charliteral}{'U'})}
\DoxyCodeLine{2555         \{}
\DoxyCodeLine{2556             \textcolor{keywordflow}{return} parse\_unicode(it, end);}
\DoxyCodeLine{2557         \}}
\DoxyCodeLine{2558         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2559         \{}
\DoxyCodeLine{2560             throw\_parse\_exception(\textcolor{stringliteral}{"{}Invalid escape sequence"{}});}
\DoxyCodeLine{2561         \}}
\DoxyCodeLine{2562         ++it;}
\DoxyCodeLine{2563         \textcolor{keywordflow}{return} std::string(1, \mbox{\hyperlink{classcpptoml_1_1value}{value}});}
\DoxyCodeLine{2564     \}}
\DoxyCodeLine{2565 }
\DoxyCodeLine{2566     std::string \mbox{\hyperlink{classcpptoml_1_1parser_a81c393030d761a4a7f3eaa28c7229bb3}{parse\_unicode}}(std::string::iterator\& it,}
\DoxyCodeLine{2567                               \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2568     \{}
\DoxyCodeLine{2569         \textcolor{keywordtype}{bool} large = *it++ == \textcolor{charliteral}{'U'};}
\DoxyCodeLine{2570         \textcolor{keyword}{auto} codepoint = parse\_hex(it, end, large ? 0x10000000 : 0x1000);}
\DoxyCodeLine{2571 }
\DoxyCodeLine{2572         \textcolor{keywordflow}{if} ((codepoint > 0xd7ff \&\& codepoint < 0xe000) || codepoint > 0x10ffff)}
\DoxyCodeLine{2573         \{}
\DoxyCodeLine{2574             throw\_parse\_exception(}
\DoxyCodeLine{2575                 \textcolor{stringliteral}{"{}Unicode escape sequence is not a Unicode scalar value"{}});}
\DoxyCodeLine{2576         \}}
\DoxyCodeLine{2577 }
\DoxyCodeLine{2578         std::string result;}
\DoxyCodeLine{2579         \textcolor{comment}{// See Table 3-\/6 of the Unicode standard}}
\DoxyCodeLine{2580         \textcolor{keywordflow}{if} (codepoint <= 0x7f)}
\DoxyCodeLine{2581         \{}
\DoxyCodeLine{2582             \textcolor{comment}{// 1-\/byte codepoints: 00000000 0xxxxxxx}}
\DoxyCodeLine{2583             \textcolor{comment}{// repr: 0xxxxxxx}}
\DoxyCodeLine{2584             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(codepoint \& 0x7f);}
\DoxyCodeLine{2585         \}}
\DoxyCodeLine{2586         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (codepoint <= 0x7ff)}
\DoxyCodeLine{2587         \{}
\DoxyCodeLine{2588             \textcolor{comment}{// 2-\/byte codepoints: 00000yyy yyxxxxxx}}
\DoxyCodeLine{2589             \textcolor{comment}{// repr: 110yyyyy 10xxxxxx}}
\DoxyCodeLine{2590             \textcolor{comment}{//}}
\DoxyCodeLine{2591             \textcolor{comment}{// 0x1f = 00011111}}
\DoxyCodeLine{2592             \textcolor{comment}{// 0xc0 = 11000000}}
\DoxyCodeLine{2593             \textcolor{comment}{//}}
\DoxyCodeLine{2594             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xc0 | ((codepoint >> 6) \& 0x1f));}
\DoxyCodeLine{2595             \textcolor{comment}{//}}
\DoxyCodeLine{2596             \textcolor{comment}{// 0x80 = 10000000}}
\DoxyCodeLine{2597             \textcolor{comment}{// 0x3f = 00111111}}
\DoxyCodeLine{2598             \textcolor{comment}{//}}
\DoxyCodeLine{2599             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | (codepoint \& 0x3f));}
\DoxyCodeLine{2600         \}}
\DoxyCodeLine{2601         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (codepoint <= 0xffff)}
\DoxyCodeLine{2602         \{}
\DoxyCodeLine{2603             \textcolor{comment}{// 3-\/byte codepoints: zzzzyyyy yyxxxxxx}}
\DoxyCodeLine{2604             \textcolor{comment}{// repr: 1110zzzz 10yyyyyy 10xxxxxx}}
\DoxyCodeLine{2605             \textcolor{comment}{//}}
\DoxyCodeLine{2606             \textcolor{comment}{// 0xe0 = 11100000}}
\DoxyCodeLine{2607             \textcolor{comment}{// 0x0f = 00001111}}
\DoxyCodeLine{2608             \textcolor{comment}{//}}
\DoxyCodeLine{2609             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xe0 | ((codepoint >> 12) \& 0x0f));}
\DoxyCodeLine{2610             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | ((codepoint >> 6) \& 0x1f));}
\DoxyCodeLine{2611             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | (codepoint \& 0x3f));}
\DoxyCodeLine{2612         \}}
\DoxyCodeLine{2613         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2614         \{}
\DoxyCodeLine{2615             \textcolor{comment}{// 4-\/byte codepoints: 000uuuuu zzzzyyyy yyxxxxxx}}
\DoxyCodeLine{2616             \textcolor{comment}{// repr: 11110uuu 10uuzzzz 10yyyyyy 10xxxxxx}}
\DoxyCodeLine{2617             \textcolor{comment}{//}}
\DoxyCodeLine{2618             \textcolor{comment}{// 0xf0 = 11110000}}
\DoxyCodeLine{2619             \textcolor{comment}{// 0x07 = 00000111}}
\DoxyCodeLine{2620             \textcolor{comment}{//}}
\DoxyCodeLine{2621             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xf0 | ((codepoint >> 18) \& 0x07));}
\DoxyCodeLine{2622             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | ((codepoint >> 12) \& 0x3f));}
\DoxyCodeLine{2623             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | ((codepoint >> 6) \& 0x3f));}
\DoxyCodeLine{2624             result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | (codepoint \& 0x3f));}
\DoxyCodeLine{2625         \}}
\DoxyCodeLine{2626         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{2627     \}}
\DoxyCodeLine{2628 }
\DoxyCodeLine{2629     uint32\_t \mbox{\hyperlink{classcpptoml_1_1parser_a8fff19d194b4aee612c23d5d4ed6444e}{parse\_hex}}(std::string::iterator\& it,}
\DoxyCodeLine{2630                        \textcolor{keyword}{const} std::string::iterator\& end, uint32\_t place)}
\DoxyCodeLine{2631     \{}
\DoxyCodeLine{2632         uint32\_t \mbox{\hyperlink{classcpptoml_1_1value}{value}} = 0;}
\DoxyCodeLine{2633         \textcolor{keywordflow}{while} (place > 0)}
\DoxyCodeLine{2634         \{}
\DoxyCodeLine{2635             \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{2636                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Unexpected end of unicode sequence"{}});}
\DoxyCodeLine{2637 }
\DoxyCodeLine{2638             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecpptoml_a8920dd98d64555bc47a96593a1a07989}{is\_hex}}(*it))}
\DoxyCodeLine{2639                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Invalid unicode escape sequence"{}});}
\DoxyCodeLine{2640 }
\DoxyCodeLine{2641             \mbox{\hyperlink{classcpptoml_1_1value}{value}} += place * hex\_to\_digit(*it++);}
\DoxyCodeLine{2642             place /= 16;}
\DoxyCodeLine{2643         \}}
\DoxyCodeLine{2644         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcpptoml_1_1value}{value}};}
\DoxyCodeLine{2645     \}}
\DoxyCodeLine{2646 }
\DoxyCodeLine{2647     uint32\_t \mbox{\hyperlink{classcpptoml_1_1parser_a71302c9888ce97f700b8700ac86ada3b}{hex\_to\_digit}}(\textcolor{keywordtype}{char} c)}
\DoxyCodeLine{2648     \{}
\DoxyCodeLine{2649         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c))}
\DoxyCodeLine{2650             \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(c -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{2651         \textcolor{keywordflow}{return} 10}
\DoxyCodeLine{2652                + \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(c}
\DoxyCodeLine{2653                                        -\/ ((c >= \textcolor{charliteral}{'a'} \&\& c <= \textcolor{charliteral}{'f'}) ? \textcolor{charliteral}{'a'} : \textcolor{charliteral}{'A'}));}
\DoxyCodeLine{2654     \}}
\DoxyCodeLine{2655 }
\DoxyCodeLine{2656     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1parser_ade8308db1393e39497a4e318cc514b3b}{parse\_number}}(std::string::iterator\& it,}
\DoxyCodeLine{2657                                        \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2658     \{}
\DoxyCodeLine{2659         \textcolor{keyword}{auto} check\_it = it;}
\DoxyCodeLine{2660         \textcolor{keyword}{auto} check\_end = find\_end\_of\_number(it, end);}
\DoxyCodeLine{2661 }
\DoxyCodeLine{2662         \textcolor{keyword}{auto} eat\_sign = [\&]() \{}
\DoxyCodeLine{2663             \textcolor{keywordflow}{if} (check\_it != end \&\& (*check\_it == \textcolor{charliteral}{'-\/'} || *check\_it == \textcolor{charliteral}{'+'}))}
\DoxyCodeLine{2664                 ++check\_it;}
\DoxyCodeLine{2665         \};}
\DoxyCodeLine{2666 }
\DoxyCodeLine{2667         \textcolor{keyword}{auto} check\_no\_leading\_zero = [\&]() \{}
\DoxyCodeLine{2668             \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == \textcolor{charliteral}{'0'} \&\& check\_it + 1 != check\_end}
\DoxyCodeLine{2669                 \&\& check\_it[1] != \textcolor{charliteral}{'.'})}
\DoxyCodeLine{2670             \{}
\DoxyCodeLine{2671                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Numbers may not have leading zeros"{}});}
\DoxyCodeLine{2672             \}}
\DoxyCodeLine{2673         \};}
\DoxyCodeLine{2674 }
\DoxyCodeLine{2675         \textcolor{keyword}{auto} eat\_digits = [\&](bool (*check\_char)(char)) \{}
\DoxyCodeLine{2676             \textcolor{keyword}{auto} beg = check\_it;}
\DoxyCodeLine{2677             \textcolor{keywordflow}{while} (check\_it != end \&\& check\_char(*check\_it))}
\DoxyCodeLine{2678             \{}
\DoxyCodeLine{2679                 ++check\_it;}
\DoxyCodeLine{2680                 \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == \textcolor{charliteral}{'\_'})}
\DoxyCodeLine{2681                 \{}
\DoxyCodeLine{2682                     ++check\_it;}
\DoxyCodeLine{2683                     \textcolor{keywordflow}{if} (check\_it == end || !check\_char(*check\_it))}
\DoxyCodeLine{2684                         throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number"{}});}
\DoxyCodeLine{2685                 \}}
\DoxyCodeLine{2686             \}}
\DoxyCodeLine{2687 }
\DoxyCodeLine{2688             \textcolor{keywordflow}{if} (check\_it == beg)}
\DoxyCodeLine{2689                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number"{}});}
\DoxyCodeLine{2690         \};}
\DoxyCodeLine{2691 }
\DoxyCodeLine{2692         \textcolor{keyword}{auto} eat\_hex = [\&]() \{ eat\_digits(\&\mbox{\hyperlink{namespacecpptoml_a8920dd98d64555bc47a96593a1a07989}{is\_hex}}); \};}
\DoxyCodeLine{2693 }
\DoxyCodeLine{2694         \textcolor{keyword}{auto} eat\_numbers = [\&]() \{ eat\_digits(\&\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}); \};}
\DoxyCodeLine{2695 }
\DoxyCodeLine{2696         \textcolor{keywordflow}{if} (check\_it != end \&\& *check\_it == \textcolor{charliteral}{'0'} \&\& check\_it + 1 != check\_end}
\DoxyCodeLine{2697             \&\& (check\_it[1] == \textcolor{charliteral}{'x'} || check\_it[1] == \textcolor{charliteral}{'o'} || check\_it[1] == \textcolor{charliteral}{'b'}))}
\DoxyCodeLine{2698         \{}
\DoxyCodeLine{2699             ++check\_it;}
\DoxyCodeLine{2700             \textcolor{keywordtype}{char} \mbox{\hyperlink{classcpptoml_1_1base}{base}} = *check\_it;}
\DoxyCodeLine{2701             ++check\_it;}
\DoxyCodeLine{2702             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcpptoml_1_1base}{base}} == \textcolor{charliteral}{'x'})}
\DoxyCodeLine{2703             \{}
\DoxyCodeLine{2704                 eat\_hex();}
\DoxyCodeLine{2705                 \textcolor{keywordflow}{return} parse\_int(it, check\_it, 16);}
\DoxyCodeLine{2706             \}}
\DoxyCodeLine{2707             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcpptoml_1_1base}{base}} == \textcolor{charliteral}{'o'})}
\DoxyCodeLine{2708             \{}
\DoxyCodeLine{2709                 \textcolor{keyword}{auto} start = check\_it;}
\DoxyCodeLine{2710                 eat\_numbers();}
\DoxyCodeLine{2711                 \textcolor{keyword}{auto} val = parse\_int(start, check\_it, 8, \textcolor{stringliteral}{"{}0"{}});}
\DoxyCodeLine{2712                 it = start;}
\DoxyCodeLine{2713                 \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{2714             \}}
\DoxyCodeLine{2715             \textcolor{keywordflow}{else} \textcolor{comment}{// if (base == 'b')}}
\DoxyCodeLine{2716             \{}
\DoxyCodeLine{2717                 \textcolor{keyword}{auto} start = check\_it;}
\DoxyCodeLine{2718                 eat\_numbers();}
\DoxyCodeLine{2719                 \textcolor{keyword}{auto} val = parse\_int(start, check\_it, 2);}
\DoxyCodeLine{2720                 it = start;}
\DoxyCodeLine{2721                 \textcolor{keywordflow}{return} val;}
\DoxyCodeLine{2722             \}}
\DoxyCodeLine{2723         \}}
\DoxyCodeLine{2724 }
\DoxyCodeLine{2725         eat\_sign();}
\DoxyCodeLine{2726         check\_no\_leading\_zero();}
\DoxyCodeLine{2727 }
\DoxyCodeLine{2728         \textcolor{keywordflow}{if} (check\_it != end \&\& check\_it + 1 != end \&\& check\_it + 2 != end)}
\DoxyCodeLine{2729         \{}
\DoxyCodeLine{2730             \textcolor{keywordflow}{if} (check\_it[0] == \textcolor{charliteral}{'i'} \&\& check\_it[1] == \textcolor{charliteral}{'n'} \&\& check\_it[2] == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2731             \{}
\DoxyCodeLine{2732                 \textcolor{keyword}{auto} val = std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{2733                 \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{2734                     val = -\/val;}
\DoxyCodeLine{2735                 it = check\_it + 3;}
\DoxyCodeLine{2736                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(val);}
\DoxyCodeLine{2737             \}}
\DoxyCodeLine{2738             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (check\_it[0] == \textcolor{charliteral}{'n'} \&\& check\_it[1] == \textcolor{charliteral}{'a'}}
\DoxyCodeLine{2739                      \&\& check\_it[2] == \textcolor{charliteral}{'n'})}
\DoxyCodeLine{2740             \{}
\DoxyCodeLine{2741                 \textcolor{keyword}{auto} val = std::numeric\_limits<double>::quiet\_NaN();}
\DoxyCodeLine{2742                 \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{2743                     val = -\/val;}
\DoxyCodeLine{2744                 it = check\_it + 3;}
\DoxyCodeLine{2745                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(val);}
\DoxyCodeLine{2746             \}}
\DoxyCodeLine{2747         \}}
\DoxyCodeLine{2748 }
\DoxyCodeLine{2749         eat\_numbers();}
\DoxyCodeLine{2750 }
\DoxyCodeLine{2751         \textcolor{keywordflow}{if} (check\_it != end}
\DoxyCodeLine{2752             \&\& (*check\_it == \textcolor{charliteral}{'.'} || *check\_it == \textcolor{charliteral}{'e'} || *check\_it == \textcolor{charliteral}{'E'}))}
\DoxyCodeLine{2753         \{}
\DoxyCodeLine{2754             \textcolor{keywordtype}{bool} is\_exp = *check\_it == \textcolor{charliteral}{'e'} || *check\_it == \textcolor{charliteral}{'E'};}
\DoxyCodeLine{2755 }
\DoxyCodeLine{2756             ++check\_it;}
\DoxyCodeLine{2757             \textcolor{keywordflow}{if} (check\_it == end)}
\DoxyCodeLine{2758                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Floats must have trailing digits"{}});}
\DoxyCodeLine{2759 }
\DoxyCodeLine{2760             \textcolor{keyword}{auto} eat\_exp = [\&]() \{}
\DoxyCodeLine{2761                 eat\_sign();}
\DoxyCodeLine{2762                 check\_no\_leading\_zero();}
\DoxyCodeLine{2763                 eat\_numbers();}
\DoxyCodeLine{2764             \};}
\DoxyCodeLine{2765 }
\DoxyCodeLine{2766             \textcolor{keywordflow}{if} (is\_exp)}
\DoxyCodeLine{2767                 eat\_exp();}
\DoxyCodeLine{2768             \textcolor{keywordflow}{else}}
\DoxyCodeLine{2769                 eat\_numbers();}
\DoxyCodeLine{2770 }
\DoxyCodeLine{2771             \textcolor{keywordflow}{if} (!is\_exp \&\& check\_it != end}
\DoxyCodeLine{2772                 \&\& (*check\_it == \textcolor{charliteral}{'e'} || *check\_it == \textcolor{charliteral}{'E'}))}
\DoxyCodeLine{2773             \{}
\DoxyCodeLine{2774                 ++check\_it;}
\DoxyCodeLine{2775                 eat\_exp();}
\DoxyCodeLine{2776             \}}
\DoxyCodeLine{2777 }
\DoxyCodeLine{2778             \textcolor{keywordflow}{return} parse\_float(it, check\_it);}
\DoxyCodeLine{2779         \}}
\DoxyCodeLine{2780         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2781         \{}
\DoxyCodeLine{2782             \textcolor{keywordflow}{return} parse\_int(it, check\_it);}
\DoxyCodeLine{2783         \}}
\DoxyCodeLine{2784     \}}
\DoxyCodeLine{2785 }
\DoxyCodeLine{2786     std::shared\_ptr<value<int64\_t>> \mbox{\hyperlink{classcpptoml_1_1parser_a1b3b33b34d71b4ecfdd338230553f173}{parse\_int}}(std::string::iterator\& it,}
\DoxyCodeLine{2787                                               \textcolor{keyword}{const} std::string::iterator\& end,}
\DoxyCodeLine{2788                                               \textcolor{keywordtype}{int} \mbox{\hyperlink{classcpptoml_1_1base}{base}} = 10,}
\DoxyCodeLine{2789                                               \textcolor{keyword}{const} \textcolor{keywordtype}{char}* prefix = \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{2790     \{}
\DoxyCodeLine{2791         std::string v\{it, end\};}
\DoxyCodeLine{2792         v = prefix + v;}
\DoxyCodeLine{2793         v.erase(std::remove(v.begin(), v.end(), \textcolor{charliteral}{'\_'}), v.end());}
\DoxyCodeLine{2794         it = end;}
\DoxyCodeLine{2795         \textcolor{keywordflow}{try}}
\DoxyCodeLine{2796         \{}
\DoxyCodeLine{2797             \textcolor{keywordflow}{return} make\_value<int64\_t>(std::stoll(v, \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classcpptoml_1_1base}{base}}));}
\DoxyCodeLine{2798         \}}
\DoxyCodeLine{2799         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::invalid\_argument\& ex)}
\DoxyCodeLine{2800         \{}
\DoxyCodeLine{2801             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number (invalid argument: "{}}}
\DoxyCodeLine{2802                                   + std::string\{ex.what()\} + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{2803         \}}
\DoxyCodeLine{2804         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::out\_of\_range\& ex)}
\DoxyCodeLine{2805         \{}
\DoxyCodeLine{2806             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number (out of range: "{}}}
\DoxyCodeLine{2807                                   + std::string\{ex.what()\} + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{2808         \}}
\DoxyCodeLine{2809     \}}
\DoxyCodeLine{2810 }
\DoxyCodeLine{2811     std::shared\_ptr<value<double>> \mbox{\hyperlink{classcpptoml_1_1parser_a974556b92eaf652b6d04d96eb4ee9bc6}{parse\_float}}(std::string::iterator\& it,}
\DoxyCodeLine{2812                                                \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2813     \{}
\DoxyCodeLine{2814         std::string v\{it, end\};}
\DoxyCodeLine{2815         v.erase(std::remove(v.begin(), v.end(), \textcolor{charliteral}{'\_'}), v.end());}
\DoxyCodeLine{2816         it = end;}
\DoxyCodeLine{2817         \textcolor{keywordtype}{char} decimal\_point = std::localeconv()-\/>decimal\_point[0];}
\DoxyCodeLine{2818         std::replace(v.begin(), v.end(), \textcolor{charliteral}{'.'}, decimal\_point);}
\DoxyCodeLine{2819         \textcolor{keywordflow}{try}}
\DoxyCodeLine{2820         \{}
\DoxyCodeLine{2821             \textcolor{keywordflow}{return} make\_value<double>(std::stod(v));}
\DoxyCodeLine{2822         \}}
\DoxyCodeLine{2823         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::invalid\_argument\& ex)}
\DoxyCodeLine{2824         \{}
\DoxyCodeLine{2825             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number (invalid argument: "{}}}
\DoxyCodeLine{2826                                   + std::string\{ex.what()\} + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{2827         \}}
\DoxyCodeLine{2828         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::out\_of\_range\& ex)}
\DoxyCodeLine{2829         \{}
\DoxyCodeLine{2830             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed number (out of range: "{}}}
\DoxyCodeLine{2831                                   + std::string\{ex.what()\} + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{2832         \}}
\DoxyCodeLine{2833     \}}
\DoxyCodeLine{2834 }
\DoxyCodeLine{2835     std::shared\_ptr<value<bool>> \mbox{\hyperlink{classcpptoml_1_1parser_a2dad3bc0857b735ff4cc215f8c69744d}{parse\_bool}}(std::string::iterator\& it,}
\DoxyCodeLine{2836                                             \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2837     \{}
\DoxyCodeLine{2838         \textcolor{keyword}{auto} eat = \mbox{\hyperlink{namespacecpptoml_ab577a9dbaed5b73d5fed7d58f11231ce}{make\_consumer}}(it, end, [\textcolor{keyword}{this}]() \{}
\DoxyCodeLine{2839             throw\_parse\_exception(\textcolor{stringliteral}{"{}Attempted to parse invalid boolean value"{}});}
\DoxyCodeLine{2840         \});}
\DoxyCodeLine{2841 }
\DoxyCodeLine{2842         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'t'})}
\DoxyCodeLine{2843         \{}
\DoxyCodeLine{2844             eat(\textcolor{stringliteral}{"{}true"{}});}
\DoxyCodeLine{2845             \textcolor{keywordflow}{return} make\_value<bool>(\textcolor{keyword}{true});}
\DoxyCodeLine{2846         \}}
\DoxyCodeLine{2847         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2848         \{}
\DoxyCodeLine{2849             eat(\textcolor{stringliteral}{"{}false"{}});}
\DoxyCodeLine{2850             \textcolor{keywordflow}{return} make\_value<bool>(\textcolor{keyword}{false});}
\DoxyCodeLine{2851         \}}
\DoxyCodeLine{2852 }
\DoxyCodeLine{2853         eat.error();}
\DoxyCodeLine{2854         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2855     \}}
\DoxyCodeLine{2856 }
\DoxyCodeLine{2857     std::string::iterator \mbox{\hyperlink{classcpptoml_1_1parser_a776744b1c13e791ccd9adcb33997a61b}{find\_end\_of\_number}}(std::string::iterator it,}
\DoxyCodeLine{2858                                              std::string::iterator end)}
\DoxyCodeLine{2859     \{}
\DoxyCodeLine{2860         \textcolor{keyword}{auto} ret = std::find\_if(it, end, [](\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{2861             \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c) \&\& c != \textcolor{charliteral}{'\_'} \&\& c != \textcolor{charliteral}{'.'} \&\& c != \textcolor{charliteral}{'e'} \&\& c != \textcolor{charliteral}{'E'}}
\DoxyCodeLine{2862                    \&\& c != \textcolor{charliteral}{'-\/'} \&\& c != \textcolor{charliteral}{'+'} \&\& c != \textcolor{charliteral}{'x'} \&\& c != \textcolor{charliteral}{'o'} \&\& c != \textcolor{charliteral}{'b'};}
\DoxyCodeLine{2863         \});}
\DoxyCodeLine{2864         \textcolor{keywordflow}{if} (ret != end \&\& ret + 1 != end \&\& ret + 2 != end)}
\DoxyCodeLine{2865         \{}
\DoxyCodeLine{2866             \textcolor{keywordflow}{if} ((ret[0] == \textcolor{charliteral}{'i'} \&\& ret[1] == \textcolor{charliteral}{'n'} \&\& ret[2] == \textcolor{charliteral}{'f'})}
\DoxyCodeLine{2867                 || (ret[0] == \textcolor{charliteral}{'n'} \&\& ret[1] == \textcolor{charliteral}{'a'} \&\& ret[2] == \textcolor{charliteral}{'n'}))}
\DoxyCodeLine{2868             \{}
\DoxyCodeLine{2869                 ret = ret + 3;}
\DoxyCodeLine{2870             \}}
\DoxyCodeLine{2871         \}}
\DoxyCodeLine{2872         \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2873     \}}
\DoxyCodeLine{2874 }
\DoxyCodeLine{2875     std::string::iterator \mbox{\hyperlink{classcpptoml_1_1parser_a681b6fa73c1c6667b36dbe8fc3dceb9d}{find\_end\_of\_date}}(std::string::iterator it,}
\DoxyCodeLine{2876                                            std::string::iterator end)}
\DoxyCodeLine{2877     \{}
\DoxyCodeLine{2878         \textcolor{keyword}{auto} end\_of\_date = std::find\_if(it, end, [](\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{2879             \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c) \&\& c != \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{2880         \});}
\DoxyCodeLine{2881         \textcolor{keywordflow}{if} (end\_of\_date != end \&\& *end\_of\_date == \textcolor{charliteral}{' '} \&\& end\_of\_date + 1 != end}
\DoxyCodeLine{2882             \&\& \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(end\_of\_date[1]))}
\DoxyCodeLine{2883             end\_of\_date++;}
\DoxyCodeLine{2884         \textcolor{keywordflow}{return} std::find\_if(end\_of\_date, end, [](\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{2885             \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c) \&\& c != \textcolor{charliteral}{'T'} \&\& c != \textcolor{charliteral}{'Z'} \&\& c != \textcolor{charliteral}{':'}}
\DoxyCodeLine{2886                    \&\& c != \textcolor{charliteral}{'-\/'} \&\& c != \textcolor{charliteral}{'+'} \&\& c != \textcolor{charliteral}{'.'};}
\DoxyCodeLine{2887         \});}
\DoxyCodeLine{2888     \}}
\DoxyCodeLine{2889 }
\DoxyCodeLine{2890     std::string::iterator \mbox{\hyperlink{classcpptoml_1_1parser_a7438d26980b0d56bf3bd01ec23d9b4c0}{find\_end\_of\_time}}(std::string::iterator it,}
\DoxyCodeLine{2891                                            std::string::iterator end)}
\DoxyCodeLine{2892     \{}
\DoxyCodeLine{2893         \textcolor{keywordflow}{return} std::find\_if(it, end, [](\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{2894             \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(c) \&\& c != \textcolor{charliteral}{':'} \&\& c != \textcolor{charliteral}{'.'};}
\DoxyCodeLine{2895         \});}
\DoxyCodeLine{2896     \}}
\DoxyCodeLine{2897 }
\DoxyCodeLine{2898     \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}} \mbox{\hyperlink{classcpptoml_1_1parser_acb89cb5c3b45bf9675c017cb12e68669}{read\_time}}(std::string::iterator\& it,}
\DoxyCodeLine{2899                          \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2900     \{}
\DoxyCodeLine{2901         \textcolor{keyword}{auto} time\_end = find\_end\_of\_time(it, end);}
\DoxyCodeLine{2902 }
\DoxyCodeLine{2903         \textcolor{keyword}{auto} eat = \mbox{\hyperlink{namespacecpptoml_ab577a9dbaed5b73d5fed7d58f11231ce}{make\_consumer}}(}
\DoxyCodeLine{2904             it, time\_end, [\&]() \{ throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed time"{}}); \});}
\DoxyCodeLine{2905 }
\DoxyCodeLine{2906         \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}} ltime;}
\DoxyCodeLine{2907 }
\DoxyCodeLine{2908         ltime.\mbox{\hyperlink{structcpptoml_1_1local__time_a261a26eb10216811a538d4e122848597}{hour}} = eat.eat\_digits(2);}
\DoxyCodeLine{2909         eat(\textcolor{charliteral}{':'});}
\DoxyCodeLine{2910         ltime.minute = eat.eat\_digits(2);}
\DoxyCodeLine{2911         eat(\textcolor{charliteral}{':'});}
\DoxyCodeLine{2912         ltime.second = eat.eat\_digits(2);}
\DoxyCodeLine{2913 }
\DoxyCodeLine{2914         \textcolor{keywordtype}{int} power = 100000;}
\DoxyCodeLine{2915         \textcolor{keywordflow}{if} (it != time\_end \&\& *it == \textcolor{charliteral}{'.'})}
\DoxyCodeLine{2916         \{}
\DoxyCodeLine{2917             ++it;}
\DoxyCodeLine{2918             \textcolor{keywordflow}{while} (it != time\_end \&\& \mbox{\hyperlink{namespacecpptoml_a5e79389ffd4c8d77d5518d4bb6ed83c3}{is\_number}}(*it))}
\DoxyCodeLine{2919             \{}
\DoxyCodeLine{2920                 ltime.microsecond += power * (*it++ -\/ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{2921                 power /= 10;}
\DoxyCodeLine{2922             \}}
\DoxyCodeLine{2923         \}}
\DoxyCodeLine{2924 }
\DoxyCodeLine{2925         \textcolor{keywordflow}{if} (it != time\_end)}
\DoxyCodeLine{2926             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed time"{}});}
\DoxyCodeLine{2927 }
\DoxyCodeLine{2928         \textcolor{keywordflow}{return} ltime;}
\DoxyCodeLine{2929     \}}
\DoxyCodeLine{2930 }
\DoxyCodeLine{2931     std::shared\_ptr<value<local\_time>>}
\DoxyCodeLine{2932     \mbox{\hyperlink{classcpptoml_1_1parser_a0a32eed72d1d6284fef90413230ed3e9}{parse\_time}}(std::string::iterator\& it, \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2933     \{}
\DoxyCodeLine{2934         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(read\_time(it, end));}
\DoxyCodeLine{2935     \}}
\DoxyCodeLine{2936 }
\DoxyCodeLine{2937     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1parser_a18204d30663702076ef22c1652f0a42b}{parse\_date}}(std::string::iterator\& it,}
\DoxyCodeLine{2938                                      \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{2939     \{}
\DoxyCodeLine{2940         \textcolor{keyword}{auto} date\_end = find\_end\_of\_date(it, end);}
\DoxyCodeLine{2941 }
\DoxyCodeLine{2942         \textcolor{keyword}{auto} eat = \mbox{\hyperlink{namespacecpptoml_ab577a9dbaed5b73d5fed7d58f11231ce}{make\_consumer}}(}
\DoxyCodeLine{2943             it, date\_end, [\&]() \{ throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed date"{}}); \});}
\DoxyCodeLine{2944 }
\DoxyCodeLine{2945         \mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}} ldate;}
\DoxyCodeLine{2946         ldate.\mbox{\hyperlink{structcpptoml_1_1local__date_aa21b4ec36600ce2bb4c650925e440146}{year}} = eat.eat\_digits(4);}
\DoxyCodeLine{2947         eat(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{2948         ldate.month = eat.eat\_digits(2);}
\DoxyCodeLine{2949         eat(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{2950         ldate.day = eat.eat\_digits(2);}
\DoxyCodeLine{2951 }
\DoxyCodeLine{2952         \textcolor{keywordflow}{if} (it == date\_end)}
\DoxyCodeLine{2953             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(ldate);}
\DoxyCodeLine{2954 }
\DoxyCodeLine{2955         eat.eat\_or(\textcolor{charliteral}{'T'}, \textcolor{charliteral}{' '});}
\DoxyCodeLine{2956 }
\DoxyCodeLine{2957         \mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}} ldt;}
\DoxyCodeLine{2958         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}}\&\textcolor{keyword}{>}(ldt) = ldate;}
\DoxyCodeLine{2959         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}\&\textcolor{keyword}{>}(ldt) = read\_time(it, date\_end);}
\DoxyCodeLine{2960 }
\DoxyCodeLine{2961         \textcolor{keywordflow}{if} (it == date\_end)}
\DoxyCodeLine{2962             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(ldt);}
\DoxyCodeLine{2963 }
\DoxyCodeLine{2964         \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}} dt;}
\DoxyCodeLine{2965         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}}\&\textcolor{keyword}{>}(dt) = ldt;}
\DoxyCodeLine{2966 }
\DoxyCodeLine{2967         \textcolor{keywordtype}{int} hoff = 0;}
\DoxyCodeLine{2968         \textcolor{keywordtype}{int} moff = 0;}
\DoxyCodeLine{2969         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'+'} || *it == \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{2970         \{}
\DoxyCodeLine{2971             \textcolor{keyword}{auto} plus = *it == \textcolor{charliteral}{'+'};}
\DoxyCodeLine{2972             ++it;}
\DoxyCodeLine{2973 }
\DoxyCodeLine{2974             hoff = eat.eat\_digits(2);}
\DoxyCodeLine{2975             dt.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a65aa402611fa9a1c170f7379d20ae6f8}{hour\_offset}} = (plus) ? hoff : -\/hoff;}
\DoxyCodeLine{2976             eat(\textcolor{charliteral}{':'});}
\DoxyCodeLine{2977             moff = eat.eat\_digits(2);}
\DoxyCodeLine{2978             dt.\mbox{\hyperlink{structcpptoml_1_1zone__offset_a7052bd8b785384cf608d5b7fc499cb34}{minute\_offset}} = (plus) ? moff : -\/moff;}
\DoxyCodeLine{2979         \}}
\DoxyCodeLine{2980         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'Z'})}
\DoxyCodeLine{2981         \{}
\DoxyCodeLine{2982             ++it;}
\DoxyCodeLine{2983         \}}
\DoxyCodeLine{2984 }
\DoxyCodeLine{2985         \textcolor{keywordflow}{if} (it != date\_end)}
\DoxyCodeLine{2986             throw\_parse\_exception(\textcolor{stringliteral}{"{}Malformed date"{}});}
\DoxyCodeLine{2987 }
\DoxyCodeLine{2988         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acaf82cf5747e83b7f43224fd68826831}{make\_value}}(dt);}
\DoxyCodeLine{2989     \}}
\DoxyCodeLine{2990 }
\DoxyCodeLine{2991     std::shared\_ptr<base> \mbox{\hyperlink{classcpptoml_1_1parser_a10ec733f3bbf18b32d225fa73393ac97}{parse\_array}}(std::string::iterator\& it,}
\DoxyCodeLine{2992                                       std::string::iterator\& end)}
\DoxyCodeLine{2993     \{}
\DoxyCodeLine{2994         \textcolor{comment}{// this gets ugly because of the "{}homogeneity"{} restriction:}}
\DoxyCodeLine{2995         \textcolor{comment}{// arrays can either be of only one type, or contain arrays}}
\DoxyCodeLine{2996         \textcolor{comment}{// (each of those arrays could be of different types, though)}}
\DoxyCodeLine{2997         \textcolor{comment}{//}}
\DoxyCodeLine{2998         \textcolor{comment}{// because of the latter portion, we don't really have a choice}}
\DoxyCodeLine{2999         \textcolor{comment}{// but to represent them as arrays of base values...}}
\DoxyCodeLine{3000         ++it;}
\DoxyCodeLine{3001 }
\DoxyCodeLine{3002         \textcolor{comment}{// ugh-\/-\/-\/have to read the first value to determine array type...}}
\DoxyCodeLine{3003         skip\_whitespace\_and\_comments(it, end);}
\DoxyCodeLine{3004 }
\DoxyCodeLine{3005         \textcolor{comment}{// edge case-\/-\/-\/empty array}}
\DoxyCodeLine{3006         \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{']'})}
\DoxyCodeLine{3007         \{}
\DoxyCodeLine{3008             ++it;}
\DoxyCodeLine{3009             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}();}
\DoxyCodeLine{3010         \}}
\DoxyCodeLine{3011 }
\DoxyCodeLine{3012         \textcolor{keyword}{auto} val\_end = std::find\_if(}
\DoxyCodeLine{3013             it, end, [](\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{','} || c == \textcolor{charliteral}{']'} || c == \textcolor{charliteral}{'\#'}; \});}
\DoxyCodeLine{3014         \mbox{\hyperlink{classcpptoml_1_1parser_a7dac457d50581a0bc5b824dd3624ac21}{parse\_type}} type = determine\_value\_type(it, val\_end);}
\DoxyCodeLine{3015         \textcolor{keywordflow}{switch} (type)}
\DoxyCodeLine{3016         \{}
\DoxyCodeLine{3017             \textcolor{keywordflow}{case} parse\_type::STRING:}
\DoxyCodeLine{3018                 \textcolor{keywordflow}{return} parse\_value\_array<std::string>(it, end);}
\DoxyCodeLine{3019             \textcolor{keywordflow}{case} parse\_type::LOCAL\_TIME:}
\DoxyCodeLine{3020                 \textcolor{keywordflow}{return} parse\_value\_array<local\_time>(it, end);}
\DoxyCodeLine{3021             \textcolor{keywordflow}{case} parse\_type::LOCAL\_DATE:}
\DoxyCodeLine{3022                 \textcolor{keywordflow}{return} parse\_value\_array<local\_date>(it, end);}
\DoxyCodeLine{3023             \textcolor{keywordflow}{case} parse\_type::LOCAL\_DATETIME:}
\DoxyCodeLine{3024                 \textcolor{keywordflow}{return} parse\_value\_array<local\_datetime>(it, end);}
\DoxyCodeLine{3025             \textcolor{keywordflow}{case} parse\_type::OFFSET\_DATETIME:}
\DoxyCodeLine{3026                 \textcolor{keywordflow}{return} parse\_value\_array<offset\_datetime>(it, end);}
\DoxyCodeLine{3027             \textcolor{keywordflow}{case} parse\_type::INT:}
\DoxyCodeLine{3028                 \textcolor{keywordflow}{return} parse\_value\_array<int64\_t>(it, end);}
\DoxyCodeLine{3029             \textcolor{keywordflow}{case} parse\_type::FLOAT:}
\DoxyCodeLine{3030                 \textcolor{keywordflow}{return} parse\_value\_array<double>(it, end);}
\DoxyCodeLine{3031             \textcolor{keywordflow}{case} parse\_type::BOOL:}
\DoxyCodeLine{3032                 \textcolor{keywordflow}{return} parse\_value\_array<bool>(it, end);}
\DoxyCodeLine{3033             \textcolor{keywordflow}{case} parse\_type::ARRAY:}
\DoxyCodeLine{3034                 \textcolor{keywordflow}{return} parse\_object\_array<array>(\&parser::parse\_array, \textcolor{charliteral}{'['}, it,}
\DoxyCodeLine{3035                                                  end);}
\DoxyCodeLine{3036             \textcolor{keywordflow}{case} parse\_type::INLINE\_TABLE:}
\DoxyCodeLine{3037                 \textcolor{keywordflow}{return} parse\_object\_array<table\_array>(}
\DoxyCodeLine{3038                     \&parser::parse\_inline\_table, \textcolor{charliteral}{'\{'}, it, end);}
\DoxyCodeLine{3039             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{3040                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Unable to parse array"{}});}
\DoxyCodeLine{3041         \}}
\DoxyCodeLine{3042     \}}
\DoxyCodeLine{3043 }
\DoxyCodeLine{3044     \textcolor{keyword}{template} <\textcolor{keyword}{class} Value>}
\DoxyCodeLine{3045     std::shared\_ptr<array> \mbox{\hyperlink{classcpptoml_1_1parser_acda218b03944c14c5941d98ad599a44b}{parse\_value\_array}}(std::string::iterator\& it,}
\DoxyCodeLine{3046                                              std::string::iterator\& end)}
\DoxyCodeLine{3047     \{}
\DoxyCodeLine{3048         \textcolor{keyword}{auto} arr = \mbox{\hyperlink{namespacecpptoml_acd3a35fa7fb071d80b9f779f5a653c54}{make\_array}}();}
\DoxyCodeLine{3049         \textcolor{keywordflow}{while} (it != end \&\& *it != \textcolor{charliteral}{']'})}
\DoxyCodeLine{3050         \{}
\DoxyCodeLine{3051             \textcolor{keyword}{auto} val = parse\_value(it, end);}
\DoxyCodeLine{3052             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = val-\/>as<Value>())}
\DoxyCodeLine{3053                 arr-\/>get().push\_back(val);}
\DoxyCodeLine{3054             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3055                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Arrays must be homogeneous"{}});}
\DoxyCodeLine{3056             skip\_whitespace\_and\_comments(it, end);}
\DoxyCodeLine{3057             \textcolor{keywordflow}{if} (*it != \textcolor{charliteral}{','})}
\DoxyCodeLine{3058                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{3059             ++it;}
\DoxyCodeLine{3060             skip\_whitespace\_and\_comments(it, end);}
\DoxyCodeLine{3061         \}}
\DoxyCodeLine{3062         \textcolor{keywordflow}{if} (it != end)}
\DoxyCodeLine{3063             ++it;}
\DoxyCodeLine{3064         \textcolor{keywordflow}{return} arr;}
\DoxyCodeLine{3065     \}}
\DoxyCodeLine{3066 }
\DoxyCodeLine{3067     \textcolor{keyword}{template} <\textcolor{keyword}{class} Object, \textcolor{keyword}{class} Function>}
\DoxyCodeLine{3068     std::shared\_ptr<Object> \mbox{\hyperlink{classcpptoml_1_1parser_aa7318d9e3ff978089ce9b921d108f505}{parse\_object\_array}}(Function\&\& fun, \textcolor{keywordtype}{char} delim,}
\DoxyCodeLine{3069                                                std::string::iterator\& it,}
\DoxyCodeLine{3070                                                std::string::iterator\& end)}
\DoxyCodeLine{3071     \{}
\DoxyCodeLine{3072         \textcolor{keyword}{auto} arr = detail::make\_element<Object>();}
\DoxyCodeLine{3073 }
\DoxyCodeLine{3074         \textcolor{keywordflow}{while} (it != end \&\& *it != \textcolor{charliteral}{']'})}
\DoxyCodeLine{3075         \{}
\DoxyCodeLine{3076             \textcolor{keywordflow}{if} (*it != delim)}
\DoxyCodeLine{3077                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Unexpected character in array"{}});}
\DoxyCodeLine{3078 }
\DoxyCodeLine{3079             arr-\/>get().push\_back(((*this).*fun)(it, end));}
\DoxyCodeLine{3080             skip\_whitespace\_and\_comments(it, end);}
\DoxyCodeLine{3081 }
\DoxyCodeLine{3082             \textcolor{keywordflow}{if} (it == end || *it != \textcolor{charliteral}{','})}
\DoxyCodeLine{3083                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{3084 }
\DoxyCodeLine{3085             ++it;}
\DoxyCodeLine{3086             skip\_whitespace\_and\_comments(it, end);}
\DoxyCodeLine{3087         \}}
\DoxyCodeLine{3088 }
\DoxyCodeLine{3089         \textcolor{keywordflow}{if} (it == end || *it != \textcolor{charliteral}{']'})}
\DoxyCodeLine{3090             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated array"{}});}
\DoxyCodeLine{3091 }
\DoxyCodeLine{3092         ++it;}
\DoxyCodeLine{3093         \textcolor{keywordflow}{return} arr;}
\DoxyCodeLine{3094     \}}
\DoxyCodeLine{3095 }
\DoxyCodeLine{3096     std::shared\_ptr<table> \mbox{\hyperlink{classcpptoml_1_1parser_a192be70b965934ac7a7b6020259ffc28}{parse\_inline\_table}}(std::string::iterator\& it,}
\DoxyCodeLine{3097                                               std::string::iterator\& end)}
\DoxyCodeLine{3098     \{}
\DoxyCodeLine{3099         \textcolor{keyword}{auto} tbl = \mbox{\hyperlink{namespacecpptoml_a233bc1326fad496c4cadbbb22ffd5b2b}{make\_table}}();}
\DoxyCodeLine{3100         \textcolor{keywordflow}{do}}
\DoxyCodeLine{3101         \{}
\DoxyCodeLine{3102             ++it;}
\DoxyCodeLine{3103             \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{3104                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated inline table"{}});}
\DoxyCodeLine{3105 }
\DoxyCodeLine{3106             consume\_whitespace(it, end);}
\DoxyCodeLine{3107             \textcolor{keywordflow}{if} (it != end \&\& *it != \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{3108             \{}
\DoxyCodeLine{3109                 parse\_key\_value(it, end, tbl.get());}
\DoxyCodeLine{3110                 consume\_whitespace(it, end);}
\DoxyCodeLine{3111             \}}
\DoxyCodeLine{3112         \} \textcolor{keywordflow}{while} (*it == \textcolor{charliteral}{','});}
\DoxyCodeLine{3113 }
\DoxyCodeLine{3114         \textcolor{keywordflow}{if} (it == end || *it != \textcolor{charliteral}{'\}'})}
\DoxyCodeLine{3115             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unterminated inline table"{}});}
\DoxyCodeLine{3116 }
\DoxyCodeLine{3117         ++it;}
\DoxyCodeLine{3118         consume\_whitespace(it, end);}
\DoxyCodeLine{3119 }
\DoxyCodeLine{3120         \textcolor{keywordflow}{return} tbl;}
\DoxyCodeLine{3121     \}}
\DoxyCodeLine{3122 }
\DoxyCodeLine{3123     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_acbbdfa1ff85ab5bd406130aa0b7da83a}{skip\_whitespace\_and\_comments}}(std::string::iterator\& start,}
\DoxyCodeLine{3124                                       std::string::iterator\& end)}
\DoxyCodeLine{3125     \{}
\DoxyCodeLine{3126         consume\_whitespace(start, end);}
\DoxyCodeLine{3127         \textcolor{keywordflow}{while} (start == end || *start == \textcolor{charliteral}{'\#'})}
\DoxyCodeLine{3128         \{}
\DoxyCodeLine{3129             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacecpptoml_1_1detail_a74e09522f6e6aa3089c076a36b5fb308}{detail::getline}}(input\_, line\_))}
\DoxyCodeLine{3130                 throw\_parse\_exception(\textcolor{stringliteral}{"{}Unclosed array"{}});}
\DoxyCodeLine{3131             line\_number\_++;}
\DoxyCodeLine{3132             start = line\_.begin();}
\DoxyCodeLine{3133             end = line\_.end();}
\DoxyCodeLine{3134             consume\_whitespace(start, end);}
\DoxyCodeLine{3135         \}}
\DoxyCodeLine{3136     \}}
\DoxyCodeLine{3137 }
\DoxyCodeLine{3138     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a653d8cd4fffce5aa1682e39388259ffa}{consume\_whitespace}}(std::string::iterator\& it,}
\DoxyCodeLine{3139                             \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{3140     \{}
\DoxyCodeLine{3141         \textcolor{keywordflow}{while} (it != end \&\& (*it == \textcolor{charliteral}{' '} || *it == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{3142             ++it;}
\DoxyCodeLine{3143     \}}
\DoxyCodeLine{3144 }
\DoxyCodeLine{3145     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_ad9ef1172337e45d2bda6111d963ac90f}{consume\_backwards\_whitespace}}(std::string::iterator\& back,}
\DoxyCodeLine{3146                                       \textcolor{keyword}{const} std::string::iterator\& front)}
\DoxyCodeLine{3147     \{}
\DoxyCodeLine{3148         \textcolor{keywordflow}{while} (back != front \&\& (*back == \textcolor{charliteral}{' '} || *back == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{3149             -\/-\/back;}
\DoxyCodeLine{3150     \}}
\DoxyCodeLine{3151 }
\DoxyCodeLine{3152     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1parser_a9d38b96e8faafc4f4162b6e908ac7ce9}{eol\_or\_comment}}(\textcolor{keyword}{const} std::string::iterator\& it,}
\DoxyCodeLine{3153                         \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{3154     \{}
\DoxyCodeLine{3155         \textcolor{keywordflow}{if} (it != end \&\& *it != \textcolor{charliteral}{'\#'})}
\DoxyCodeLine{3156             throw\_parse\_exception(\textcolor{stringliteral}{"{}Unidentified trailing character '"{}}}
\DoxyCodeLine{3157                                   + std::string\{*it\}}
\DoxyCodeLine{3158                                   + \textcolor{stringliteral}{"{}'-\/-\/-\/did you forget a '\#'?"{}});}
\DoxyCodeLine{3159     \}}
\DoxyCodeLine{3160 }
\DoxyCodeLine{3161     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1parser_a9e265bbaf0bc02260ce53bc760efb05b}{is\_time}}(\textcolor{keyword}{const} std::string::iterator\& it,}
\DoxyCodeLine{3162                  \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{3163     \{}
\DoxyCodeLine{3164         \textcolor{keyword}{auto} time\_end = find\_end\_of\_time(it, end);}
\DoxyCodeLine{3165         \textcolor{keyword}{auto} len = std::distance(it, time\_end);}
\DoxyCodeLine{3166 }
\DoxyCodeLine{3167         \textcolor{keywordflow}{if} (len < 8)}
\DoxyCodeLine{3168             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3169 }
\DoxyCodeLine{3170         \textcolor{keywordflow}{if} (it[2] != \textcolor{charliteral}{':'} || it[5] != \textcolor{charliteral}{':'})}
\DoxyCodeLine{3171             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3172 }
\DoxyCodeLine{3173         \textcolor{keywordflow}{if} (len > 8)}
\DoxyCodeLine{3174             \textcolor{keywordflow}{return} it[8] == \textcolor{charliteral}{'.'} \&\& len > 9;}
\DoxyCodeLine{3175 }
\DoxyCodeLine{3176         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3177     \}}
\DoxyCodeLine{3178 }
\DoxyCodeLine{3179     \mbox{\hyperlink{classcpptoml_1_1option}{option<parse\_type>}} \mbox{\hyperlink{classcpptoml_1_1parser_a47c8984f0f6ab1dc69abfba1da416dd6}{date\_type}}(\textcolor{keyword}{const} std::string::iterator\& it,}
\DoxyCodeLine{3180                                  \textcolor{keyword}{const} std::string::iterator\& end)}
\DoxyCodeLine{3181     \{}
\DoxyCodeLine{3182         \textcolor{keyword}{auto} date\_end = find\_end\_of\_date(it, end);}
\DoxyCodeLine{3183         \textcolor{keyword}{auto} len = std::distance(it, date\_end);}
\DoxyCodeLine{3184 }
\DoxyCodeLine{3185         \textcolor{keywordflow}{if} (len < 10)}
\DoxyCodeLine{3186             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{3187 }
\DoxyCodeLine{3188         \textcolor{keywordflow}{if} (it[4] != \textcolor{charliteral}{'-\/'} || it[7] != \textcolor{charliteral}{'-\/'})}
\DoxyCodeLine{3189             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{3190 }
\DoxyCodeLine{3191         \textcolor{keywordflow}{if} (len >= 19 \&\& (it[10] == \textcolor{charliteral}{'T'} || it[10] == \textcolor{charliteral}{' '})}
\DoxyCodeLine{3192             \&\& is\_time(it + 11, date\_end))}
\DoxyCodeLine{3193         \{}
\DoxyCodeLine{3194             \textcolor{comment}{// datetime type}}
\DoxyCodeLine{3195             \textcolor{keyword}{auto} time\_end = find\_end\_of\_time(it + 11, date\_end);}
\DoxyCodeLine{3196             \textcolor{keywordflow}{if} (time\_end == date\_end)}
\DoxyCodeLine{3197                 \textcolor{keywordflow}{return} \{parse\_type::LOCAL\_DATETIME\};}
\DoxyCodeLine{3198             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3199                 \textcolor{keywordflow}{return} \{parse\_type::OFFSET\_DATETIME\};}
\DoxyCodeLine{3200         \}}
\DoxyCodeLine{3201         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (len == 10)}
\DoxyCodeLine{3202         \{}
\DoxyCodeLine{3203             \textcolor{comment}{// just a regular date}}
\DoxyCodeLine{3204             \textcolor{keywordflow}{return} \{parse\_type::LOCAL\_DATE\};}
\DoxyCodeLine{3205         \}}
\DoxyCodeLine{3206 }
\DoxyCodeLine{3207         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{3208     \}}
\DoxyCodeLine{3209 }
\DoxyCodeLine{3210     std::istream\& \mbox{\hyperlink{classcpptoml_1_1parser_a006e7d2e0b64a6a68885bd30b5f2160c}{input\_}};}
\DoxyCodeLine{3211     std::string \mbox{\hyperlink{classcpptoml_1_1parser_acff94c7795a73b997a0e3a6df5f25164}{line\_}};}
\DoxyCodeLine{3212     std::size\_t line\_number\_ = 0;}
\DoxyCodeLine{3213 \};}
\DoxyCodeLine{3214 }
\DoxyCodeLine{3219 \textcolor{keyword}{inline} std::shared\_ptr<table> \mbox{\hyperlink{namespacecpptoml_a468d2a959ff8335624de833154a96ed5}{parse\_file}}(\textcolor{keyword}{const} std::string\& filename)}
\DoxyCodeLine{3220 \{}
\DoxyCodeLine{3221 \textcolor{preprocessor}{\#if defined(BOOST\_NOWIDE\_FSTREAM\_INCLUDED\_HPP)}}
\DoxyCodeLine{3222     boost::nowide::ifstream file\{filename.c\_str()\};}
\DoxyCodeLine{3223 \textcolor{preprocessor}{\#elif defined(NOWIDE\_FSTREAM\_INCLUDED\_HPP)}}
\DoxyCodeLine{3224     nowide::ifstream file\{filename.c\_str()\};}
\DoxyCodeLine{3225 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{3226     std::ifstream file\{filename\};}
\DoxyCodeLine{3227 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3228     \textcolor{keywordflow}{if} (!file.is\_open())}
\DoxyCodeLine{3229         \textcolor{keywordflow}{throw} \mbox{\hyperlink{classcpptoml_1_1parse__exception}{parse\_exception}}\{filename + \textcolor{stringliteral}{"{} could not be opened for parsing"{}}\};}
\DoxyCodeLine{3230     \mbox{\hyperlink{classcpptoml_1_1parser}{parser}} p\{file\};}
\DoxyCodeLine{3231     \textcolor{keywordflow}{return} p.\mbox{\hyperlink{classcpptoml_1_1parser_a836d2fa818d704af4d02e036e3b5d817}{parse}}();}
\DoxyCodeLine{3232 \}}
\DoxyCodeLine{3233 }
\DoxyCodeLine{3234 \textcolor{keyword}{template} <\textcolor{keyword}{class}... Ts>}
\DoxyCodeLine{3235 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__accept}{value\_accept}};}
\DoxyCodeLine{3236 }
\DoxyCodeLine{3237 \textcolor{keyword}{template} <>}
\DoxyCodeLine{3238 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__accept}{value\_accept}}<>}
\DoxyCodeLine{3239 \{}
\DoxyCodeLine{3240     \textcolor{keyword}{template} <\textcolor{keyword}{class }Visitor, \textcolor{keyword}{class}... Args>}
\DoxyCodeLine{3241     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{structcpptoml_1_1value__accept_3_4_a02ce524979b99a75eddd774d6834db25}{accept}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1base}{base}}\&, Visitor\&\&, Args\&\&...)}
\DoxyCodeLine{3242     \{}
\DoxyCodeLine{3243         \textcolor{comment}{// nothing}}
\DoxyCodeLine{3244     \}}
\DoxyCodeLine{3245 \};}
\DoxyCodeLine{3246 }
\DoxyCodeLine{3247 \textcolor{keyword}{template} <\textcolor{keyword}{class }T, \textcolor{keyword}{class}... Ts>}
\DoxyCodeLine{3248 \textcolor{keyword}{struct }\mbox{\hyperlink{structcpptoml_1_1value__accept}{value\_accept}}<T, Ts...>}
\DoxyCodeLine{3249 \{}
\DoxyCodeLine{3250     \textcolor{keyword}{template} <\textcolor{keyword}{class }Visitor, \textcolor{keyword}{class}... Args>}
\DoxyCodeLine{3251     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{structcpptoml_1_1value__accept_3_01T_00_01Ts_8_8_8_01_4_ab4f4af9de3ca98028d9582863a0dfc11}{accept}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1base}{base}}\& b, Visitor\&\& visitor, Args\&\&... args)}
\DoxyCodeLine{3252     \{}
\DoxyCodeLine{3253         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} v = b.\mbox{\hyperlink{classcpptoml_1_1base_aba83703fc523e5b780bb422071aa27cd}{as}}<T>())}
\DoxyCodeLine{3254         \{}
\DoxyCodeLine{3255             visitor.visit(*v, std::forward<Args>(args)...);}
\DoxyCodeLine{3256         \}}
\DoxyCodeLine{3257         \textcolor{keywordflow}{else}}
\DoxyCodeLine{3258         \{}
\DoxyCodeLine{3259             \mbox{\hyperlink{structcpptoml_1_1value__accept}{value\_accept<Ts...>::accept}}(b, std::forward<Visitor>(visitor),}
\DoxyCodeLine{3260                                         std::forward<Args>(args)...);}
\DoxyCodeLine{3261         \}}
\DoxyCodeLine{3262     \}}
\DoxyCodeLine{3263 \};}
\DoxyCodeLine{3264 }
\DoxyCodeLine{3269 \textcolor{keyword}{template} <\textcolor{keyword}{class }Visitor, \textcolor{keyword}{class}... Args>}
\DoxyCodeLine{3270 \textcolor{keywordtype}{void} base::accept(Visitor\&\& visitor, Args\&\&... args)\textcolor{keyword}{ const}}
\DoxyCodeLine{3271 \textcolor{keyword}{}\{}
\DoxyCodeLine{3272     \textcolor{keywordflow}{if} (is\_value())}
\DoxyCodeLine{3273     \{}
\DoxyCodeLine{3274         \textcolor{keyword}{using} value\_acceptor}
\DoxyCodeLine{3275             = \mbox{\hyperlink{structcpptoml_1_1value__accept}{value\_accept}}<std::string, int64\_t, double, bool, \mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}},}
\DoxyCodeLine{3276                            \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}, \mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}}, \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}}>;}
\DoxyCodeLine{3277         value\_acceptor::accept(*\textcolor{keyword}{this}, std::forward<Visitor>(visitor),}
\DoxyCodeLine{3278                                std::forward<Args>(args)...);}
\DoxyCodeLine{3279     \}}
\DoxyCodeLine{3280     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_table())}
\DoxyCodeLine{3281     \{}
\DoxyCodeLine{3282         visitor.visit(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classcpptoml_1_1table}{table}}\&\textcolor{keyword}{>}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{3283                       std::forward<Args>(args)...);}
\DoxyCodeLine{3284     \}}
\DoxyCodeLine{3285     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_array())}
\DoxyCodeLine{3286     \{}
\DoxyCodeLine{3287         visitor.visit(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classcpptoml_1_1array}{array}}\&\textcolor{keyword}{>}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{3288                       std::forward<Args>(args)...);}
\DoxyCodeLine{3289     \}}
\DoxyCodeLine{3290     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (is\_table\_array())}
\DoxyCodeLine{3291     \{}
\DoxyCodeLine{3292         visitor.visit(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\&\textcolor{keyword}{>}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{3293                       std::forward<Args>(args)...);}
\DoxyCodeLine{3294     \}}
\DoxyCodeLine{3295 \}}
\DoxyCodeLine{3296 }
\DoxyCodeLine{3301 \textcolor{keyword}{class }\mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}}}
\DoxyCodeLine{3302 \{}
\DoxyCodeLine{3303   \textcolor{keyword}{public}:}
\DoxyCodeLine{3307     \mbox{\hyperlink{classcpptoml_1_1toml__writer_a64f5bc7584f23e8b9901bb421170563b}{toml\_writer}}(std::ostream\& s, \textcolor{keyword}{const} std::string\& indent\_space = \textcolor{stringliteral}{"{}\(\backslash\)t"{}})}
\DoxyCodeLine{3308         : stream\_(s), indent\_(indent\_space), has\_naked\_endline\_(false)}
\DoxyCodeLine{3309     \{}
\DoxyCodeLine{3310         \textcolor{comment}{// nothing}}
\DoxyCodeLine{3311     \}}
\DoxyCodeLine{3312 }
\DoxyCodeLine{3313   \textcolor{keyword}{public}:}
\DoxyCodeLine{3317     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{3318     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_afb4822db300bba013ef4f853c7958aa5}{visit}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<T>}}\& v, \textcolor{keywordtype}{bool} = \textcolor{keyword}{false})}
\DoxyCodeLine{3319     \{}
\DoxyCodeLine{3320         write(v);}
\DoxyCodeLine{3321     \}}
\DoxyCodeLine{3322 }
\DoxyCodeLine{3326     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a0b2113b3b58ad7fcf19346760677820c}{visit}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table}{table}}\& t, \textcolor{keywordtype}{bool} in\_array = \textcolor{keyword}{false})}
\DoxyCodeLine{3327     \{}
\DoxyCodeLine{3328         write\_table\_header(in\_array);}
\DoxyCodeLine{3329         std::vector<std::string> values;}
\DoxyCodeLine{3330         std::vector<std::string> tables;}
\DoxyCodeLine{3331 }
\DoxyCodeLine{3332         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& i : t)}
\DoxyCodeLine{3333         \{}
\DoxyCodeLine{3334             \textcolor{keywordflow}{if} (i.second-\/>is\_table() || i.second-\/>is\_table\_array())}
\DoxyCodeLine{3335             \{}
\DoxyCodeLine{3336                 tables.push\_back(i.first);}
\DoxyCodeLine{3337             \}}
\DoxyCodeLine{3338             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3339             \{}
\DoxyCodeLine{3340                 values.push\_back(i.first);}
\DoxyCodeLine{3341             \}}
\DoxyCodeLine{3342         \}}
\DoxyCodeLine{3343 }
\DoxyCodeLine{3344         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < values.size(); ++i)}
\DoxyCodeLine{3345         \{}
\DoxyCodeLine{3346             path\_.push\_back(values[i]);}
\DoxyCodeLine{3347 }
\DoxyCodeLine{3348             \textcolor{keywordflow}{if} (i > 0)}
\DoxyCodeLine{3349                 endline();}
\DoxyCodeLine{3350 }
\DoxyCodeLine{3351             write\_table\_item\_header(*t.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(values[i]));}
\DoxyCodeLine{3352             t.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(values[i])-\/>accept(*\textcolor{keyword}{this}, \textcolor{keyword}{false});}
\DoxyCodeLine{3353             path\_.pop\_back();}
\DoxyCodeLine{3354         \}}
\DoxyCodeLine{3355 }
\DoxyCodeLine{3356         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tables.size(); ++i)}
\DoxyCodeLine{3357         \{}
\DoxyCodeLine{3358             path\_.push\_back(tables[i]);}
\DoxyCodeLine{3359 }
\DoxyCodeLine{3360             \textcolor{keywordflow}{if} (values.size() > 0 || i > 0)}
\DoxyCodeLine{3361                 endline();}
\DoxyCodeLine{3362 }
\DoxyCodeLine{3363             write\_table\_item\_header(*t.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(tables[i]));}
\DoxyCodeLine{3364             t.\mbox{\hyperlink{classcpptoml_1_1table_a17b9c63871edf529a49a68edd34ebb25}{get}}(tables[i])-\/>accept(*\textcolor{keyword}{this}, \textcolor{keyword}{false});}
\DoxyCodeLine{3365             path\_.pop\_back();}
\DoxyCodeLine{3366         \}}
\DoxyCodeLine{3367 }
\DoxyCodeLine{3368         endline();}
\DoxyCodeLine{3369     \}}
\DoxyCodeLine{3370 }
\DoxyCodeLine{3374     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a80f1f211012652d69b9cb5a8427d2056}{visit}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1array}{array}}\& a, \textcolor{keywordtype}{bool} = \textcolor{keyword}{false})}
\DoxyCodeLine{3375     \{}
\DoxyCodeLine{3376         write(\textcolor{stringliteral}{"{}["{}});}
\DoxyCodeLine{3377 }
\DoxyCodeLine{3378         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < a.\mbox{\hyperlink{classcpptoml_1_1array_afdc9c2172a9aa36b55f95da937067ea0}{get}}().size(); ++i)}
\DoxyCodeLine{3379         \{}
\DoxyCodeLine{3380             \textcolor{keywordflow}{if} (i > 0)}
\DoxyCodeLine{3381                 write(\textcolor{stringliteral}{"{}, "{}});}
\DoxyCodeLine{3382 }
\DoxyCodeLine{3383             \textcolor{keywordflow}{if} (a.\mbox{\hyperlink{classcpptoml_1_1array_afdc9c2172a9aa36b55f95da937067ea0}{get}}()[i]-\/>is\_array())}
\DoxyCodeLine{3384             \{}
\DoxyCodeLine{3385                 a.\mbox{\hyperlink{classcpptoml_1_1array_afdc9c2172a9aa36b55f95da937067ea0}{get}}()[i]-\/>as\_array()-\/>accept(*\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{3386             \}}
\DoxyCodeLine{3387             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3388             \{}
\DoxyCodeLine{3389                 a.\mbox{\hyperlink{classcpptoml_1_1array_afdc9c2172a9aa36b55f95da937067ea0}{get}}()[i]-\/>accept(*\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{3390             \}}
\DoxyCodeLine{3391         \}}
\DoxyCodeLine{3392 }
\DoxyCodeLine{3393         write(\textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{3394     \}}
\DoxyCodeLine{3395 }
\DoxyCodeLine{3399     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_ac257ff734bb20e07b7c1ec1d6b68bdfd}{visit}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\& t, \textcolor{keywordtype}{bool} = \textcolor{keyword}{false})}
\DoxyCodeLine{3400     \{}
\DoxyCodeLine{3401         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j = 0; j < t.\mbox{\hyperlink{classcpptoml_1_1table__array_ad67c7b4fa38256d079cb6de7a2cc51d9}{get}}().size(); ++j)}
\DoxyCodeLine{3402         \{}
\DoxyCodeLine{3403             \textcolor{keywordflow}{if} (j > 0)}
\DoxyCodeLine{3404                 endline();}
\DoxyCodeLine{3405 }
\DoxyCodeLine{3406             t.\mbox{\hyperlink{classcpptoml_1_1table__array_ad67c7b4fa38256d079cb6de7a2cc51d9}{get}}()[j]-\/>accept(*\textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{3407         \}}
\DoxyCodeLine{3408 }
\DoxyCodeLine{3409         endline();}
\DoxyCodeLine{3410     \}}
\DoxyCodeLine{3411 }
\DoxyCodeLine{3415     \textcolor{keyword}{static} std::string \mbox{\hyperlink{classcpptoml_1_1toml__writer_a8496c957e99cf3fedf8065eda70dd1b0}{escape\_string}}(\textcolor{keyword}{const} std::string\& str)}
\DoxyCodeLine{3416     \{}
\DoxyCodeLine{3417         std::string res;}
\DoxyCodeLine{3418         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = str.begin(); it != str.end(); ++it)}
\DoxyCodeLine{3419         \{}
\DoxyCodeLine{3420             \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)b'})}
\DoxyCodeLine{3421             \{}
\DoxyCodeLine{3422                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)b"{}};}
\DoxyCodeLine{3423             \}}
\DoxyCodeLine{3424             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)t'})}
\DoxyCodeLine{3425             \{}
\DoxyCodeLine{3426                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)t"{}};}
\DoxyCodeLine{3427             \}}
\DoxyCodeLine{3428             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{3429             \{}
\DoxyCodeLine{3430                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)n"{}};}
\DoxyCodeLine{3431             \}}
\DoxyCodeLine{3432             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)f'})}
\DoxyCodeLine{3433             \{}
\DoxyCodeLine{3434                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)f"{}};}
\DoxyCodeLine{3435             \}}
\DoxyCodeLine{3436             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)r'})}
\DoxyCodeLine{3437             \{}
\DoxyCodeLine{3438                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)r"{}};}
\DoxyCodeLine{3439             \}}
\DoxyCodeLine{3440             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'"{}'})}
\DoxyCodeLine{3441             \{}
\DoxyCodeLine{3442                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)"{}"{}};}
\DoxyCodeLine{3443             \}}
\DoxyCodeLine{3444             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*it == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{3445             \{}
\DoxyCodeLine{3446                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)"{}};}
\DoxyCodeLine{3447             \}}
\DoxyCodeLine{3448             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(*it) <= UINT32\_C(0x001f))}
\DoxyCodeLine{3449             \{}
\DoxyCodeLine{3450                 res += \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)u"{}};}
\DoxyCodeLine{3451                 std::stringstream ss;}
\DoxyCodeLine{3452                 ss << std::hex << static\_cast<uint32\_t>(*it);}
\DoxyCodeLine{3453                 res += ss.str();}
\DoxyCodeLine{3454             \}}
\DoxyCodeLine{3455             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3456             \{}
\DoxyCodeLine{3457                 res += *it;}
\DoxyCodeLine{3458             \}}
\DoxyCodeLine{3459         \}}
\DoxyCodeLine{3460         \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{3461     \}}
\DoxyCodeLine{3462 }
\DoxyCodeLine{3463   \textcolor{keyword}{protected}:}
\DoxyCodeLine{3467     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a9f87a523e9e7f2d50eb5ebf8cf5d2ad6}{write}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<std::string>}}\& v)}
\DoxyCodeLine{3468     \{}
\DoxyCodeLine{3469         write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3470         write(escape\_string(v.\mbox{\hyperlink{classcpptoml_1_1value_a54bb8650ebbe58c00f028e373f3c08d0}{get}}()));}
\DoxyCodeLine{3471         write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3472     \}}
\DoxyCodeLine{3473 }
\DoxyCodeLine{3477     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a80ef16def8023eefb82b090a728da696}{write}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<double>}}\& v)}
\DoxyCodeLine{3478     \{}
\DoxyCodeLine{3479         std::stringstream ss;}
\DoxyCodeLine{3480         ss << std::showpoint}
\DoxyCodeLine{3481            << std::setprecision(std::numeric\_limits<double>::max\_digits10)}
\DoxyCodeLine{3482            << v.\mbox{\hyperlink{classcpptoml_1_1value_a54bb8650ebbe58c00f028e373f3c08d0}{get}}();}
\DoxyCodeLine{3483 }
\DoxyCodeLine{3484         \textcolor{keyword}{auto} double\_str = ss.str();}
\DoxyCodeLine{3485         \textcolor{keyword}{auto} pos = double\_str.find(\textcolor{stringliteral}{"{}e0"{}});}
\DoxyCodeLine{3486         \textcolor{keywordflow}{if} (pos != std::string::npos)}
\DoxyCodeLine{3487             double\_str.replace(pos, 2, \textcolor{stringliteral}{"{}e"{}});}
\DoxyCodeLine{3488         pos = double\_str.find(\textcolor{stringliteral}{"{}e-\/0"{}});}
\DoxyCodeLine{3489         \textcolor{keywordflow}{if} (pos != std::string::npos)}
\DoxyCodeLine{3490             double\_str.replace(pos, 3, \textcolor{stringliteral}{"{}e-\/"{}});}
\DoxyCodeLine{3491 }
\DoxyCodeLine{3492         stream\_ << double\_str;}
\DoxyCodeLine{3493         has\_naked\_endline\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{3494     \}}
\DoxyCodeLine{3495 }
\DoxyCodeLine{3500     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{3501     \textcolor{keyword}{typename} std::enable\_if<}
\DoxyCodeLine{3502         \mbox{\hyperlink{structcpptoml_1_1is__one__of}{is\_one\_of}}<T, int64\_t, \mbox{\hyperlink{structcpptoml_1_1local__date}{local\_date}}, \mbox{\hyperlink{structcpptoml_1_1local__time}{local\_time}}, \mbox{\hyperlink{structcpptoml_1_1local__datetime}{local\_datetime}},}
\DoxyCodeLine{3503                   \mbox{\hyperlink{structcpptoml_1_1offset__datetime}{offset\_datetime}}>\mbox{\hyperlink{classcpptoml_1_1value}{::value}}>::type}
\DoxyCodeLine{3504     \mbox{\hyperlink{classcpptoml_1_1toml__writer_a33a2a430d88c7e10835b459779fe7c5e}{write}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<T>}}\& v)}
\DoxyCodeLine{3505     \{}
\DoxyCodeLine{3506         write(v.\mbox{\hyperlink{classcpptoml_1_1value_a54bb8650ebbe58c00f028e373f3c08d0}{get}}());}
\DoxyCodeLine{3507     \}}
\DoxyCodeLine{3508 }
\DoxyCodeLine{3512     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_abfd16bcedb6e3c2ea0c1d1ff1ba57344}{write}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<bool>}}\& v)}
\DoxyCodeLine{3513     \{}
\DoxyCodeLine{3514         write((v.\mbox{\hyperlink{classcpptoml_1_1value_a54bb8650ebbe58c00f028e373f3c08d0}{get}}() ? \textcolor{stringliteral}{"{}true"{}} : \textcolor{stringliteral}{"{}false"{}}));}
\DoxyCodeLine{3515     \}}
\DoxyCodeLine{3516 }
\DoxyCodeLine{3520     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a4ec1f090b9c6876eebd61daea86ac827}{write\_table\_header}}(\textcolor{keywordtype}{bool} in\_array = \textcolor{keyword}{false})}
\DoxyCodeLine{3521     \{}
\DoxyCodeLine{3522         \textcolor{keywordflow}{if} (!path\_.empty())}
\DoxyCodeLine{3523         \{}
\DoxyCodeLine{3524             indent();}
\DoxyCodeLine{3525 }
\DoxyCodeLine{3526             write(\textcolor{stringliteral}{"{}["{}});}
\DoxyCodeLine{3527 }
\DoxyCodeLine{3528             \textcolor{keywordflow}{if} (in\_array)}
\DoxyCodeLine{3529             \{}
\DoxyCodeLine{3530                 write(\textcolor{stringliteral}{"{}["{}});}
\DoxyCodeLine{3531             \}}
\DoxyCodeLine{3532 }
\DoxyCodeLine{3533             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < path\_.size(); ++i)}
\DoxyCodeLine{3534             \{}
\DoxyCodeLine{3535                 \textcolor{keywordflow}{if} (i > 0)}
\DoxyCodeLine{3536                 \{}
\DoxyCodeLine{3537                     write(\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{3538                 \}}
\DoxyCodeLine{3539 }
\DoxyCodeLine{3540                 \textcolor{keywordflow}{if} (path\_[i].find\_first\_not\_of(\textcolor{stringliteral}{"{}ABCDEFGHIJKLMNOPQRSTUVWXYZabcde"{}}}
\DoxyCodeLine{3541                                                \textcolor{stringliteral}{"{}fghijklmnopqrstuvwxyz0123456789"{}}}
\DoxyCodeLine{3542                                                \textcolor{stringliteral}{"{}\_-\/"{}})}
\DoxyCodeLine{3543                     == std::string::npos)}
\DoxyCodeLine{3544                 \{}
\DoxyCodeLine{3545                     write(path\_[i]);}
\DoxyCodeLine{3546                 \}}
\DoxyCodeLine{3547                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{3548                 \{}
\DoxyCodeLine{3549                     write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3550                     write(escape\_string(path\_[i]));}
\DoxyCodeLine{3551                     write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3552                 \}}
\DoxyCodeLine{3553             \}}
\DoxyCodeLine{3554 }
\DoxyCodeLine{3555             \textcolor{keywordflow}{if} (in\_array)}
\DoxyCodeLine{3556             \{}
\DoxyCodeLine{3557                 write(\textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{3558             \}}
\DoxyCodeLine{3559 }
\DoxyCodeLine{3560             write(\textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{3561             endline();}
\DoxyCodeLine{3562         \}}
\DoxyCodeLine{3563     \}}
\DoxyCodeLine{3564 }
\DoxyCodeLine{3568     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a0d7b524e40bc9aec1ccbdff9cf6bfa3c}{write\_table\_item\_header}}(\textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1base}{base}}\& b)}
\DoxyCodeLine{3569     \{}
\DoxyCodeLine{3570         \textcolor{keywordflow}{if} (!b.\mbox{\hyperlink{classcpptoml_1_1base_ae46f5eaebc2a0d829f94b0ddca425cf2}{is\_table}}() \&\& !b.\mbox{\hyperlink{classcpptoml_1_1base_a60d38fdd948969a939598d35490a6246}{is\_table\_array}}())}
\DoxyCodeLine{3571         \{}
\DoxyCodeLine{3572             indent();}
\DoxyCodeLine{3573 }
\DoxyCodeLine{3574             \textcolor{keywordflow}{if} (path\_.back().find\_first\_not\_of(\textcolor{stringliteral}{"{}ABCDEFGHIJKLMNOPQRSTUVWXYZabcde"{}}}
\DoxyCodeLine{3575                                                \textcolor{stringliteral}{"{}fghijklmnopqrstuvwxyz0123456789"{}}}
\DoxyCodeLine{3576                                                \textcolor{stringliteral}{"{}\_-\/"{}})}
\DoxyCodeLine{3577                 == std::string::npos)}
\DoxyCodeLine{3578             \{}
\DoxyCodeLine{3579                 write(path\_.back());}
\DoxyCodeLine{3580             \}}
\DoxyCodeLine{3581             \textcolor{keywordflow}{else}}
\DoxyCodeLine{3582             \{}
\DoxyCodeLine{3583                 write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3584                 write(escape\_string(path\_.back()));}
\DoxyCodeLine{3585                 write(\textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{3586             \}}
\DoxyCodeLine{3587 }
\DoxyCodeLine{3588             write(\textcolor{stringliteral}{"{} = "{}});}
\DoxyCodeLine{3589         \}}
\DoxyCodeLine{3590     \}}
\DoxyCodeLine{3591 }
\DoxyCodeLine{3592   \textcolor{keyword}{private}:}
\DoxyCodeLine{3597     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a253dfe7107f87a460d3e8a90e5a351da}{indent}}()}
\DoxyCodeLine{3598     \{}
\DoxyCodeLine{3599         \textcolor{keywordflow}{for} (std::size\_t i = 1; i < path\_.size(); ++i)}
\DoxyCodeLine{3600             write(indent\_);}
\DoxyCodeLine{3601     \}}
\DoxyCodeLine{3602 }
\DoxyCodeLine{3606     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{3607     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_a1a26a4c6a1c2d8158f4d6046e2f50126}{write}}(\textcolor{keyword}{const} T\& v)}
\DoxyCodeLine{3608     \{}
\DoxyCodeLine{3609         stream\_ << v;}
\DoxyCodeLine{3610         has\_naked\_endline\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{3611     \}}
\DoxyCodeLine{3612 }
\DoxyCodeLine{3616     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpptoml_1_1toml__writer_ac36d43fde0cca285fc6942cd3ecf0a49}{endline}}()}
\DoxyCodeLine{3617     \{}
\DoxyCodeLine{3618         \textcolor{keywordflow}{if} (!has\_naked\_endline\_)}
\DoxyCodeLine{3619         \{}
\DoxyCodeLine{3620             stream\_ << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{3621             has\_naked\_endline\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{3622         \}}
\DoxyCodeLine{3623     \}}
\DoxyCodeLine{3624 }
\DoxyCodeLine{3625   \textcolor{keyword}{private}:}
\DoxyCodeLine{3626     std::ostream\& \mbox{\hyperlink{classcpptoml_1_1toml__writer_a94e7bdf45eca3c957b0971028dea14bc}{stream\_}};}
\DoxyCodeLine{3627     \textcolor{keyword}{const} std::string \mbox{\hyperlink{classcpptoml_1_1toml__writer_a68dff02d6556c2a6504990c65febdfec}{indent\_}};}
\DoxyCodeLine{3628     std::vector<std::string> \mbox{\hyperlink{classcpptoml_1_1toml__writer_a0c50585c4bf5003c26f4ebec43445cfa}{path\_}};}
\DoxyCodeLine{3629     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcpptoml_1_1toml__writer_aad2e4f228381e685d23dda9809136a94}{has\_naked\_endline\_}};}
\DoxyCodeLine{3630 \};}
\DoxyCodeLine{3631 }
\DoxyCodeLine{3632 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a951b010028ceed661797173a0f9d995a}{operator<<}}(std::ostream\& stream, \textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1base}{base}}\& b)}
\DoxyCodeLine{3633 \{}
\DoxyCodeLine{3634     \mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}} writer\{stream\};}
\DoxyCodeLine{3635     b.\mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(writer);}
\DoxyCodeLine{3636     \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{3637 \}}
\DoxyCodeLine{3638 }
\DoxyCodeLine{3639 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{3640 std::ostream\& \mbox{\hyperlink{namespacecpptoml_a951b010028ceed661797173a0f9d995a}{operator<<}}(std::ostream\& stream, \textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1value}{value<T>}}\& v)}
\DoxyCodeLine{3641 \{}
\DoxyCodeLine{3642     \mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}} writer\{stream\};}
\DoxyCodeLine{3643     v.\mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(writer);}
\DoxyCodeLine{3644     \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{3645 \}}
\DoxyCodeLine{3646 }
\DoxyCodeLine{3647 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a951b010028ceed661797173a0f9d995a}{operator<<}}(std::ostream\& stream, \textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table}{table}}\& t)}
\DoxyCodeLine{3648 \{}
\DoxyCodeLine{3649     \mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}} writer\{stream\};}
\DoxyCodeLine{3650     t.\mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(writer);}
\DoxyCodeLine{3651     \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{3652 \}}
\DoxyCodeLine{3653 }
\DoxyCodeLine{3654 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a951b010028ceed661797173a0f9d995a}{operator<<}}(std::ostream\& stream, \textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1table__array}{table\_array}}\& t)}
\DoxyCodeLine{3655 \{}
\DoxyCodeLine{3656     \mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}} writer\{stream\};}
\DoxyCodeLine{3657     t.\mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(writer);}
\DoxyCodeLine{3658     \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{3659 \}}
\DoxyCodeLine{3660 }
\DoxyCodeLine{3661 \textcolor{keyword}{inline} std::ostream\& \mbox{\hyperlink{namespacecpptoml_a951b010028ceed661797173a0f9d995a}{operator<<}}(std::ostream\& stream, \textcolor{keyword}{const} \mbox{\hyperlink{classcpptoml_1_1array}{array}}\& a)}
\DoxyCodeLine{3662 \{}
\DoxyCodeLine{3663     \mbox{\hyperlink{classcpptoml_1_1toml__writer}{toml\_writer}} writer\{stream\};}
\DoxyCodeLine{3664     a.\mbox{\hyperlink{classcpptoml_1_1base_a640a95d826cfe2edddab493265e505d0}{accept}}(writer);}
\DoxyCodeLine{3665     \textcolor{keywordflow}{return} stream;}
\DoxyCodeLine{3666 \}}
\DoxyCodeLine{3667 \} \textcolor{comment}{// namespace cpptoml}}
\DoxyCodeLine{3668 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// CPPTOML\_H}}

\end{DoxyCode}
